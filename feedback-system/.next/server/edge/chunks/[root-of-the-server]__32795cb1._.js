(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["chunks/[root-of-the-server]__32795cb1._.js",28042,(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,s={},l={RequestCookies:()=>g,ResponseCookies:()=>m,parseCookie:()=>d,parseSetCookie:()=>p,stringifyCookie:()=>u};for(var c in l)n(s,c,{get:l[c],enumerable:!0});function u(e){var t;let r=["path"in e&&e.path&&`Path=${e.path}`,"expires"in e&&(e.expires||0===e.expires)&&`Expires=${("number"==typeof e.expires?new Date(e.expires):e.expires).toUTCString()}`,"maxAge"in e&&"number"==typeof e.maxAge&&`Max-Age=${e.maxAge}`,"domain"in e&&e.domain&&`Domain=${e.domain}`,"secure"in e&&e.secure&&"Secure","httpOnly"in e&&e.httpOnly&&"HttpOnly","sameSite"in e&&e.sameSite&&`SameSite=${e.sameSite}`,"partitioned"in e&&e.partitioned&&"Partitioned","priority"in e&&e.priority&&`Priority=${e.priority}`].filter(Boolean),n=`${e.name}=${encodeURIComponent(null!=(t=e.value)?t:"")}`;return 0===r.length?n:`${n}; ${r.join("; ")}`}function d(e){let t=new Map;for(let r of e.split(/; */)){if(!r)continue;let e=r.indexOf("=");if(-1===e){t.set(r,"true");continue}let[n,i]=[r.slice(0,e),r.slice(e+1)];try{t.set(n,decodeURIComponent(null!=i?i:"true"))}catch{}}return t}function p(e){if(!e)return;let[[t,r],...n]=d(e),{domain:i,expires:a,httponly:o,maxage:s,path:l,samesite:c,secure:u,partitioned:p,priority:g}=Object.fromEntries(n.map(([e,t])=>[e.toLowerCase().replace(/-/g,""),t]));{var m,y,b={name:t,value:decodeURIComponent(r),domain:i,...a&&{expires:new Date(a)},...o&&{httpOnly:!0},..."string"==typeof s&&{maxAge:Number(s)},path:l,...c&&{sameSite:h.includes(m=(m=c).toLowerCase())?m:void 0},...u&&{secure:!0},...g&&{priority:f.includes(y=(y=g).toLowerCase())?y:void 0},...p&&{partitioned:!0}};let e={};for(let t in b)b[t]&&(e[t]=b[t]);return e}}t.exports=((e,t,r,s)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of a(t))o.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(s=i(t,l))||s.enumerable});return e})(n({},"__esModule",{value:!0}),s);var h=["strict","lax","none"],f=["low","medium","high"],g=class{constructor(e){this._parsed=new Map,this._headers=e;const t=e.get("cookie");if(t)for(const[e,r]of d(t))this._parsed.set(e,{name:e,value:r})}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed);if(!e.length)return r.map(([e,t])=>t);let n="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(([e])=>e===n).map(([e,t])=>t)}has(e){return this._parsed.has(e)}set(...e){let[t,r]=1===e.length?[e[0].name,e[0].value]:e,n=this._parsed;return n.set(t,{name:t,value:r}),this._headers.set("cookie",Array.from(n).map(([e,t])=>u(t)).join("; ")),this}delete(e){let t=this._parsed,r=Array.isArray(e)?e.map(e=>t.delete(e)):t.delete(e);return this._headers.set("cookie",Array.from(t).map(([e,t])=>u(t)).join("; ")),r}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(e=>`${e.name}=${encodeURIComponent(e.value)}`).join("; ")}},m=class{constructor(e){var t,r,n;this._parsed=new Map,this._headers=e;const i=null!=(n=null!=(r=null==(t=e.getSetCookie)?void 0:t.call(e))?r:e.get("set-cookie"))?n:[];for(const e of Array.isArray(i)?i:function(e){if(!e)return[];var t,r,n,i,a,o=[],s=0;function l(){for(;s<e.length&&/\s/.test(e.charAt(s));)s+=1;return s<e.length}for(;s<e.length;){for(t=s,a=!1;l();)if(","===(r=e.charAt(s))){for(n=s,s+=1,l(),i=s;s<e.length&&"="!==(r=e.charAt(s))&&";"!==r&&","!==r;)s+=1;s<e.length&&"="===e.charAt(s)?(a=!0,s=i,o.push(e.substring(t,n)),t=s):s=n+1}else s+=1;(!a||s>=e.length)&&o.push(e.substring(t,e.length))}return o}(i)){const t=p(e);t&&this._parsed.set(t.name,t)}}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed.values());if(!e.length)return r;let n="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(e=>e.name===n)}has(e){return this._parsed.has(e)}set(...e){let[t,r,n]=1===e.length?[e[0].name,e[0].value,e[0]]:e,i=this._parsed;return i.set(t,function(e={name:"",value:""}){return"number"==typeof e.expires&&(e.expires=new Date(e.expires)),e.maxAge&&(e.expires=new Date(Date.now()+1e3*e.maxAge)),(null===e.path||void 0===e.path)&&(e.path="/"),e}({name:t,value:r,...n})),function(e,t){for(let[,r]of(t.delete("set-cookie"),e)){let e=u(r);t.append("set-cookie",e)}}(i,this._headers),this}delete(...e){let[t,r]="string"==typeof e[0]?[e[0]]:[e[0].name,e[0]];return this.set({...r,name:t,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(u).join("; ")}}},90044,e=>{"use strict";let t=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class r{disable(){throw t}getStore(){}run(){throw t}exit(){throw t}enterWith(){throw t}static bind(e){return e}}let n="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function i(){return n?new n:new r}function a(e){return n?n.bind(e):r.bind(e)}function o(){return n?n.snapshot():function(e,...t){return e(...t)}}e.s(["bindSnapshot",()=>a,"createAsyncLocalStorage",()=>i,"createSnapshot",()=>o])},59110,(e,t,r)=>{(()=>{"use strict";let r,n,i,a,o;var s,l,c,u,d,p,h,f,g,m,y,b,w,_,v,E,S={491:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContextAPI=void 0;let n=r(223),i=r(172),a=r(930),o="context",s=new n.NoopContextManager;class l{constructor(){}static getInstance(){return this._instance||(this._instance=new l),this._instance}setGlobalContextManager(e){return(0,i.registerGlobal)(o,e,a.DiagAPI.instance())}active(){return this._getContextManager().active()}with(e,t,r,...n){return this._getContextManager().with(e,t,r,...n)}bind(e,t){return this._getContextManager().bind(e,t)}_getContextManager(){return(0,i.getGlobal)(o)||s}disable(){this._getContextManager().disable(),(0,i.unregisterGlobal)(o,a.DiagAPI.instance())}}t.ContextAPI=l},930:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagAPI=void 0;let n=r(56),i=r(912),a=r(957),o=r(172);class s{constructor(){function e(e){return function(...t){let r=(0,o.getGlobal)("diag");if(r)return r[e](...t)}}const t=this;t.setLogger=(e,r={logLevel:a.DiagLogLevel.INFO})=>{var n,s,l;if(e===t){let e=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!=(n=e.stack)?n:e.message),!1}"number"==typeof r&&(r={logLevel:r});let c=(0,o.getGlobal)("diag"),u=(0,i.createLogLevelDiagLogger)(null!=(s=r.logLevel)?s:a.DiagLogLevel.INFO,e);if(c&&!r.suppressOverrideMessage){let e=null!=(l=Error().stack)?l:"<failed to generate stacktrace>";c.warn(`Current logger will be overwritten from ${e}`),u.warn(`Current logger will overwrite one already registered from ${e}`)}return(0,o.registerGlobal)("diag",u,t,!0)},t.disable=()=>{(0,o.unregisterGlobal)("diag",t)},t.createComponentLogger=e=>new n.DiagComponentLogger(e),t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}static instance(){return this._instance||(this._instance=new s),this._instance}}t.DiagAPI=s},653:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MetricsAPI=void 0;let n=r(660),i=r(172),a=r(930),o="metrics";class s{constructor(){}static getInstance(){return this._instance||(this._instance=new s),this._instance}setGlobalMeterProvider(e){return(0,i.registerGlobal)(o,e,a.DiagAPI.instance())}getMeterProvider(){return(0,i.getGlobal)(o)||n.NOOP_METER_PROVIDER}getMeter(e,t,r){return this.getMeterProvider().getMeter(e,t,r)}disable(){(0,i.unregisterGlobal)(o,a.DiagAPI.instance())}}t.MetricsAPI=s},181:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PropagationAPI=void 0;let n=r(172),i=r(874),a=r(194),o=r(277),s=r(369),l=r(930),c="propagation",u=new i.NoopTextMapPropagator;class d{constructor(){this.createBaggage=s.createBaggage,this.getBaggage=o.getBaggage,this.getActiveBaggage=o.getActiveBaggage,this.setBaggage=o.setBaggage,this.deleteBaggage=o.deleteBaggage}static getInstance(){return this._instance||(this._instance=new d),this._instance}setGlobalPropagator(e){return(0,n.registerGlobal)(c,e,l.DiagAPI.instance())}inject(e,t,r=a.defaultTextMapSetter){return this._getGlobalPropagator().inject(e,t,r)}extract(e,t,r=a.defaultTextMapGetter){return this._getGlobalPropagator().extract(e,t,r)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,n.unregisterGlobal)(c,l.DiagAPI.instance())}_getGlobalPropagator(){return(0,n.getGlobal)(c)||u}}t.PropagationAPI=d},997:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceAPI=void 0;let n=r(172),i=r(846),a=r(139),o=r(607),s=r(930),l="trace";class c{constructor(){this._proxyTracerProvider=new i.ProxyTracerProvider,this.wrapSpanContext=a.wrapSpanContext,this.isSpanContextValid=a.isSpanContextValid,this.deleteSpan=o.deleteSpan,this.getSpan=o.getSpan,this.getActiveSpan=o.getActiveSpan,this.getSpanContext=o.getSpanContext,this.setSpan=o.setSpan,this.setSpanContext=o.setSpanContext}static getInstance(){return this._instance||(this._instance=new c),this._instance}setGlobalTracerProvider(e){let t=(0,n.registerGlobal)(l,this._proxyTracerProvider,s.DiagAPI.instance());return t&&this._proxyTracerProvider.setDelegate(e),t}getTracerProvider(){return(0,n.getGlobal)(l)||this._proxyTracerProvider}getTracer(e,t){return this.getTracerProvider().getTracer(e,t)}disable(){(0,n.unregisterGlobal)(l,s.DiagAPI.instance()),this._proxyTracerProvider=new i.ProxyTracerProvider}}t.TraceAPI=c},277:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.deleteBaggage=t.setBaggage=t.getActiveBaggage=t.getBaggage=void 0;let n=r(491),i=(0,r(780).createContextKey)("OpenTelemetry Baggage Key");function a(e){return e.getValue(i)||void 0}t.getBaggage=a,t.getActiveBaggage=function(){return a(n.ContextAPI.getInstance().active())},t.setBaggage=function(e,t){return e.setValue(i,t)},t.deleteBaggage=function(e){return e.deleteValue(i)}},993:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaggageImpl=void 0;class r{constructor(e){this._entries=e?new Map(e):new Map}getEntry(e){let t=this._entries.get(e);if(t)return Object.assign({},t)}getAllEntries(){return Array.from(this._entries.entries()).map(([e,t])=>[e,t])}setEntry(e,t){let n=new r(this._entries);return n._entries.set(e,t),n}removeEntry(e){let t=new r(this._entries);return t._entries.delete(e),t}removeEntries(...e){let t=new r(this._entries);for(let r of e)t._entries.delete(r);return t}clear(){return new r}}t.BaggageImpl=r},830:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataSymbol=void 0,t.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")},369:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataFromString=t.createBaggage=void 0;let n=r(930),i=r(993),a=r(830),o=n.DiagAPI.instance();t.createBaggage=function(e={}){return new i.BaggageImpl(new Map(Object.entries(e)))},t.baggageEntryMetadataFromString=function(e){return"string"!=typeof e&&(o.error(`Cannot create baggage metadata from unknown type: ${typeof e}`),e=""),{__TYPE__:a.baggageEntryMetadataSymbol,toString:()=>e}}},67:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.context=void 0,t.context=r(491).ContextAPI.getInstance()},223:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopContextManager=void 0;let n=r(780);t.NoopContextManager=class{active(){return n.ROOT_CONTEXT}with(e,t,r,...n){return t.call(r,...n)}bind(e,t){return t}enable(){return this}disable(){return this}}},780:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ROOT_CONTEXT=t.createContextKey=void 0,t.createContextKey=function(e){return Symbol.for(e)};class r{constructor(e){const t=this;t._currentContext=e?new Map(e):new Map,t.getValue=e=>t._currentContext.get(e),t.setValue=(e,n)=>{let i=new r(t._currentContext);return i._currentContext.set(e,n),i},t.deleteValue=e=>{let n=new r(t._currentContext);return n._currentContext.delete(e),n}}}t.ROOT_CONTEXT=new r},506:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.diag=void 0,t.diag=r(930).DiagAPI.instance()},56:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagComponentLogger=void 0;let n=r(172);function i(e,t,r){let i=(0,n.getGlobal)("diag");if(i)return r.unshift(t),i[e](...r)}t.DiagComponentLogger=class{constructor(e){this._namespace=e.namespace||"DiagComponentLogger"}debug(...e){return i("debug",this._namespace,e)}error(...e){return i("error",this._namespace,e)}info(...e){return i("info",this._namespace,e)}warn(...e){return i("warn",this._namespace,e)}verbose(...e){return i("verbose",this._namespace,e)}}},972:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagConsoleLogger=void 0;let r=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];t.DiagConsoleLogger=class{constructor(){for(let e=0;e<r.length;e++)this[r[e].n]=function(e){return function(...t){if(console){let r=console[e];if("function"!=typeof r&&(r=console.log),"function"==typeof r)return r.apply(console,t)}}}(r[e].c)}}},912:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createLogLevelDiagLogger=void 0;let n=r(957);t.createLogLevelDiagLogger=function(e,t){function r(r,n){let i=t[r];return"function"==typeof i&&e>=n?i.bind(t):function(){}}return e<n.DiagLogLevel.NONE?e=n.DiagLogLevel.NONE:e>n.DiagLogLevel.ALL&&(e=n.DiagLogLevel.ALL),t=t||{},{error:r("error",n.DiagLogLevel.ERROR),warn:r("warn",n.DiagLogLevel.WARN),info:r("info",n.DiagLogLevel.INFO),debug:r("debug",n.DiagLogLevel.DEBUG),verbose:r("verbose",n.DiagLogLevel.VERBOSE)}}},957:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.DiagLogLevel=void 0,(r=t.DiagLogLevel||(t.DiagLogLevel={}))[r.NONE=0]="NONE",r[r.ERROR=30]="ERROR",r[r.WARN=50]="WARN",r[r.INFO=60]="INFO",r[r.DEBUG=70]="DEBUG",r[r.VERBOSE=80]="VERBOSE",r[r.ALL=9999]="ALL"},172:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.unregisterGlobal=t.getGlobal=t.registerGlobal=void 0;let n=r(200),i=r(521),a=r(130),o=i.VERSION.split(".")[0],s=Symbol.for(`opentelemetry.js.api.${o}`),l=n._globalThis;t.registerGlobal=function(e,t,r,n=!1){var a;let o=l[s]=null!=(a=l[s])?a:{version:i.VERSION};if(!n&&o[e]){let t=Error(`@opentelemetry/api: Attempted duplicate registration of API: ${e}`);return r.error(t.stack||t.message),!1}if(o.version!==i.VERSION){let t=Error(`@opentelemetry/api: Registration of version v${o.version} for ${e} does not match previously registered API v${i.VERSION}`);return r.error(t.stack||t.message),!1}return o[e]=t,r.debug(`@opentelemetry/api: Registered a global for ${e} v${i.VERSION}.`),!0},t.getGlobal=function(e){var t,r;let n=null==(t=l[s])?void 0:t.version;if(n&&(0,a.isCompatible)(n))return null==(r=l[s])?void 0:r[e]},t.unregisterGlobal=function(e,t){t.debug(`@opentelemetry/api: Unregistering a global for ${e} v${i.VERSION}.`);let r=l[s];r&&delete r[e]}},130:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isCompatible=t._makeCompatibilityCheck=void 0;let n=r(521),i=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function a(e){let t=new Set([e]),r=new Set,n=e.match(i);if(!n)return()=>!1;let a={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(null!=a.prerelease)return function(t){return t===e};function o(e){return r.add(e),!1}return function(e){if(t.has(e))return!0;if(r.has(e))return!1;let n=e.match(i);if(!n)return o(e);let s={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(null!=s.prerelease||a.major!==s.major)return o(e);if(0===a.major)return a.minor===s.minor&&a.patch<=s.patch?(t.add(e),!0):o(e);return a.minor<=s.minor?(t.add(e),!0):o(e)}}t._makeCompatibilityCheck=a,t.isCompatible=a(n.VERSION)},886:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.metrics=void 0,t.metrics=r(653).MetricsAPI.getInstance()},901:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ValueType=void 0,(r=t.ValueType||(t.ValueType={}))[r.INT=0]="INT",r[r.DOUBLE=1]="DOUBLE"},102:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createNoopMeter=t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=t.NOOP_OBSERVABLE_GAUGE_METRIC=t.NOOP_OBSERVABLE_COUNTER_METRIC=t.NOOP_UP_DOWN_COUNTER_METRIC=t.NOOP_HISTOGRAM_METRIC=t.NOOP_COUNTER_METRIC=t.NOOP_METER=t.NoopObservableUpDownCounterMetric=t.NoopObservableGaugeMetric=t.NoopObservableCounterMetric=t.NoopObservableMetric=t.NoopHistogramMetric=t.NoopUpDownCounterMetric=t.NoopCounterMetric=t.NoopMetric=t.NoopMeter=void 0;class r{constructor(){}createHistogram(e,r){return t.NOOP_HISTOGRAM_METRIC}createCounter(e,r){return t.NOOP_COUNTER_METRIC}createUpDownCounter(e,r){return t.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(e,r){return t.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(e,r){return t.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(e,r){return t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(e,t){}removeBatchObservableCallback(e){}}t.NoopMeter=r;class n{}t.NoopMetric=n;class i extends n{add(e,t){}}t.NoopCounterMetric=i;class a extends n{add(e,t){}}t.NoopUpDownCounterMetric=a;class o extends n{record(e,t){}}t.NoopHistogramMetric=o;class s{addCallback(e){}removeCallback(e){}}t.NoopObservableMetric=s;class l extends s{}t.NoopObservableCounterMetric=l;class c extends s{}t.NoopObservableGaugeMetric=c;class u extends s{}t.NoopObservableUpDownCounterMetric=u,t.NOOP_METER=new r,t.NOOP_COUNTER_METRIC=new i,t.NOOP_HISTOGRAM_METRIC=new o,t.NOOP_UP_DOWN_COUNTER_METRIC=new a,t.NOOP_OBSERVABLE_COUNTER_METRIC=new l,t.NOOP_OBSERVABLE_GAUGE_METRIC=new c,t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new u,t.createNoopMeter=function(){return t.NOOP_METER}},660:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NOOP_METER_PROVIDER=t.NoopMeterProvider=void 0;let n=r(102);class i{getMeter(e,t,r){return n.NOOP_METER}}t.NoopMeterProvider=i,t.NOOP_METER_PROVIDER=new i},200:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(46),t)},651:(t,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r._globalThis=void 0,r._globalThis="object"==typeof globalThis?globalThis:e.g},46:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(651),t)},939:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.propagation=void 0,t.propagation=r(181).PropagationAPI.getInstance()},874:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTextMapPropagator=void 0,t.NoopTextMapPropagator=class{inject(e,t){}extract(e,t){return e}fields(){return[]}}},194:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defaultTextMapSetter=t.defaultTextMapGetter=void 0,t.defaultTextMapGetter={get(e,t){if(null!=e)return e[t]},keys:e=>null==e?[]:Object.keys(e)},t.defaultTextMapSetter={set(e,t,r){null!=e&&(e[t]=r)}}},845:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.trace=void 0,t.trace=r(997).TraceAPI.getInstance()},403:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NonRecordingSpan=void 0;let n=r(476);t.NonRecordingSpan=class{constructor(e=n.INVALID_SPAN_CONTEXT){this._spanContext=e}spanContext(){return this._spanContext}setAttribute(e,t){return this}setAttributes(e){return this}addEvent(e,t){return this}setStatus(e){return this}updateName(e){return this}end(e){}isRecording(){return!1}recordException(e,t){}}},614:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracer=void 0;let n=r(491),i=r(607),a=r(403),o=r(139),s=n.ContextAPI.getInstance();t.NoopTracer=class{startSpan(e,t,r=s.active()){var n;if(null==t?void 0:t.root)return new a.NonRecordingSpan;let l=r&&(0,i.getSpanContext)(r);return"object"==typeof(n=l)&&"string"==typeof n.spanId&&"string"==typeof n.traceId&&"number"==typeof n.traceFlags&&(0,o.isSpanContextValid)(l)?new a.NonRecordingSpan(l):new a.NonRecordingSpan}startActiveSpan(e,t,r,n){let a,o,l;if(arguments.length<2)return;2==arguments.length?l=t:3==arguments.length?(a=t,l=r):(a=t,o=r,l=n);let c=null!=o?o:s.active(),u=this.startSpan(e,a,c),d=(0,i.setSpan)(c,u);return s.with(d,l,void 0,u)}}},124:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracerProvider=void 0;let n=r(614);t.NoopTracerProvider=class{getTracer(e,t,r){return new n.NoopTracer}}},125:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracer=void 0;let n=new(r(614)).NoopTracer;t.ProxyTracer=class{constructor(e,t,r,n){this._provider=e,this.name=t,this.version=r,this.options=n}startSpan(e,t,r){return this._getTracer().startSpan(e,t,r)}startActiveSpan(e,t,r,n){let i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)}_getTracer(){if(this._delegate)return this._delegate;let e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):n}}},846:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracerProvider=void 0;let n=r(125),i=new(r(124)).NoopTracerProvider;t.ProxyTracerProvider=class{getTracer(e,t,r){var i;return null!=(i=this.getDelegateTracer(e,t,r))?i:new n.ProxyTracer(this,e,t,r)}getDelegate(){var e;return null!=(e=this._delegate)?e:i}setDelegate(e){this._delegate=e}getDelegateTracer(e,t,r){var n;return null==(n=this._delegate)?void 0:n.getTracer(e,t,r)}}},996:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SamplingDecision=void 0,(r=t.SamplingDecision||(t.SamplingDecision={}))[r.NOT_RECORD=0]="NOT_RECORD",r[r.RECORD=1]="RECORD",r[r.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"},607:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getSpanContext=t.setSpanContext=t.deleteSpan=t.setSpan=t.getActiveSpan=t.getSpan=void 0;let n=r(780),i=r(403),a=r(491),o=(0,n.createContextKey)("OpenTelemetry Context Key SPAN");function s(e){return e.getValue(o)||void 0}function l(e,t){return e.setValue(o,t)}t.getSpan=s,t.getActiveSpan=function(){return s(a.ContextAPI.getInstance().active())},t.setSpan=l,t.deleteSpan=function(e){return e.deleteValue(o)},t.setSpanContext=function(e,t){return l(e,new i.NonRecordingSpan(t))},t.getSpanContext=function(e){var t;return null==(t=s(e))?void 0:t.spanContext()}},325:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceStateImpl=void 0;let n=r(564);class i{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+"="+this.get(t)),e),[]).join(",")}_parse(e){!(e.length>512)&&(this._internalState=e.split(",").reverse().reduce((e,t)=>{let r=t.trim(),i=r.indexOf("=");if(-1!==i){let a=r.slice(0,i),o=r.slice(i+1,t.length);(0,n.validateKey)(a)&&(0,n.validateValue)(o)&&e.set(a,o)}return e},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new i;return e._internalState=new Map(this._internalState),e}}t.TraceStateImpl=i},564:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateValue=t.validateKey=void 0;let r="[_0-9a-z-*/]",n=`[a-z]${r}{0,255}`,i=`[a-z0-9]${r}{0,240}@[a-z]${r}{0,13}`,a=RegExp(`^(?:${n}|${i})$`),o=/^[ -~]{0,255}[!-~]$/,s=/,|=/;t.validateKey=function(e){return a.test(e)},t.validateValue=function(e){return o.test(e)&&!s.test(e)}},98:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createTraceState=void 0;let n=r(325);t.createTraceState=function(e){return new n.TraceStateImpl(e)}},476:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.INVALID_SPAN_CONTEXT=t.INVALID_TRACEID=t.INVALID_SPANID=void 0;let n=r(475);t.INVALID_SPANID="0000000000000000",t.INVALID_TRACEID="00000000000000000000000000000000",t.INVALID_SPAN_CONTEXT={traceId:t.INVALID_TRACEID,spanId:t.INVALID_SPANID,traceFlags:n.TraceFlags.NONE}},357:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SpanKind=void 0,(r=t.SpanKind||(t.SpanKind={}))[r.INTERNAL=0]="INTERNAL",r[r.SERVER=1]="SERVER",r[r.CLIENT=2]="CLIENT",r[r.PRODUCER=3]="PRODUCER",r[r.CONSUMER=4]="CONSUMER"},139:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.wrapSpanContext=t.isSpanContextValid=t.isValidSpanId=t.isValidTraceId=void 0;let n=r(476),i=r(403),a=/^([0-9a-f]{32})$/i,o=/^[0-9a-f]{16}$/i;function s(e){return a.test(e)&&e!==n.INVALID_TRACEID}function l(e){return o.test(e)&&e!==n.INVALID_SPANID}t.isValidTraceId=s,t.isValidSpanId=l,t.isSpanContextValid=function(e){return s(e.traceId)&&l(e.spanId)},t.wrapSpanContext=function(e){return new i.NonRecordingSpan(e)}},847:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SpanStatusCode=void 0,(r=t.SpanStatusCode||(t.SpanStatusCode={}))[r.UNSET=0]="UNSET",r[r.OK=1]="OK",r[r.ERROR=2]="ERROR"},475:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.TraceFlags=void 0,(r=t.TraceFlags||(t.TraceFlags={}))[r.NONE=0]="NONE",r[r.SAMPLED=1]="SAMPLED"},521:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="1.6.0"}},x={};function k(e){var t=x[e];if(void 0!==t)return t.exports;var r=x[e]={exports:{}},n=!0;try{S[e].call(r.exports,r,r.exports,k),n=!1}finally{n&&delete x[e]}return r.exports}k.ab="/ROOT/node_modules/next/dist/compiled/@opentelemetry/api/";var P={};Object.defineProperty(P,"__esModule",{value:!0}),P.trace=P.propagation=P.metrics=P.diag=P.context=P.INVALID_SPAN_CONTEXT=P.INVALID_TRACEID=P.INVALID_SPANID=P.isValidSpanId=P.isValidTraceId=P.isSpanContextValid=P.createTraceState=P.TraceFlags=P.SpanStatusCode=P.SpanKind=P.SamplingDecision=P.ProxyTracerProvider=P.ProxyTracer=P.defaultTextMapSetter=P.defaultTextMapGetter=P.ValueType=P.createNoopMeter=P.DiagLogLevel=P.DiagConsoleLogger=P.ROOT_CONTEXT=P.createContextKey=P.baggageEntryMetadataFromString=void 0,s=k(369),Object.defineProperty(P,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return s.baggageEntryMetadataFromString}}),l=k(780),Object.defineProperty(P,"createContextKey",{enumerable:!0,get:function(){return l.createContextKey}}),Object.defineProperty(P,"ROOT_CONTEXT",{enumerable:!0,get:function(){return l.ROOT_CONTEXT}}),c=k(972),Object.defineProperty(P,"DiagConsoleLogger",{enumerable:!0,get:function(){return c.DiagConsoleLogger}}),u=k(957),Object.defineProperty(P,"DiagLogLevel",{enumerable:!0,get:function(){return u.DiagLogLevel}}),d=k(102),Object.defineProperty(P,"createNoopMeter",{enumerable:!0,get:function(){return d.createNoopMeter}}),p=k(901),Object.defineProperty(P,"ValueType",{enumerable:!0,get:function(){return p.ValueType}}),h=k(194),Object.defineProperty(P,"defaultTextMapGetter",{enumerable:!0,get:function(){return h.defaultTextMapGetter}}),Object.defineProperty(P,"defaultTextMapSetter",{enumerable:!0,get:function(){return h.defaultTextMapSetter}}),f=k(125),Object.defineProperty(P,"ProxyTracer",{enumerable:!0,get:function(){return f.ProxyTracer}}),g=k(846),Object.defineProperty(P,"ProxyTracerProvider",{enumerable:!0,get:function(){return g.ProxyTracerProvider}}),m=k(996),Object.defineProperty(P,"SamplingDecision",{enumerable:!0,get:function(){return m.SamplingDecision}}),y=k(357),Object.defineProperty(P,"SpanKind",{enumerable:!0,get:function(){return y.SpanKind}}),b=k(847),Object.defineProperty(P,"SpanStatusCode",{enumerable:!0,get:function(){return b.SpanStatusCode}}),w=k(475),Object.defineProperty(P,"TraceFlags",{enumerable:!0,get:function(){return w.TraceFlags}}),_=k(98),Object.defineProperty(P,"createTraceState",{enumerable:!0,get:function(){return _.createTraceState}}),v=k(139),Object.defineProperty(P,"isSpanContextValid",{enumerable:!0,get:function(){return v.isSpanContextValid}}),Object.defineProperty(P,"isValidTraceId",{enumerable:!0,get:function(){return v.isValidTraceId}}),Object.defineProperty(P,"isValidSpanId",{enumerable:!0,get:function(){return v.isValidSpanId}}),E=k(476),Object.defineProperty(P,"INVALID_SPANID",{enumerable:!0,get:function(){return E.INVALID_SPANID}}),Object.defineProperty(P,"INVALID_TRACEID",{enumerable:!0,get:function(){return E.INVALID_TRACEID}}),Object.defineProperty(P,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return E.INVALID_SPAN_CONTEXT}}),r=k(67),Object.defineProperty(P,"context",{enumerable:!0,get:function(){return r.context}}),n=k(506),Object.defineProperty(P,"diag",{enumerable:!0,get:function(){return n.diag}}),i=k(886),Object.defineProperty(P,"metrics",{enumerable:!0,get:function(){return i.metrics}}),a=k(939),Object.defineProperty(P,"propagation",{enumerable:!0,get:function(){return a.propagation}}),o=k(845),Object.defineProperty(P,"trace",{enumerable:!0,get:function(){return o.trace}}),P.default={context:r.context,diag:n.diag,metrics:i.metrics,propagation:a.propagation,trace:o.trace},t.exports=P})()},71498,(e,t,r)=>{(()=>{"use strict";"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab="/ROOT/node_modules/next/dist/compiled/cookie/");var e,r,n,i,a={};a.parse=function(t,r){if("string"!=typeof t)throw TypeError("argument str must be a string");for(var i={},a=t.split(n),o=(r||{}).decode||e,s=0;s<a.length;s++){var l=a[s],c=l.indexOf("=");if(!(c<0)){var u=l.substr(0,c).trim(),d=l.substr(++c,l.length).trim();'"'==d[0]&&(d=d.slice(1,-1)),void 0==i[u]&&(i[u]=function(e,t){try{return t(e)}catch(t){return e}}(d,o))}}return i},a.serialize=function(e,t,n){var a=n||{},o=a.encode||r;if("function"!=typeof o)throw TypeError("option encode is invalid");if(!i.test(e))throw TypeError("argument name is invalid");var s=o(t);if(s&&!i.test(s))throw TypeError("argument val is invalid");var l=e+"="+s;if(null!=a.maxAge){var c=a.maxAge-0;if(isNaN(c)||!isFinite(c))throw TypeError("option maxAge is invalid");l+="; Max-Age="+Math.floor(c)}if(a.domain){if(!i.test(a.domain))throw TypeError("option domain is invalid");l+="; Domain="+a.domain}if(a.path){if(!i.test(a.path))throw TypeError("option path is invalid");l+="; Path="+a.path}if(a.expires){if("function"!=typeof a.expires.toUTCString)throw TypeError("option expires is invalid");l+="; Expires="+a.expires.toUTCString()}if(a.httpOnly&&(l+="; HttpOnly"),a.secure&&(l+="; Secure"),a.sameSite)switch("string"==typeof a.sameSite?a.sameSite.toLowerCase():a.sameSite){case!0:case"strict":l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"none":l+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return l},e=decodeURIComponent,r=encodeURIComponent,n=/; */,i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,t.exports=a})()},99734,(e,t,r)=>{(()=>{"use strict";let e,r,n,i,a;var o={993:e=>{var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function a(e,t,n,a,o){if("function"!=typeof n)throw TypeError("The listener must be a function");var s=new i(n,a||e,o),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function o(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),s.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,a=n.length,o=Array(a);i<a;i++)o[i]=n[i].fn;return o},s.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},s.prototype.emit=function(e,t,n,i,a,o){var s=r?r+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,i),!0;case 5:return u.fn.call(u.context,t,n,i,a),!0;case 6:return u.fn.call(u.context,t,n,i,a,o),!0}for(c=1,l=Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var p,h=u.length;for(c=0;c<h;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,n);break;case 4:u[c].fn.call(u[c].context,t,n,i);break;default:if(!l)for(p=1,l=Array(d-1);p<d;p++)l[p-1]=arguments[p];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,r){return a(this,e,t,r,!1)},s.prototype.once=function(e,t,r){return a(this,e,t,r,!0)},s.prototype.removeListener=function(e,t,n,i){var a=r?r+e:e;if(!this._events[a])return this;if(!t)return o(this,a),this;var s=this._events[a];if(s.fn)s.fn!==t||i&&!s.once||n&&s.context!==n||o(this,a);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||i&&!s[l].once||n&&s[l].context!==n)&&c.push(s[l]);c.length?this._events[a]=1===c.length?c[0]:c:o(this,a)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&o(this,t)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s},213:e=>{e.exports=(e,t)=>(t=t||(()=>{}),e.then(e=>new Promise(e=>{e(t())}).then(()=>e),e=>new Promise(e=>{e(t())}).then(()=>{throw e})))},574:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){let n=0,i=e.length;for(;i>0;){let a=i/2|0,o=n+a;0>=r(e[o],t)?(n=++o,i-=a+1):i=a}return n}},821:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});let n=r(574);t.default=class{constructor(){this._queue=[]}enqueue(e,t){let r={priority:(t=Object.assign({priority:0},t)).priority,run:e};if(this.size&&this._queue[this.size-1].priority>=t.priority)return void this._queue.push(r);let i=n.default(this._queue,r,(e,t)=>t.priority-e.priority);this._queue.splice(i,0,r)}dequeue(){let e=this._queue.shift();return null==e?void 0:e.run}filter(e){return this._queue.filter(t=>t.priority===e.priority).map(e=>e.run)}get size(){return this._queue.length}}},816:(e,t,r)=>{let n=r(213);class i extends Error{constructor(e){super(e),this.name="TimeoutError"}}let a=(e,t,r)=>new Promise((a,o)=>{if("number"!=typeof t||t<0)throw TypeError("Expected `milliseconds` to be a positive number");if(t===1/0)return void a(e);let s=setTimeout(()=>{if("function"==typeof r){try{a(r())}catch(e){o(e)}return}let n="string"==typeof r?r:`Promise timed out after ${t} milliseconds`,s=r instanceof Error?r:new i(n);"function"==typeof e.cancel&&e.cancel(),o(s)},t);n(e.then(a,o),()=>{clearTimeout(s)})});e.exports=a,e.exports.default=a,e.exports.TimeoutError=i}},s={};function l(e){var t=s[e];if(void 0!==t)return t.exports;var r=s[e]={exports:{}},n=!0;try{o[e](r,r.exports,l),n=!1}finally{n&&delete s[e]}return r.exports}l.ab="/ROOT/node_modules/next/dist/compiled/p-queue/";var c={};Object.defineProperty(c,"__esModule",{value:!0}),e=l(993),r=l(816),n=l(821),i=()=>{},a=new r.TimeoutError,c.default=class extends e{constructor(e){var t,r,a,o;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=i,this._resolveIdle=i,!("number"==typeof(e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:n.default},e)).intervalCap&&e.intervalCap>=1))throw TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!=(r=null==(t=e.intervalCap)?void 0:t.toString())?r:""}\` (${typeof e.intervalCap})`);if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!=(o=null==(a=e.interval)?void 0:a.toString())?o:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||0===e.interval,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=!0===e.throwOnTimeout,this._isPaused=!1===e.autoStart}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=i,0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=i,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let e=Date.now();if(void 0===this._intervalId){let t=this._intervalEnd-e;if(!(t<0))return void 0===this._timeoutId&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},t)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(0===this._queue.size)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let t=this._queue.dequeue();return!!t&&(this.emit("active"),t(),e&&this._initializeIntervalIfNeeded(),!0)}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||void 0!==this._intervalId||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){0===this._intervalCount&&0===this._pendingCount&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!("number"==typeof e&&e>=1))throw TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e,t={}){return new Promise((n,i)=>{let o=async()=>{this._pendingCount++,this._intervalCount++;try{let o=void 0===this._timeout&&void 0===t.timeout?e():r.default(Promise.resolve(e()),void 0===t.timeout?this._timeout:t.timeout,()=>{(void 0===t.throwOnTimeout?this._throwOnTimeout:t.throwOnTimeout)&&i(a)});n(await o)}catch(e){i(e)}this._next()};this._queue.enqueue(o,t),this._tryToStartAnother(),this.emit("add")})}async addAll(e,t){return Promise.all(e.map(async e=>this.add(e,t)))}start(){return this._isPaused&&(this._isPaused=!1,this._processQueue()),this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(0!==this._queue.size)return new Promise(e=>{let t=this._resolveEmpty;this._resolveEmpty=()=>{t(),e()}})}async onIdle(){if(0!==this._pendingCount||0!==this._queue.size)return new Promise(e=>{let t=this._resolveIdle;this._resolveIdle=()=>{t(),e()}})}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}},t.exports=c})()},51615,(e,t,r)=>{t.exports=e.x("node:buffer",()=>require("node:buffer"))},78500,(e,t,r)=>{t.exports=e.x("node:async_hooks",()=>require("node:async_hooks"))},25085,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={getTestReqInfo:function(){return l},withRequest:function(){return s}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let a=new(e.r(78500)).AsyncLocalStorage;function o(e,t){let r=t.header(e,"next-test-proxy-port");if(!r)return;let n=t.url(e);return{url:n,proxyPort:Number(r),testData:t.header(e,"next-test-data")||""}}function s(e,t,r){let n=o(e,t);return n?a.run(n,r):r()}function l(e,t){let r=a.getStore();return r||(e&&t?o(e,t):void 0)}},28325,(e,t,r)=>{"use strict";var n=e.i(51615);Object.defineProperty(r,"__esModule",{value:!0});var i={handleFetch:function(){return c},interceptFetch:function(){return u},reader:function(){return s}};for(var a in i)Object.defineProperty(r,a,{enumerable:!0,get:i[a]});let o=e.r(25085),s={url:e=>e.url,header:(e,t)=>e.headers.get(t)};async function l(e,t){let{url:r,method:i,headers:a,body:o,cache:s,credentials:l,integrity:c,mode:u,redirect:d,referrer:p,referrerPolicy:h}=t;return{testData:e,api:"fetch",request:{url:r,method:i,headers:[...Array.from(a),["next-test-stack",function(){let e=(Error().stack??"").split("\n");for(let t=1;t<e.length;t++)if(e[t].length>0){e=e.slice(t);break}return(e=(e=(e=e.filter(e=>!e.includes("/next/dist/"))).slice(0,5)).map(e=>e.replace("webpack-internal:///(rsc)/","").trim())).join("    ")}()]],body:o?n.Buffer.from(await t.arrayBuffer()).toString("base64"):null,cache:s,credentials:l,integrity:c,mode:u,redirect:d,referrer:p,referrerPolicy:h}}}async function c(e,t){let r=(0,o.getTestReqInfo)(t,s);if(!r)return e(t);let{testData:i,proxyPort:a}=r,c=await l(i,t),u=await e(`http://localhost:${a}`,{method:"POST",body:JSON.stringify(c),next:{internal:!0}});if(!u.ok)throw Object.defineProperty(Error(`Proxy request failed: ${u.status}`),"__NEXT_ERROR_CODE",{value:"E146",enumerable:!1,configurable:!0});let d=await u.json(),{api:p}=d;switch(p){case"continue":return e(t);case"abort":case"unhandled":throw Object.defineProperty(Error(`Proxy request aborted [${t.method} ${t.url}]`),"__NEXT_ERROR_CODE",{value:"E145",enumerable:!1,configurable:!0});case"fetch":return function(e){let{status:t,headers:r,body:i}=e.response;return new Response(i?n.Buffer.from(i,"base64"):null,{status:t,headers:new Headers(r)})}(d);default:return p}}function u(t){return e.g.fetch=function(e,r){var n;return(null==r||null==(n=r.next)?void 0:n.internal)?t(e,r):c(t,new Request(e,r))},()=>{e.g.fetch=t}}},94165,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={interceptTestApis:function(){return s},wrapRequestHandler:function(){return l}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let a=e.r(25085),o=e.r(28325);function s(){return(0,o.interceptFetch)(e.g.fetch)}function l(e){return(t,r)=>(0,a.withRequest)(t,o.reader,()=>e(t,r))}},64445,(e,t,r)=>{var n={226:function(t,r){!function(n,i){"use strict";var a="function",o="undefined",s="object",l="string",c="major",u="model",d="name",p="type",h="vendor",f="version",g="architecture",m="console",y="mobile",b="tablet",w="smarttv",_="wearable",v="embedded",E="Amazon",S="Apple",x="ASUS",k="BlackBerry",P="Browser",A="Chrome",R="Firefox",T="Google",O="Huawei",C="Microsoft",N="Motorola",I="Opera",$="Samsung",U="Sharp",D="Sony",j="Xiaomi",M="Zebra",L="Facebook",q="Chromium OS",H="Mac OS",F=function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r},V=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},B=function(e,t){return typeof e===l&&-1!==W(t).indexOf(W(e))},W=function(e){return e.toLowerCase()},K=function(e,t){if(typeof e===l)return e=e.replace(/^\s\s*/,""),typeof t===o?e:e.substring(0,350)},J=function(e,t){for(var r,n,i,o,l,c,u=0;u<t.length&&!l;){var d=t[u],p=t[u+1];for(r=n=0;r<d.length&&!l&&d[r];)if(l=d[r++].exec(e))for(i=0;i<p.length;i++)c=l[++n],typeof(o=p[i])===s&&o.length>0?2===o.length?typeof o[1]==a?this[o[0]]=o[1].call(this,c):this[o[0]]=o[1]:3===o.length?typeof o[1]!==a||o[1].exec&&o[1].test?this[o[0]]=c?c.replace(o[1],o[2]):void 0:this[o[0]]=c?o[1].call(this,c,o[2]):void 0:4===o.length&&(this[o[0]]=c?o[3].call(this,c.replace(o[1],o[2])):void 0):this[o]=c||void 0;u+=2}},z=function(e,t){for(var r in t)if(typeof t[r]===s&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(B(t[r][n],e))return"?"===r?void 0:r}else if(B(t[r],e))return"?"===r?void 0:r;return e},G={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},X={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[f,[d,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[f,[d,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[d,f],[/opios[\/ ]+([\w\.]+)/i],[f,[d,I+" Mini"]],[/\bopr\/([\w\.]+)/i],[f,[d,I]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[d,f],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[f,[d,"UC"+P]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[f,[d,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[f,[d,"WeChat"]],[/konqueror\/([\w\.]+)/i],[f,[d,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[f,[d,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[f,[d,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[d,/(.+)/,"$1 Secure "+P],f],[/\bfocus\/([\w\.]+)/i],[f,[d,R+" Focus"]],[/\bopt\/([\w\.]+)/i],[f,[d,I+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[f,[d,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[f,[d,"Dolphin"]],[/coast\/([\w\.]+)/i],[f,[d,I+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[f,[d,"MIUI "+P]],[/fxios\/([-\w\.]+)/i],[f,[d,R]],[/\bqihu|(qi?ho?o?|360)browser/i],[[d,"360 "+P]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[d,/(.+)/,"$1 "+P],f],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],f],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[d,f],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[d],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[d,L],f],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[d,f],[/\bgsa\/([\w\.]+) .*safari\//i],[f,[d,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[f,[d,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[f,[d,A+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[d,A+" WebView"],f],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[f,[d,"Android "+P]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[d,f],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[f,[d,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[f,d],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[d,[f,z,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[d,f],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[d,"Netscape"],f],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[f,[d,R+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[d,f],[/(cobalt)\/([\w\.]+)/i],[d,[f,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,W]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[g,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[g,"armhf"]],[/windows (ce|mobile); ppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[g,/ower/,"",W]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[g,W]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[u,[h,$],[p,b]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[u,[h,$],[p,y]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[u,[h,S],[p,y]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[u,[h,S],[p,b]],[/(macintosh);/i],[u,[h,S]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[u,[h,U],[p,y]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[u,[h,O],[p,b]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[u,[h,O],[p,y]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[u,/_/g," "],[h,j],[p,y]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[u,/_/g," "],[h,j],[p,b]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[u,[h,"OPPO"],[p,y]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[u,[h,"Vivo"],[p,y]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[u,[h,"Realme"],[p,y]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[u,[h,N],[p,y]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[u,[h,N],[p,b]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[u,[h,"LG"],[p,b]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[u,[h,"LG"],[p,y]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[u,[h,"Lenovo"],[p,b]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[u,/_/g," "],[h,"Nokia"],[p,y]],[/(pixel c)\b/i],[u,[h,T],[p,b]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[u,[h,T],[p,y]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[u,[h,D],[p,y]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[u,"Xperia Tablet"],[h,D],[p,b]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[u,[h,"OnePlus"],[p,y]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[u,[h,E],[p,b]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[u,/(.+)/g,"Fire Phone $1"],[h,E],[p,y]],[/(playbook);[-\w\),; ]+(rim)/i],[u,h,[p,b]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[u,[h,k],[p,y]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[u,[h,x],[p,b]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[u,[h,x],[p,y]],[/(nexus 9)/i],[u,[h,"HTC"],[p,b]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[h,[u,/_/g," "],[p,y]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[u,[h,"Acer"],[p,b]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[u,[h,"Meizu"],[p,y]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[h,u,[p,y]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h,u,[p,b]],[/(surface duo)/i],[u,[h,C],[p,b]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[u,[h,"Fairphone"],[p,y]],[/(u304aa)/i],[u,[h,"AT&T"],[p,y]],[/\bsie-(\w*)/i],[u,[h,"Siemens"],[p,y]],[/\b(rct\w+) b/i],[u,[h,"RCA"],[p,b]],[/\b(venue[\d ]{2,7}) b/i],[u,[h,"Dell"],[p,b]],[/\b(q(?:mv|ta)\w+) b/i],[u,[h,"Verizon"],[p,b]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[u,[h,"Barnes & Noble"],[p,b]],[/\b(tm\d{3}\w+) b/i],[u,[h,"NuVision"],[p,b]],[/\b(k88) b/i],[u,[h,"ZTE"],[p,b]],[/\b(nx\d{3}j) b/i],[u,[h,"ZTE"],[p,y]],[/\b(gen\d{3}) b.+49h/i],[u,[h,"Swiss"],[p,y]],[/\b(zur\d{3}) b/i],[u,[h,"Swiss"],[p,b]],[/\b((zeki)?tb.*\b) b/i],[u,[h,"Zeki"],[p,b]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h,"Dragon Touch"],u,[p,b]],[/\b(ns-?\w{0,9}) b/i],[u,[h,"Insignia"],[p,b]],[/\b((nxa|next)-?\w{0,9}) b/i],[u,[h,"NextBook"],[p,b]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,"Voice"],u,[p,y]],[/\b(lvtel\-)?(v1[12]) b/i],[[h,"LvTel"],u,[p,y]],[/\b(ph-1) /i],[u,[h,"Essential"],[p,y]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[u,[h,"Envizen"],[p,b]],[/\b(trio[-\w\. ]+) b/i],[u,[h,"MachSpeed"],[p,b]],[/\btu_(1491) b/i],[u,[h,"Rotor"],[p,b]],[/(shield[\w ]+) b/i],[u,[h,"Nvidia"],[p,b]],[/(sprint) (\w+)/i],[h,u,[p,y]],[/(kin\.[onetw]{3})/i],[[u,/\./g," "],[h,C],[p,y]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[u,[h,M],[p,b]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[u,[h,M],[p,y]],[/smart-tv.+(samsung)/i],[h,[p,w]],[/hbbtv.+maple;(\d+)/i],[[u,/^/,"SmartTV"],[h,$],[p,w]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h,"LG"],[p,w]],[/(apple) ?tv/i],[h,[u,S+" TV"],[p,w]],[/crkey/i],[[u,A+"cast"],[h,T],[p,w]],[/droid.+aft(\w)( bui|\))/i],[u,[h,E],[p,w]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[u,[h,U],[p,w]],[/(bravia[\w ]+)( bui|\))/i],[u,[h,D],[p,w]],[/(mitv-\w{5}) bui/i],[u,[h,j],[p,w]],[/Hbbtv.*(technisat) (.*);/i],[h,u,[p,w]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[h,K],[u,K],[p,w]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,w]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,u,[p,m]],[/droid.+; (shield) bui/i],[u,[h,"Nvidia"],[p,m]],[/(playstation [345portablevi]+)/i],[u,[h,D],[p,m]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[u,[h,C],[p,m]],[/((pebble))app/i],[h,u,[p,_]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[u,[h,S],[p,_]],[/droid.+; (glass) \d/i],[u,[h,T],[p,_]],[/droid.+; (wt63?0{2,3})\)/i],[u,[h,M],[p,_]],[/(quest( 2| pro)?)/i],[u,[h,L],[p,_]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h,[p,v]],[/(aeobc)\b/i],[u,[h,E],[p,v]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[u,[p,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[u,[p,b]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,b]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[p,y]],[/(android[-\w\. ]{0,9});.+buil/i],[u,[h,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[f,[d,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[f,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[d,f],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[f,d]],os:[[/microsoft (windows) (vista|xp)/i],[d,f],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[d,[f,z,G]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[d,"Windows"],[f,z,G]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[f,/_/g,"."],[d,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[d,H],[f,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[f,d],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[d,f],[/\(bb(10);/i],[f,[d,k]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[f,[d,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[f,[d,R+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[f,[d,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[f,[d,"watchOS"]],[/crkey\/([\d\.]+)/i],[f,[d,A+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[d,q],f],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[d,f],[/(sunos) ?([\w\.\d]*)/i],[[d,"Solaris"],f],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[d,f]]},Q=function(e,t){if(typeof e===s&&(t=e,e=void 0),!(this instanceof Q))return new Q(e,t).getResult();var r=typeof n!==o&&n.navigator?n.navigator:void 0,i=e||(r&&r.userAgent?r.userAgent:""),m=r&&r.userAgentData?r.userAgentData:void 0,w=t?F(X,t):X,_=r&&r.userAgent==i;return this.getBrowser=function(){var e,t={};return t[d]=void 0,t[f]=void 0,J.call(t,i,w.browser),t[c]=typeof(e=t[f])===l?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0,_&&r&&r.brave&&typeof r.brave.isBrave==a&&(t[d]="Brave"),t},this.getCPU=function(){var e={};return e[g]=void 0,J.call(e,i,w.cpu),e},this.getDevice=function(){var e={};return e[h]=void 0,e[u]=void 0,e[p]=void 0,J.call(e,i,w.device),_&&!e[p]&&m&&m.mobile&&(e[p]=y),_&&"Macintosh"==e[u]&&r&&typeof r.standalone!==o&&r.maxTouchPoints&&r.maxTouchPoints>2&&(e[u]="iPad",e[p]=b),e},this.getEngine=function(){var e={};return e[d]=void 0,e[f]=void 0,J.call(e,i,w.engine),e},this.getOS=function(){var e={};return e[d]=void 0,e[f]=void 0,J.call(e,i,w.os),_&&!e[d]&&m&&"Unknown"!=m.platform&&(e[d]=m.platform.replace(/chrome os/i,q).replace(/macos/i,H)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=typeof e===l&&e.length>350?K(e,350):e,this},this.setUA(i),this};if(Q.VERSION="1.0.35",Q.BROWSER=V([d,f,c]),Q.CPU=V([g]),Q.DEVICE=V([u,h,p,m,y,w,b,_,v]),Q.ENGINE=Q.OS=V([d,f]),typeof r!==o)t.exports&&(r=t.exports=Q),r.UAParser=Q;else if(typeof define===a&&define.amd)e.r,void 0!==Q&&e.v(Q);else typeof n!==o&&(n.UAParser=Q);var Y=typeof n!==o&&(n.jQuery||n.Zepto);if(Y&&!Y.ua){var Z=new Q;Y.ua=Z.getResult(),Y.ua.get=function(){return Z.getUA()},Y.ua.set=function(e){Z.setUA(e);var t=Z.getResult();for(var r in t)Y.ua[r]=t[r]}}}(this)}},i={};function a(e){var t=i[e];if(void 0!==t)return t.exports;var r=i[e]={exports:{}},o=!0;try{n[e].call(r.exports,r,r.exports,a),o=!1}finally{o&&delete i[e]}return r.exports}a.ab="/ROOT/node_modules/next/dist/compiled/ua-parser-js/",t.exports=a(226)},8946,(e,t,r)=>{"use strict";var n={H:null,A:null};function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=Array.isArray;function o(){}var s=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),p=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),y=Symbol.for("react.view_transition"),b=Symbol.iterator,w=Object.prototype.hasOwnProperty,_=Object.assign;function v(e,t,r){var n=r.ref;return{$$typeof:s,type:e,key:t,ref:void 0!==n?n:null,props:r}}function E(e){return"object"==typeof e&&null!==e&&e.$$typeof===s}var S=/\/+/g;function x(e,t){var r,n;return"object"==typeof e&&null!==e&&null!=e.key?(r=""+e.key,n={"=":"=0",":":"=2"},"$"+r.replace(/[=:]/g,function(e){return n[e]})):t.toString(36)}function k(e,t,r){if(null==e)return e;var n=[],c=0;return!function e(t,r,n,c,u){var d,p,h,f=typeof t;("undefined"===f||"boolean"===f)&&(t=null);var m=!1;if(null===t)m=!0;else switch(f){case"bigint":case"string":case"number":m=!0;break;case"object":switch(t.$$typeof){case s:case l:m=!0;break;case g:return e((m=t._init)(t._payload),r,n,c,u)}}if(m)return u=u(t),m=""===c?"."+x(t,0):c,a(u)?(n="",null!=m&&(n=m.replace(S,"$&/")+"/"),e(u,r,n,"",function(e){return e})):null!=u&&(E(u)&&(d=u,p=n+(null==u.key||t&&t.key===u.key?"":(""+u.key).replace(S,"$&/")+"/")+m,u=v(d.type,p,d.props)),r.push(u)),1;m=0;var y=""===c?".":c+":";if(a(t))for(var w=0;w<t.length;w++)f=y+x(c=t[w],w),m+=e(c,r,n,f,u);else if("function"==typeof(w=null===(h=t)||"object"!=typeof h?null:"function"==typeof(h=b&&h[b]||h["@@iterator"])?h:null))for(t=w.call(t),w=0;!(c=t.next()).done;)f=y+x(c=c.value,w++),m+=e(c,r,n,f,u);else if("object"===f){if("function"==typeof t.then)return e(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(o,o):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(t),r,n,c,u);throw Error(i(31,"[object Object]"===(r=String(t))?"object with keys {"+Object.keys(t).join(", ")+"}":r))}return m}(e,n,"","",function(e){return t.call(r,e,c++)}),n}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){(0===e._status||-1===e._status)&&(e._status=1,e._result=t)},function(t){(0===e._status||-1===e._status)&&(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}function A(){return new WeakMap}function R(){return{s:0,v:void 0,o:null,p:null}}r.Activity=m,r.Children={map:k,forEach:function(e,t,r){k(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return k(e,function(){t++}),t},toArray:function(e){return k(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error(i(143));return e}},r.Fragment=c,r.Profiler=d,r.StrictMode=u,r.Suspense=h,r.ViewTransition=y,r.__SERVER_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,r.cache=function(e){return function(){var t=n.A;if(!t)return e.apply(null,arguments);var r=t.getCacheForType(A);void 0===(t=r.get(e))&&(t=R(),r.set(e,t)),r=0;for(var i=arguments.length;r<i;r++){var a=arguments[r];if("function"==typeof a||"object"==typeof a&&null!==a){var o=t.o;null===o&&(t.o=o=new WeakMap),void 0===(t=o.get(a))&&(t=R(),o.set(a,t))}else null===(o=t.p)&&(t.p=o=new Map),void 0===(t=o.get(a))&&(t=R(),o.set(a,t))}if(1===t.s)return t.v;if(2===t.s)throw t.v;try{var s=e.apply(null,arguments);return(r=t).s=1,r.v=s}catch(e){throw(s=t).s=2,s.v=e,e}}},r.cacheSignal=function(){var e=n.A;return e?e.cacheSignal():null},r.captureOwnerStack=function(){return null},r.cloneElement=function(e,t,r){if(null==e)throw Error(i(267,e));var n=_({},e.props),a=e.key;if(null!=t)for(o in void 0!==t.key&&(a=""+t.key),t)w.call(t,o)&&"key"!==o&&"__self"!==o&&"__source"!==o&&("ref"!==o||void 0!==t.ref)&&(n[o]=t[o]);var o=arguments.length-2;if(1===o)n.children=r;else if(1<o){for(var s=Array(o),l=0;l<o;l++)s[l]=arguments[l+2];n.children=s}return v(e.type,a,n)},r.createElement=function(e,t,r){var n,i={},a=null;if(null!=t)for(n in void 0!==t.key&&(a=""+t.key),t)w.call(t,n)&&"key"!==n&&"__self"!==n&&"__source"!==n&&(i[n]=t[n]);var o=arguments.length-2;if(1===o)i.children=r;else if(1<o){for(var s=Array(o),l=0;l<o;l++)s[l]=arguments[l+2];i.children=s}if(e&&e.defaultProps)for(n in o=e.defaultProps)void 0===i[n]&&(i[n]=o[n]);return v(e,a,i)},r.createRef=function(){return{current:null}},r.forwardRef=function(e){return{$$typeof:p,render:e}},r.isValidElement=E,r.lazy=function(e){return{$$typeof:g,_payload:{_status:-1,_result:e},_init:P}},r.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},r.use=function(e){return n.H.use(e)},r.useCallback=function(e,t){return n.H.useCallback(e,t)},r.useDebugValue=function(){},r.useId=function(){return n.H.useId()},r.useMemo=function(e,t){return n.H.useMemo(e,t)},r.version="19.3.0-canary-b4455a6e-20251027"},40049,(e,t,r)=>{"use strict";t.exports=e.r(8946)},91375,e=>{"use strict";let t=(0,e.i(90044).createAsyncLocalStorage)();e.s([],92999),e.i(92999),e.s(["actionAsyncStorage",0,t],91375)},24628,7754,90460,25753,53835,82453,18368,80082,51564,81828,38174,63072,16852,75982,68585,96588,e=>{"use strict";let t="next-router-prefetch",r=["rsc","next-router-state-tree",t,"next-hmr-refresh","next-router-segment-prefetch"];e.s(["FLIGHT_HEADERS",0,r,"NEXT_HMR_REFRESH_HASH_COOKIE",0,"__next_hmr_refresh_hash__","NEXT_REWRITTEN_PATH_HEADER",0,"x-nextjs-rewritten-path","NEXT_REWRITTEN_QUERY_HEADER",0,"x-nextjs-rewritten-query","NEXT_ROUTER_PREFETCH_HEADER",0,t,"NEXT_RSC_UNION_QUERY",0,"_rsc","RSC_HEADER",0,"rsc"],24628);var n,i,a,o=e.i(90044);let s=(0,o.createAsyncLocalStorage)();e.s([],7754),e.s(["workAsyncStorage",0,s],90460);let l=(0,o.createAsyncLocalStorage)();class c extends Error{constructor(e,t){super(`Invariant: ${e.endsWith(".")?e:e+"."} This is a bug in Next.js.`,t),this.name="InvariantError"}}function u(e){throw Object.defineProperty(Error(`\`${e}\` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context`),"__NEXT_ERROR_CODE",{value:"E251",enumerable:!1,configurable:!0})}function d(e,t){if(e.isDraftMode)switch(t.type){case"cache":case"private-cache":case"unstable-cache":case"prerender-runtime":case"request":return t.draftMode}}function p(e){switch(e.type){case"prerender-runtime":case"private-cache":return e.runtimeStagePromise;case"prerender":case"prerender-client":case"prerender-ppr":case"prerender-legacy":case"request":case"cache":case"unstable-cache":return null;default:return e}}e.s(["InvariantError",()=>c],25753),e.s(["getDraftModeProviderForCacheScope",()=>d,"getRuntimeStagePromise",()=>p,"throwForMissingRequestStore",()=>u],53835),e.s(["workUnitAsyncStorage",0,l],82453);var h=e.i(40049);let f="DYNAMIC_SERVER_USAGE";class g extends Error{constructor(e){super(`Dynamic server usage: ${e}`),this.description=e,this.digest=f}}function m(e){return"object"==typeof e&&null!==e&&"digest"in e&&"string"==typeof e.digest&&e.digest===f}e.s(["DynamicServerError",()=>g,"isDynamicServerError",()=>m],18368);class y extends Error{constructor(...e){super(...e),this.code="NEXT_STATIC_GEN_BAILOUT"}}function b(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===w}e.s(["StaticGenBailoutError",()=>y],80082);let w="HANGING_PROMISE_REJECTION";class _ extends Error{constructor(e,t){super(`During prerendering, ${t} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${t} to a different context by using \`setTimeout\`, \`after\`, or similar functions you may observe this error and you should handle it in that context. This occurred at route "${e}".`),this.route=e,this.expression=t,this.digest=w}}let v=new WeakMap;function E(e,t,r){if(e.aborted)return Promise.reject(new _(t,r));{let n=new Promise((n,i)=>{let a=i.bind(null,new _(t,r)),o=v.get(e);if(o)o.push(a);else{let t=[a];v.set(e,t),e.addEventListener("abort",()=>{for(let e=0;e<t.length;e++)t[e]()},{once:!0})}});return n.catch(S),n}}function S(){}function x(e,t,r){return t.stagedRendering?t.stagedRendering.delayUntilStage(r,void 0,e):new Promise(t=>{setTimeout(()=>{t(e)},0)})}e.s(["isHangingPromiseRejectionError",()=>b,"makeDevtoolsIOAwarePromise",()=>x,"makeHangingPromise",()=>E],51564);let k="BAILOUT_TO_CLIENT_SIDE_RENDERING";class P extends Error{constructor(e){super(`Bail out to client-side rendering: ${e}`),this.reason=e,this.digest=k}}function A(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===k}e.s(["BailoutToCSRError",()=>P,"isBailoutToCSRError",()=>A],81828);var R=((n={})[n.Static=1]="Static",n[n.Runtime=2]="Runtime",n[n.Dynamic=3]="Dynamic",n);e.s(["RenderStage",()=>R],38174);let T="function"==typeof h.default.unstable_postpone;function O(e,t,r){let n=Object.defineProperty(new g(`Route ${t.route} couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw r.revalidate=0,t.dynamicUsageDescription=e,t.dynamicUsageStack=n.stack,n}function C(e){switch(e.type){case"cache":case"unstable-cache":case"private-cache":return}}function N(e,t,r,n){if(!1===n.controller.signal.aborted){let i,a;i=M(`Route ${e} needs to bail out of prerendering at this point because it used ${t}.`),n.controller.abort(i),(a=n.dynamicTracking)&&a.dynamicAccesses.push({stack:a.isDebugDynamicAccesses?Error().stack:void 0,expression:t});let o=n.dynamicTracking;o&&null===o.syncDynamicErrorWithStack&&(o.syncDynamicErrorWithStack=r)}throw M(`Route ${e} needs to bail out of prerendering at this point because it used ${t}.`)}function I(e,t,r){(function(){if(!T)throw Object.defineProperty(Error("Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E224",enumerable:!1,configurable:!0})})(),r&&r.dynamicAccesses.push({stack:r.isDebugDynamicAccesses?Error().stack:void 0,expression:t}),h.default.unstable_postpone($(e,t))}function $(e,t){return`Route ${e} needs to bail out of prerendering at this point because it used ${t}. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`}function U(e){return"object"==typeof e&&null!==e&&"string"==typeof e.message&&D(e.message)}function D(e){return e.includes("needs to bail out of prerendering at this point because it used")&&e.includes("Learn more: https://nextjs.org/docs/messages/ppr-caught-error")}if(!1===D($("%%%","^^^")))throw Object.defineProperty(Error("Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E296",enumerable:!1,configurable:!0});let j="NEXT_PRERENDER_INTERRUPTED";function M(e){let t=Object.defineProperty(Error(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return t.digest=j,t}function L(e){return"object"==typeof e&&null!==e&&e.digest===j&&"name"in e&&"message"in e&&e instanceof Error}function q(e,t){return e.runtimeStagePromise?e.runtimeStagePromise.then(()=>t):t}RegExp(`\\n\\s+at Suspense \\(<anonymous>\\)(?:(?!\\n\\s+at (?:body|div|main|section|article|aside|header|footer|nav|form|p|span|h1|h2|h3|h4|h5|h6) \\(<anonymous>\\))[\\s\\S])*?\\n\\s+at __next_root_layout_boundary__ \\([^\\n]*\\)`),RegExp(`\\n\\s+at __next_metadata_boundary__[\\n\\s]`),RegExp(`\\n\\s+at __next_viewport_boundary__[\\n\\s]`),RegExp(`\\n\\s+at __next_outlet_boundary__[\\n\\s]`),e.s(["abortAndThrowOnSynchronousRequestDataAccess",()=>N,"delayUntilRuntimeStage",()=>q,"isDynamicPostpone",()=>U,"isPrerenderInterruptedError",()=>L,"postponeWithTracking",()=>I,"throwToInterruptStaticGeneration",()=>O,"trackDynamicDataInDynamicRender",()=>C],63072);var H=((i={})[i.SeeOther=303]="SeeOther",i[i.TemporaryRedirect=307]="TemporaryRedirect",i[i.PermanentRedirect=308]="PermanentRedirect",i);e.s(["RedirectStatusCode",()=>H],16852);let F="NEXT_REDIRECT";var V=((a={}).push="push",a.replace="replace",a);function B(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let t=e.digest.split(";"),[r,n]=t,i=t.slice(2,-2).join(";"),a=Number(t.at(-2));return r===F&&("replace"===n||"push"===n)&&"string"==typeof i&&!isNaN(a)&&a in H}e.s(["REDIRECT_ERROR_CODE",0,F,"RedirectType",()=>V,"isRedirectError",()=>B],75982);let W=new Set(Object.values({NOT_FOUND:404,FORBIDDEN:403,UNAUTHORIZED:401})),K="NEXT_HTTP_ERROR_FALLBACK";function J(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,r]=e.digest.split(";");return t===K&&W.has(Number(r))}function z(e){return B(e)||J(e)}e.s(["HTTP_ERROR_FALLBACK_ERROR_CODE",0,K,"isHTTPAccessFallbackError",()=>J],68585),e.s(["isNextRouterError",()=>z],96588)},82748,e=>{"use strict";var t=e.i(51564);let r=Symbol.for("react.postpone");var n=e.i(81828),i=e.i(96588),a=e.i(63072),o=e.i(18368);e.s(["unstable_rethrow",()=>function e(s){if((0,i.isNextRouterError)(s)||(0,n.isBailoutToCSRError)(s)||(0,o.isDynamicServerError)(s)||(0,a.isDynamicPostpone)(s)||"object"==typeof s&&null!==s&&s.$$typeof===r||(0,t.isHangingPromiseRejectionError)(s)||(0,a.isPrerenderInterruptedError)(s))throw s;s instanceof Error&&"cause"in s&&e(s.cause)}],82748)},63617,(e,t,r)=>{"use strict";let n;var i=Object.create,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t)=>()=>(e&&(t=e(e=0)),t),d=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),p=(e,t)=>{for(var r in t)a(e,r,{get:t[r],enumerable:!0})},h=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of s(t))c.call(e,i)||i===r||a(e,i,{get:()=>t[i],enumerable:!(n=o(t,i))||n.enumerable});return e},f=(e,t,r)=>(r=null!=e?i(l(e)):{},h(!t&&e&&e.__esModule?r:a(r,"default",{value:e,enumerable:!0}),e));function g(e,t){if("utf8"===(t=t.toLowerCase())||"utf-8"===t)return new S(k.encode(e));if("base64"===t||"base64url"===t)return e=(e=e.replace(/-/g,"+").replace(/_/g,"/")).replace(/[^A-Za-z0-9+/]/g,""),new S([...atob(e)].map(e=>e.charCodeAt(0)));if("binary"===t||"ascii"===t||"latin1"===t||"latin-1"===t)return new S([...e].map(e=>e.charCodeAt(0)));if("ucs2"===t||"ucs-2"===t||"utf16le"===t||"utf-16le"===t){let t=new S(2*e.length),r=new DataView(t.buffer);for(let t=0;t<e.length;t++)r.setUint16(2*t,e.charCodeAt(t),!0);return t}if("hex"===t){let t=new S(e.length/2);for(let r=0,n=0;n<e.length;n+=2,r++)t[r]=parseInt(e.slice(n,n+2),16);return t}m(`encoding "${t}"`)}function m(e){throw Error(`Buffer polyfill does not implement "${e}"`)}function y(e,t){if(!(e instanceof Uint8Array))throw TypeError(`The "${t}" argument must be an instance of Buffer or Uint8Array`)}function b(e,t,r=R+1){if(e<0||e>r){let n=RangeError(`The value of "${t}" is out of range. It must be >= 0 && <= ${r}. Received ${e}`);throw n.code="ERR_OUT_OF_RANGE",n}}function w(e,t){if("number"!=typeof e){let r=TypeError(`The "${t}" argument must be of type number. Received type ${typeof e}.`);throw r.code="ERR_INVALID_ARG_TYPE",r}}function _(e,t){if(!Number.isInteger(e)||Number.isNaN(e)){let r=RangeError(`The value of "${t}" is out of range. It must be an integer. Received ${e}`);throw r.code="ERR_OUT_OF_RANGE",r}}function v(e,t){if("string"!=typeof e){let r=TypeError(`The "${t}" argument must be of type string. Received type ${typeof e}`);throw r.code="ERR_INVALID_ARG_TYPE",r}}function E(e,t="utf8"){return S.from(e,t)}var S,x,k,P,A,R,T,O,C,N,I,$,U=u(()=>{var e;let t,r,n,i;S=class e extends Uint8Array{_isBuffer=!0;get offset(){return this.byteOffset}static alloc(t,r=0,n="utf8"){return v(n,"encoding"),e.allocUnsafe(t).fill(r,n)}static allocUnsafe(t){return e.from(t)}static allocUnsafeSlow(t){return e.from(t)}static isBuffer(e){return e&&!!e._isBuffer}static byteLength(e,t="utf8"){if("string"==typeof e)return g(e,t).byteLength;if(e&&e.byteLength)return e.byteLength;let r=TypeError('The "string" argument must be of type string or an instance of Buffer or ArrayBuffer.');throw r.code="ERR_INVALID_ARG_TYPE",r}static isEncoding(e){return A.includes(e)}static compare(e,t){y(e,"buff1"),y(t,"buff2");for(let r=0;r<e.length;r++){if(e[r]<t[r])return -1;if(e[r]>t[r])return 1}return e.length===t.length?0:e.length>t.length?1:-1}static from(t,r="utf8"){if(t&&"object"==typeof t&&"Buffer"===t.type)return new e(t.data);if("number"==typeof t)return new e(new Uint8Array(t));if("string"==typeof t)return g(t,r);if(ArrayBuffer.isView(t)){let{byteOffset:r,byteLength:n,buffer:i}=t;return"map"in t&&"function"==typeof t.map?new e(t.map(e=>e%256),r,n):new e(i,r,n)}if(t&&"object"==typeof t&&("length"in t||"byteLength"in t||"buffer"in t))return new e(t);throw TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}static concat(t,r){if(0===t.length)return e.alloc(0);let n=[].concat(...t.map(e=>[...e])),i=e.alloc(void 0!==r?r:n.length);return i.set(void 0!==r?n.slice(0,r):n),i}slice(e=0,t=this.length){return this.subarray(e,t)}subarray(t=0,r=this.length){return Object.setPrototypeOf(super.subarray(t,r),e.prototype)}reverse(){return super.reverse(),this}readIntBE(e,t){w(e,"offset"),_(e,"offset"),b(e,"offset",this.length-1),w(t,"byteLength"),_(t,"byteLength");let r=new DataView(this.buffer,e,t),n=0;for(let e=0;e<t;e++)n=256*n+r.getUint8(e);return 128&r.getUint8(0)&&(n-=Math.pow(256,t)),n}readIntLE(e,t){w(e,"offset"),_(e,"offset"),b(e,"offset",this.length-1),w(t,"byteLength"),_(t,"byteLength");let r=new DataView(this.buffer,e,t),n=0;for(let e=0;e<t;e++)n+=r.getUint8(e)*Math.pow(256,e);return 128&r.getUint8(t-1)&&(n-=Math.pow(256,t)),n}readUIntBE(e,t){w(e,"offset"),_(e,"offset"),b(e,"offset",this.length-1),w(t,"byteLength"),_(t,"byteLength");let r=new DataView(this.buffer,e,t),n=0;for(let e=0;e<t;e++)n=256*n+r.getUint8(e);return n}readUintBE(e,t){return this.readUIntBE(e,t)}readUIntLE(e,t){w(e,"offset"),_(e,"offset"),b(e,"offset",this.length-1),w(t,"byteLength"),_(t,"byteLength");let r=new DataView(this.buffer,e,t),n=0;for(let e=0;e<t;e++)n+=r.getUint8(e)*Math.pow(256,e);return n}readUintLE(e,t){return this.readUIntLE(e,t)}writeIntBE(e,t,r){return e=e<0?e+Math.pow(256,r):e,this.writeUIntBE(e,t,r)}writeIntLE(e,t,r){return e=e<0?e+Math.pow(256,r):e,this.writeUIntLE(e,t,r)}writeUIntBE(e,t,r){w(t,"offset"),_(t,"offset"),b(t,"offset",this.length-1),w(r,"byteLength"),_(r,"byteLength");let n=new DataView(this.buffer,t,r);for(let t=r-1;t>=0;t--)n.setUint8(t,255&e),e/=256;return t+r}writeUintBE(e,t,r){return this.writeUIntBE(e,t,r)}writeUIntLE(e,t,r){w(t,"offset"),_(t,"offset"),b(t,"offset",this.length-1),w(r,"byteLength"),_(r,"byteLength");let n=new DataView(this.buffer,t,r);for(let t=0;t<r;t++)n.setUint8(t,255&e),e/=256;return t+r}writeUintLE(e,t,r){return this.writeUIntLE(e,t,r)}toJSON(){return{type:"Buffer",data:Array.from(this)}}swap16(){let e=new DataView(this.buffer,this.byteOffset,this.byteLength);for(let t=0;t<this.length;t+=2)e.setUint16(t,e.getUint16(t,!0),!1);return this}swap32(){let e=new DataView(this.buffer,this.byteOffset,this.byteLength);for(let t=0;t<this.length;t+=4)e.setUint32(t,e.getUint32(t,!0),!1);return this}swap64(){let e=new DataView(this.buffer,this.byteOffset,this.byteLength);for(let t=0;t<this.length;t+=8)e.setBigUint64(t,e.getBigUint64(t,!0),!1);return this}compare(t,r=0,n=t.length,i=0,a=this.length){return y(t,"target"),w(r,"targetStart"),w(n,"targetEnd"),w(i,"sourceStart"),w(a,"sourceEnd"),b(r,"targetStart"),b(n,"targetEnd",t.length),b(i,"sourceStart"),b(a,"sourceEnd",this.length),e.compare(this.slice(i,a),t.slice(r,n))}equals(e){return y(e,"otherBuffer"),this.length===e.length&&this.every((t,r)=>t===e[r])}copy(e,t=0,r=0,n=this.length){b(t,"targetStart"),b(r,"sourceStart",this.length),b(n,"sourceEnd"),t>>>=0,r>>>=0,n>>>=0;let i=0;for(;r<n&&void 0!==this[r]&&void 0!==e[t];)e[t]=this[r],i++,r++,t++;return i}write(e,t,r,n="utf8"){let i="string"==typeof t?0:t??0,a="string"==typeof r?this.length-i:r??this.length-i;return n="string"==typeof t?t:"string"==typeof r?r:n,w(i,"offset"),w(a,"length"),b(i,"offset",this.length),b(a,"length",this.length),("ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)&&(a-=a%2),g(e,n).copy(this,i,0,a)}fill(t=0,r=0,n=this.length,i="utf-8"){let a="string"==typeof r?0:r,o="string"==typeof n?this.length:n;if(i="string"==typeof r?r:"string"==typeof n?n:i,t=e.from("number"==typeof t?[t]:t??[],i),v(i,"encoding"),b(a,"offset",this.length),b(o,"end",this.length),0!==t.length)for(let e=a;e<o;e+=t.length)super.set(t.slice(0,t.length+e>=this.length?this.length-e:t.length),e);return this}includes(e,t=null,r="utf-8"){return -1!==this.indexOf(e,t,r)}lastIndexOf(e,t=null,r="utf-8"){return this.indexOf(e,t,r,!0)}indexOf(t,r=null,n="utf-8",i=!1){let a=i?this.findLastIndex.bind(this):this.findIndex.bind(this);n="string"==typeof r?r:n;let o=e.from("number"==typeof t?[t]:t,n),s="string"==typeof r?0:r;return s=Number.isNaN(s="number"==typeof r?s:null)?null:s,s??=i?this.length:0,s=s<0?this.length+s:s,0===o.length&&!1===i?s>=this.length?this.length:s:0===o.length&&!0===i?(s>=this.length?this.length:s)||this.length:a((e,t)=>(i?t<=s:t>=s)&&this[t]===o[0]&&o.every((e,r)=>this[t+r]===e))}toString(e="utf8",t=0,r=this.length){if(t=t<0?0:t,e=e.toString().toLowerCase(),r<=0)return"";if("utf8"===e||"utf-8"===e)return P.decode(this.slice(t,r));if("base64"===e||"base64url"===e){let t=btoa(this.reduce((e,t)=>e+O(t),""));return"base64url"===e?t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):t}if("binary"===e||"ascii"===e||"latin1"===e||"latin-1"===e)return this.slice(t,r).reduce((t,r)=>t+O(r&("ascii"===e?127:255)),"");if("ucs2"===e||"ucs-2"===e||"utf16le"===e||"utf-16le"===e){let e=new DataView(this.buffer.slice(t,r));return Array.from({length:e.byteLength/2},(t,r)=>2*r+1<e.byteLength?O(e.getUint16(2*r,!0)):"").join("")}if("hex"===e)return this.slice(t,r).reduce((e,t)=>e+t.toString(16).padStart(2,"0"),"");m(`encoding "${e}"`)}toLocaleString(){return this.toString()}inspect(){return`<Buffer ${this.toString("hex").match(/.{1,2}/g).join(" ")}>`}},x={int8:[-128,127],int16:[-32768,32767],int32:[-0x80000000,0x7fffffff],uint8:[0,255],uint16:[0,65535],uint32:[0,0xffffffff],float32:[-1/0,1/0],float64:[-1/0,1/0],bigint64:[-0x8000000000000000n,0x7fffffffffffffffn],biguint64:[0n,0xffffffffffffffffn]},k=new TextEncoder,P=new TextDecoder,A=["utf8","utf-8","hex","base64","ascii","binary","base64url","ucs2","ucs-2","utf16le","utf-16le","latin1","latin-1"],R=0xffffffff,e=S.prototype,r=(t=Object.getOwnPropertyNames(DataView.prototype).filter(e=>e.startsWith("get")||e.startsWith("set"))).map(e=>e.replace("get","read").replace("set","write")),n=(e,r)=>function(n=0){return w(n,"offset"),_(n,"offset"),b(n,"offset",this.length-1),new DataView(this.buffer)[t[e]](n,r)},i=(e,r)=>function(n,i=0){let a=x[t[e].match(/set(\w+\d+)/)[1].toLowerCase()];return w(i,"offset"),_(i,"offset"),b(i,"offset",this.length-1),function(e,t,r,n){if(e<r||e>n){let i=RangeError(`The value of "${t}" is out of range. It must be >= ${r} and <= ${n}. Received ${e}`);throw i.code="ERR_OUT_OF_RANGE",i}}(n,"value",a[0],a[1]),new DataView(this.buffer)[t[e]](i,n,r),i+parseInt(t[e].match(/\d+/)[0])/8},r.forEach((t,r)=>{t.startsWith("read")&&(e[t]=n(r,!1),e[t+"LE"]=n(r,!0),e[t+"BE"]=n(r,!1)),t.startsWith("write")&&(e[t]=i(r,!1),e[t+"LE"]=i(r,!0),e[t+"BE"]=i(r,!1)),[t,t+"LE",t+"BE"].forEach(t=>{t.includes("Uint")&&(e[t.replace("Uint","UInt")]=e[t]),t.includes("Float64")&&(e[t.replace("Float64","Double")]=e[t]),t.includes("Float32")&&(e[t.replace("Float32","Float")]=e[t])})}),T=new Proxy(E,{construct:(e,[t,r])=>S.from(t,r),get:(e,t)=>S[t]}),O=String.fromCodePoint}),D=u(()=>{C={nextTick:(e,...t)=>{setTimeout(()=>{e(...t)},0)},env:{},version:"",cwd:()=>"/",stderr:{},argv:["/bin/node"],pid:1e4},{cwd:N}=C}),j=u(()=>{let e;globalThis.performance??(e=Date.now(),()=>Date.now()-e)}),M=u(()=>{(I=()=>{}).prototype=I}),L=u(()=>{$=class{value;constructor(e){this.value=e}deref(){return this.value}}});function q(e,t){var r,n,i,a,o,s,l,c,u=e.constructor,d=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),en?G(t,d):t;if(l=e.d,c=t.d,o=e.e,i=t.e,l=l.slice(),a=o-i){for(a<0?(n=l,a=-a,s=c.length):(n=c,i=o,s=l.length),a>(s=(o=Math.ceil(d/ep))>s?o+1:s+1)&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for((s=l.length)-(a=c.length)<0&&(a=s,n=c,c=l,l=n),r=0;a;)r=(l[--a]=l[a]+c[a]+r)/ed|0,l[a]%=ed;for(r&&(l.unshift(r),++i),s=l.length;0==l[--s];)l.pop();return t.d=l,t.e=i,en?G(t,d):t}function H(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ea+e)}function F(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)n=e[t]+"",(r=ep-n.length)&&(a+=K(r)),a+=n;n=(o=e[t])+"",(r=ep-n.length)&&(a+=K(r))}else if(0===o)return"0";for(;o%10==0;)o/=10;return a+o}function V(e,t){var r,n,i,a,o,s=0,l=0,c=e.constructor,u=c.precision;if(B(e)>16)throw Error(eo+B(e));if(!e.s)return new c(eu);for(null==t?(en=!1,o=u):o=t,a=new c(.03125);e.abs().gte(.1);)e=e.times(a),l+=5;for(o+=Math.log(el(2,l))/Math.LN10*2+5|0,r=n=i=new c(eu),c.precision=o;;){if(n=G(n.times(e),o),r=r.times(++s),F((a=i.plus(eg(n,r,o))).d).slice(0,o)===F(i.d).slice(0,o)){for(;l--;)i=G(i.times(i),o);return c.precision=u,null==t?(en=!0,G(i,u)):i}i=a}}function B(e){for(var t=e.e*ep,r=e.d[0];r>=10;r/=10)t++;return t}function W(e,t,r){if(t>e.LN10.sd())throw en=!0,r&&(e.precision=r),Error(ei+"LN10 precision limit exceeded");return G(new e(e.LN10),t)}function K(e){for(var t="";e--;)t+="0";return t}function J(e,t){var r,n,i,a,o,s,l,c,u,d=1,p=e,h=p.d,f=p.constructor,g=f.precision;if(p.s<1)throw Error(ei+(p.s?"NaN":"-Infinity"));if(p.eq(eu))return new f(0);if(null==t?(en=!1,c=g):c=t,p.eq(10))return null==t&&(en=!0),W(f,c);if(f.precision=c+=10,n=(r=F(h)).charAt(0),!(15e14>Math.abs(a=B(p))))return l=W(f,c+2,g).times(a+""),p=J(new f(n+"."+r.slice(1)),c-10).plus(l),f.precision=g,null==t?(en=!0,G(p,g)):p;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=F((p=p.times(e)).d)).charAt(0),d++;for(a=B(p),n>1?(p=new f("0."+r),a++):p=new f(n+"."+r.slice(1)),s=o=p=eg(p.minus(eu),p.plus(eu),c),u=G(p.times(p),c),i=3;;){if(o=G(o.times(u),c),F((l=s.plus(eg(o,new f(i),c))).d).slice(0,c)===F(s.d).slice(0,c))return s=s.times(2),0!==a&&(s=s.plus(W(f,c+2,g).times(a+""))),s=eg(s,new f(d),c),f.precision=g,null==t?(en=!0,G(s,g)):s;s=l,i+=2}}function z(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);)++n;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(n,i)){if(i-=n,e.e=es((r=r-n-1)/ep),e.d=[],n=(r+1)%ep,r<0&&(n+=ep),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=ep;n<i;)e.d.push(+t.slice(n,n+=ep));t=t.slice(n),n=ep-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),en&&(e.e>eh||e.e<-eh))throw Error(eo+r)}else e.s=0,e.e=0,e.d=[0];return e}function G(e,t,r){var n,i,a,o,s,l,c,u,d=e.d;for(o=1,a=d[0];a>=10;a/=10)o++;if((n=t-o)<0)n+=ep,i=t,c=d[u=0];else{if((u=Math.ceil((n+1)/ep))>=(a=d.length))return e;for(c=a=d[u],o=1;a>=10;a/=10)o++;n%=ep,i=n-ep+o}if(void 0!==r&&(s=c/(a=el(10,o-i-1))%10|0,l=t<0||void 0!==d[u+1]||c%a,l=r<4?(s||l)&&(0==r||r==(e.s<0?3:2)):s>5||5==s&&(4==r||l||6==r&&(n>0?i>0?c/el(10,o-i):0:d[u-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return l?(a=B(e),d.length=1,t=t-a-1,d[0]=el(10,(ep-t%ep)%ep),e.e=es(-t/ep)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(0==n?(d.length=u,a=1,u--):(d.length=u+1,a=el(10,ep-n),d[u]=i>0?(c/el(10,o-i)%el(10,i)|0)*a:0),l)for(;;)if(0==u){(d[0]+=a)==ed&&(d[0]=1,++e.e);break}else{if(d[u]+=a,d[u]!=ed)break;d[u--]=0,a=1}for(n=d.length;0===d[--n];)d.pop();if(en&&(e.e>eh||e.e<-eh))throw Error(eo+B(e));return e}function X(e,t){var r,n,i,a,o,s,l,c,u,d,p=e.constructor,h=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),en?G(t,h):t;if(l=e.d,d=t.d,n=t.e,c=e.e,l=l.slice(),o=c-n){for((u=o<0)?(r=l,o=-o,s=d.length):(r=d,n=c,s=l.length),o>(i=Math.max(Math.ceil(h/ep),s)+2)&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for((u=(i=l.length)<(s=d.length))&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){u=l[i]<d[i];break}o=0}for(u&&(r=l,l=d,d=r,t.s=-t.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>o;){if(l[--i]<d[i]){for(a=i;a&&0===l[--a];)l[a]=ed-1;--l[a],l[i]+=ed}l[i]-=d[i]}for(;0===l[--s];)l.pop();for(;0===l[0];l.shift())--n;return l[0]?(t.d=l,t.e=n,en?G(t,h):t):new p(0)}function Q(e,t,r){var n,i=B(e),a=F(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+K(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+K(-i-1)+a,r&&(n=r-o)>0&&(a+=K(n))):i>=o?(a+=K(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+K(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=K(n))),e.s<0?"-"+a:a}function Y(e,t){if(e.length>t)return e.length=t,!0}function Z(e){if(!e||"object"!=typeof e)throw Error(ei+"Object expected");var t,r,n,i=["precision",1,ee,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(n=e[r=i[t]]))if(es(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(ea+r+": "+n);if(void 0!==(n=e[r="LN10"]))if(n==Math.LN10)this[r]=new this(n);else throw Error(ea+r+": "+n);return this}var ee,et,er,en,ei,ea,eo,es,el,ec,eu,ed,ep,eh,ef,eg,em,ey,eb,ew=u(()=>{U(),D(),j(),M(),L(),e_(),ee=1e9,et={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},en=!0,ea=(ei="[DecimalError] ")+"Invalid argument: ",eo=ei+"Exponent out of range: ",es=Math.floor,el=Math.pow,ec=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ed=1e7,eh=es(0x1fffffffffffff/(ep=7)),(ef={}).absoluteValue=ef.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},ef.comparedTo=ef.cmp=function(e){var t,r,n,i;if(e=new this.constructor(e),this.s!==e.s)return this.s||-e.s;if(this.e!==e.e)return this.e>e.e^this.s<0?1:-1;for(n=this.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(this.d[t]!==e.d[t])return this.d[t]>e.d[t]^this.s<0?1:-1;return n===i?0:n>i^this.s<0?1:-1},ef.decimalPlaces=ef.dp=function(){var e=this.d.length-1,t=(e-this.e)*ep;if(e=this.d[e])for(;e%10==0;e/=10)t--;return t<0?0:t},ef.dividedBy=ef.div=function(e){return eg(this,new this.constructor(e))},ef.dividedToIntegerBy=ef.idiv=function(e){var t=this.constructor;return G(eg(this,new t(e),0,1),t.precision)},ef.equals=ef.eq=function(e){return!this.cmp(e)},ef.exponent=function(){return B(this)},ef.greaterThan=ef.gt=function(e){return this.cmp(e)>0},ef.greaterThanOrEqualTo=ef.gte=function(e){return this.cmp(e)>=0},ef.isInteger=ef.isint=function(){return this.e>this.d.length-2},ef.isNegative=ef.isneg=function(){return this.s<0},ef.isPositive=ef.ispos=function(){return this.s>0},ef.isZero=function(){return 0===this.s},ef.lessThan=ef.lt=function(e){return 0>this.cmp(e)},ef.lessThanOrEqualTo=ef.lte=function(e){return 1>this.cmp(e)},ef.logarithm=ef.log=function(e){var t,r=this.constructor,n=r.precision,i=n+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(eu))throw Error(ei+"NaN");if(this.s<1)throw Error(ei+(this.s?"NaN":"-Infinity"));return this.eq(eu)?new r(0):(en=!1,t=eg(J(this,i),J(e,i),i),en=!0,G(t,n))},ef.minus=ef.sub=function(e){return e=new this.constructor(e),this.s==e.s?X(this,e):q(this,(e.s=-e.s,e))},ef.modulo=ef.mod=function(e){var t,r=this.constructor,n=r.precision;if(!(e=new r(e)).s)throw Error(ei+"NaN");return this.s?(en=!1,t=eg(this,e,0,1).times(e),en=!0,this.minus(t)):G(new r(this),n)},ef.naturalExponential=ef.exp=function(){return V(this)},ef.naturalLogarithm=ef.ln=function(){return J(this)},ef.negated=ef.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},ef.plus=ef.add=function(e){return e=new this.constructor(e),this.s==e.s?q(this,e):X(this,(e.s=-e.s,e))},ef.precision=ef.sd=function(e){var t,r,n;if(void 0!==e&&!!e!==e&&1!==e&&0!==e)throw Error(ea+e);if(t=B(this)+1,r=(n=this.d.length-1)*ep+1,n=this.d[n]){for(;n%10==0;n/=10)r--;for(n=this.d[0];n>=10;n/=10)r++}return e&&t>r?t:r},ef.squareRoot=ef.sqrt=function(){var e,t,r,n,i,a,o,s=this.constructor;if(this.s<1){if(!this.s)return new s(0);throw Error(ei+"NaN")}for(e=B(this),en=!1,0==(i=Math.sqrt(+this))||i==1/0?(((t=F(this.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=es((e+1)/2)-(e<0||e%2),n=new s(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):n=new s(i.toString()),i=o=(r=s.precision)+3;;)if(n=(a=n).plus(eg(this,a,o+2)).times(.5),F(a.d).slice(0,o)===(t=F(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&"4999"==t){if(G(a,r+1,0),a.times(a).eq(this)){n=a;break}}else if("9999"!=t)break;o+=4}return en=!0,G(n,r)},ef.times=ef.mul=function(e){var t,r,n,i,a,o,s,l,c,u=this.constructor,d=this.d,p=(e=new u(e)).d;if(!this.s||!e.s)return new u(0);for(e.s*=this.s,r=this.e+e.e,(l=d.length)<(c=p.length)&&(a=d,d=p,p=a,o=l,l=c,c=o),a=[],n=o=l+c;n--;)a.push(0);for(n=c;--n>=0;){for(t=0,i=l+n;i>n;)s=a[i]+p[n]*d[i-n-1]+t,a[i--]=s%ed|0,t=s/ed|0;a[i]=(a[i]+t)%ed|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,en?G(e,u.precision):e},ef.toDecimalPlaces=ef.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),void 0===e?r:(H(e,0,ee),void 0===t?t=n.rounding:H(t,0,8),G(r,e+B(r)+1,t))},ef.toExponential=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=Q(n,!0):(H(e,0,ee),void 0===t?t=i.rounding:H(t,0,8),r=Q(n=G(new i(n),e+1,t),!0,e+1)),r},ef.toFixed=function(e,t){var r,n,i=this.constructor;return void 0===e?Q(this):(H(e,0,ee),void 0===t?t=i.rounding:H(t,0,8),r=Q((n=G(new i(this),e+B(this)+1,t)).abs(),!1,e+B(n)+1),this.isneg()&&!this.isZero()?"-"+r:r)},ef.toInteger=ef.toint=function(){var e=this.constructor;return G(new e(this),B(this)+1,e.rounding)},ef.toNumber=function(){return+this},ef.toPower=ef.pow=function(e){var t,r,n,i,a,o,s=this,l=s.constructor,c=+(e=new l(e));if(!e.s)return new l(eu);if(!(s=new l(s)).s){if(e.s<1)throw Error(ei+"Infinity");return s}if(s.eq(eu))return s;if(n=l.precision,e.eq(eu))return G(s,n);if(o=(t=e.e)>=(r=e.d.length-1),a=s.s,o){if((r=c<0?-c:c)<=0x1fffffffffffff){for(i=new l(eu),t=Math.ceil(n/ep+4),en=!1;r%2&&Y((i=i.times(s)).d,t),0!==(r=es(r/2));)Y((s=s.times(s)).d,t);return en=!0,e.s<0?new l(eu).div(i):G(i,n)}}else if(a<0)throw Error(ei+"NaN");return a=a<0&&1&e.d[Math.max(t,r)]?-1:1,s.s=1,en=!1,i=e.times(J(s,n+12)),en=!0,(i=V(i)).s=a,i},ef.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return void 0===e?(r=B(i),n=Q(i,r<=a.toExpNeg||r>=a.toExpPos)):(H(e,1,ee),void 0===t?t=a.rounding:H(t,0,8),r=B(i=G(new a(i),e,t)),n=Q(i,e<=r||r<=a.toExpNeg,e)),n},ef.toSignificantDigits=ef.tosd=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(H(e,1,ee),void 0===t?t=r.rounding:H(t,0,8)),G(new r(this),e,t)},ef.toString=ef.valueOf=ef.val=ef.toJSON=ef[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=B(this),t=this.constructor;return Q(this,e<=t.toExpNeg||e>=t.toExpPos)},eg=function(){function e(e,t){var r,n=0,i=e.length;for(e=e.slice();i--;)r=e[i]*t+n,e[i]=r%ed|0,n=r/ed|0;return n&&e.unshift(n),e}function t(e,t,r,n){var i,a;if(r!=n)a=r>n?1:-1;else for(i=a=0;i<r;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function r(e,t,r){for(var n=0;r--;)e[r]-=n,n=+(e[r]<t[r]),e[r]=n*ed+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,i,a,o){var s,l,c,u,d,p,h,f,g,m,y,b,w,_,v,E,S,x,k=n.constructor,P=n.s==i.s?1:-1,A=n.d,R=i.d;if(!n.s)return new k(n);if(!i.s)throw Error(ei+"Division by zero");for(l=n.e-i.e,S=R.length,v=A.length,f=(h=new k(P)).d=[],c=0;R[c]==(A[c]||0);)++c;if(R[c]>(A[c]||0)&&--l,(b=null==a?a=k.precision:o?a+(B(n)-B(i))+1:a)<0)return new k(0);if(b=b/ep+2|0,c=0,1==S)for(u=0,R=R[0],b++;(c<v||u)&&b--;c++)w=u*ed+(A[c]||0),f[c]=w/R|0,u=w%R|0;else{for((u=ed/(R[0]+1)|0)>1&&(R=e(R,u),A=e(A,u),S=R.length,v=A.length),_=S,m=(g=A.slice(0,S)).length;m<S;)g[m++]=0;(x=R.slice()).unshift(0),E=R[0],R[1]>=ed/2&&++E;do u=0,(s=t(R,g,S,m))<0?(y=g[0],S!=m&&(y=y*ed+(g[1]||0)),(u=y/E|0)>1?(u>=ed&&(u=ed-1),p=(d=e(R,u)).length,m=g.length,1==(s=t(d,g,p,m))&&(u--,r(d,S<p?x:R,p))):(0==u&&(s=u=1),d=R.slice()),(p=d.length)<m&&d.unshift(0),r(g,d,m),-1==s&&(m=g.length,(s=t(R,g,S,m))<1&&(u++,r(g,S<m?x:R,m))),m=g.length):0===s&&(u++,g=[0]),f[c++]=u,s&&g[0]?g[m++]=A[_]||0:(g=[A[_]],m=1);while((_++<v||void 0!==g[0])&&b--)}return f[0]||f.shift(),h.e=l,G(h,o?a+B(h)+1:a)}}(),eu=new(er=function e(t){var r,n,i;function a(e){if(!(this instanceof a))return new a(e);if(this.constructor=a,e instanceof a){this.s=e.s,this.e=e.e,this.d=(e=e.d)?e.slice():e;return}if("number"==typeof e){if(0*e!=0)throw Error(ea+e);if(e>0)this.s=1;else if(e<0)e=-e,this.s=-1;else{this.s=0,this.e=0,this.d=[0];return}if(e===~~e&&e<1e7){this.e=0,this.d=[e];return}return z(this,e.toString())}if("string"!=typeof e)throw Error(ea+e);if(45===e.charCodeAt(0)?(e=e.slice(1),this.s=-1):this.s=1,ec.test(e))z(this,e);else throw Error(ea+e)}if(a.prototype=ef,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=e,a.config=a.set=Z,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<i.length;)t.hasOwnProperty(n=i[r++])||(t[n]=this[n]);return a.config(t),a}(et))(1),em=er}),e_=u(()=>{ew(),eb=ey=class extends em{static isDecimal(e){return e instanceof em}static random(e=20){{let t=globalThis.crypto.getRandomValues(new Uint8Array(e)).reduce((e,t)=>e+t,"");return new em(`0.${t.slice(0,e)}`)}}}});function ev(){return!1}function eE(){return{dev:0,ino:0,mode:0,nlink:0,uid:0,gid:0,rdev:0,size:0,blksize:0,blocks:0,atimeMs:0,mtimeMs:0,ctimeMs:0,birthtimeMs:0,atime:new Date,mtime:new Date,ctime:new Date,birthtime:new Date}}function eS(){return eE()}function ex(){return[]}function ek(e){e(null,[])}function eP(){return""}function eA(){return""}function eR(){}function eT(){}function eO(){}function eC(){}function eN(){}function eI(){}function e$(){}function eU(){}function eD(){return{close:()=>{},on:()=>{},removeAllListeners:()=>{}}}function ej(e,t){t(null,eE())}var eM,eL=u(()=>{U(),D(),j(),M(),L(),e_(),eM={existsSync:ev,lstatSync:eE,stat:ej,statSync:eS,readdirSync:ex,readdir:ek,readlinkSync:eP,realpathSync:eA,chmodSync:eR,renameSync:eT,mkdirSync:eO,rmdirSync:eC,rmSync:eN,unlinkSync:eI,watchFile:e$,unwatchFile:eU,watch:eD,promises:{}}}),eq=d((e,t)=>{t.exports={name:"@prisma/internals",version:"6.19.0",description:"This package is intended for Prisma's internal use",main:"dist/index.js",types:"dist/index.d.ts",repository:{type:"git",url:"https://github.com/prisma/prisma.git",directory:"packages/internals"},homepage:"https://www.prisma.io",author:"Tim Suchanek <suchanek@prisma.io>",bugs:"https://github.com/prisma/prisma/issues",license:"Apache-2.0",scripts:{dev:"DEV=true tsx helpers/build.ts",build:"tsx helpers/build.ts",test:"dotenv -e ../../.db.env -- jest --silent",prepublishOnly:"pnpm run build"},files:["README.md","dist","!**/libquery_engine*","!dist/get-generators/engines/*","scripts"],devDependencies:{"@babel/helper-validator-identifier":"7.25.9","@opentelemetry/api":"1.9.0","@swc/core":"1.11.5","@swc/jest":"0.2.37","@types/babel__helper-validator-identifier":"7.15.2","@types/jest":"29.5.14","@types/node":"18.19.76","@types/resolve":"1.20.6",archiver:"6.0.2","checkpoint-client":"1.1.33","cli-truncate":"4.0.0",dotenv:"16.5.0",empathic:"2.0.0","escape-string-regexp":"5.0.0",execa:"8.0.1","fast-glob":"3.3.3","find-up":"7.0.0","fp-ts":"2.16.9","fs-extra":"11.3.0","global-directory":"4.0.0",globby:"11.1.0","identifier-regex":"1.0.0","indent-string":"4.0.0","is-windows":"1.0.2","is-wsl":"3.1.0",jest:"29.7.0","jest-junit":"16.0.0",kleur:"4.1.5","mock-stdin":"1.0.0","new-github-issue-url":"0.2.1","node-fetch":"3.3.2","npm-packlist":"5.1.3",open:"7.4.2","p-map":"4.0.0",resolve:"1.22.10","string-width":"7.2.0","strip-indent":"4.0.0","temp-dir":"2.0.0",tempy:"1.0.1","terminal-link":"4.0.0",tmp:"0.2.3","ts-pattern":"5.6.2","ts-toolbelt":"9.6.0",typescript:"5.4.5",yarn:"1.22.22"},dependencies:{"@prisma/config":"workspace:*","@prisma/debug":"workspace:*","@prisma/dmmf":"workspace:*","@prisma/driver-adapter-utils":"workspace:*","@prisma/engines":"workspace:*","@prisma/fetch-engine":"workspace:*","@prisma/generator":"workspace:*","@prisma/generator-helper":"workspace:*","@prisma/get-platform":"workspace:*","@prisma/prisma-schema-wasm":"6.19.0-26.2ba551f319ab1df4bc874a89965d8b3641056773","@prisma/schema-engine-wasm":"6.19.0-26.2ba551f319ab1df4bc874a89965d8b3641056773","@prisma/schema-files-loader":"workspace:*",arg:"5.0.2",prompts:"2.4.2"},peerDependencies:{typescript:">=5.1.0"},peerDependenciesMeta:{typescript:{optional:!0}},sideEffects:!1}});function eH(...e){return e.join("/")}function eF(...e){return e.join("/")}function eV(e){let t=eB(e),r=eW(e),[n,i]=t.split(".");return{root:"/",dir:r,base:t,ext:i,name:n}}function eB(e){let t=e.split("/");return t[t.length-1]}function eW(e){return e.split("/").slice(0,-1).join("/")}function eK(e){let t=e.split("/").filter(e=>""!==e&&"."!==e),r=[];for(let e of t)".."===e?r.pop():r.push(e);let n=r.join("/");return e.startsWith("/")?"/"+n:n}var eJ,ez,eG=u(()=>{U(),D(),j(),M(),L(),e_(),eJ={basename:eB,delimiter:":",dirname:eW,join:eF,normalize:eK,parse:eV,posix:{sep:"/"},resolve:eH,sep:"/"}}),eX=d((e,t)=>{U(),D(),j(),M(),L(),e_(),t.exports=(e,t=1,r)=>{if(r={indent:" ",includeEmptyLines:!1,...r},"string"!=typeof e)throw TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof e}\``);if("number"!=typeof t)throw TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof t}\``);if("string"!=typeof r.indent)throw TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof r.indent}\``);if(0===t)return e;let n=r.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return e.replace(n,r.indent.repeat(t))}}),eQ=d((e,t)=>{U(),D(),j(),M(),L(),e_(),t.exports=function(){function e(e,t,r,n,i){return e<t||r<t?e>r?r+1:e+1:n===i?t:t+1}return function(t,r){if(t===r)return 0;if(t.length>r.length){var n=t;t=r,r=n}for(var i=t.length,a=r.length;i>0&&t.charCodeAt(i-1)===r.charCodeAt(a-1);)i--,a--;for(var o=0;o<i&&t.charCodeAt(o)===r.charCodeAt(o);)o++;if(i-=o,a-=o,0===i||a<3)return a;var s,l,c,u,d,p,h,f,g,m,y,b,w=0,_=[];for(s=0;s<i;s++)_.push(s+1),_.push(t.charCodeAt(o+s));for(var v=_.length-1;w<a-3;)for(g=r.charCodeAt(o+(l=w)),m=r.charCodeAt(o+(c=w+1)),y=r.charCodeAt(o+(u=w+2)),b=r.charCodeAt(o+(d=w+3)),p=w+=4,s=0;s<v;s+=2)l=e(h=_[s],l,c,g,f=_[s+1]),c=e(l,c,u,m,f),u=e(c,u,d,y,f),p=e(u,d,p,b,f),_[s]=p,d=u,u=c,c=l,l=h;for(;w<a;)for(g=r.charCodeAt(o+(l=w)),p=++w,s=0;s<v;s+=2)h=_[s],_[s]=p=e(h,l,p,g,_[s+1]),l=h;return p}}()}),eY=u(()=>{U(),D(),j(),M(),L(),e_()}),eZ=u(()=>{U(),D(),j(),M(),L(),e_()}),e0=d((e,t)=>{t.exports={name:"@prisma/engines-version",version:"6.19.0-26.2ba551f319ab1df4bc874a89965d8b3641056773",main:"index.js",types:"index.d.ts",license:"Apache-2.0",author:"Tim Suchanek <suchanek@prisma.io>",prisma:{enginesVersion:"2ba551f319ab1df4bc874a89965d8b3641056773"},repository:{type:"git",url:"https://github.com/prisma/engines-wrapper.git",directory:"packages/engines-version"},devDependencies:{"@types/node":"18.19.76",typescript:"4.9.5"},files:["index.js","index.d.ts"],scripts:{build:"tsc -d"}}}),e1=u(()=>{U(),D(),j(),M(),L(),e_(),ez=class{events={};on(e,t){return this.events[e]||(this.events[e]=[]),this.events[e].push(t),this}emit(e,...t){return!!this.events[e]&&(this.events[e].forEach(e=>{e(...t)}),!0)}}}),e2={};p(e2,{DMMF:()=>t3,Debug:()=>t_,Decimal:()=>eb,Extensions:()=>e6,MetricsClient:()=>r5,PrismaClientInitializationError:()=>tK,PrismaClientKnownRequestError:()=>tJ,PrismaClientRustPanicError:()=>tz,PrismaClientUnknownRequestError:()=>tG,PrismaClientValidationError:()=>tX,Public:()=>e8,Sql:()=>nr,createParam:()=>rK,defineDmmfProperty:()=>r3,deserializeJsonResponse:()=>nH,deserializeRawResult:()=>iy,dmmfToRuntimeDataModel:()=>t0,empty:()=>na,getPrismaClient:()=>iI,getRuntime:()=>nG,join:()=>nn,makeStrictEnum:()=>iD,makeTypedQueryFactory:()=>r7,objectEnumValues:()=>rI,raw:()=>ni,serializeJsonQuery:()=>rZ,skip:()=>rG,sqltag:()=>no,warnEnvConflicts:()=>void 0,warnOnce:()=>tW}),t.exports=h(a({},"__esModule",{value:!0}),e2),U(),D(),j(),M(),L(),e_();var e6={};function e5(e){return"function"==typeof e?e:t=>t.$extends(e)}function e3(e){return e}p(e6,{defineExtension:()=>e5,getExtensionContext:()=>e3}),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_();var e8={};function e4(){return e=>e}p(e8,{validator:()=>e4}),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_();var e9,e7,te,tt,tr=!0;"u">typeof C&&({FORCE_COLOR:e9,NODE_DISABLE_COLORS:e7,NO_COLOR:te,TERM:tt}=C.env||{},tr=C.stdout&&C.stdout.isTTY);var tn={enabled:!e7&&null==te&&"dumb"!==tt&&(null!=e9&&"0"!==e9||tr)};function ti(e,t){let r=RegExp(`\\x1b\\[${t}m`,"g"),n=`\x1b[${e}m`,i=`\x1b[${t}m`;return function(e){return tn.enabled&&null!=e?n+(~(""+e).indexOf(i)?e.replace(r,i+n):e)+i:e}}ti(0,0);var ta=ti(1,22),to=ti(2,22),ts=(ti(3,23),ti(4,24)),tl=(ti(7,27),ti(8,28),ti(9,29),ti(30,39),ti(31,39)),tc=ti(32,39),tu=ti(33,39),td=ti(34,39),tp=(ti(35,39),ti(36,39)),th=(ti(37,39),ti(90,39));ti(90,39),ti(40,49),ti(41,49),ti(42,49),ti(43,49),ti(44,49),ti(45,49),ti(46,49),ti(47,49),U(),D(),j(),M(),L(),e_();var tf=["green","yellow","blue","magenta","cyan","red"],tg=[],tm=Date.now(),ty=0,tb="u">typeof C?C.env:{};globalThis.DEBUG??=tb.DEBUG??"",globalThis.DEBUG_COLORS??=!tb.DEBUG_COLORS||"true"===tb.DEBUG_COLORS;var tw={enable(e){"string"==typeof e&&(globalThis.DEBUG=e)},disable(){let e=globalThis.DEBUG;return globalThis.DEBUG="",e},enabled(e){let t=globalThis.DEBUG.split(",").map(e=>e.replace(/[.+?^${}()|[\]\\]/g,"\\$&")),r=t.some(t=>""!==t&&"-"!==t[0]&&e.match(RegExp(t.split("*").join(".*")+"$"))),n=t.some(t=>""!==t&&"-"===t[0]&&e.match(RegExp(t.slice(1).split("*").join(".*")+"$")));return r&&!n},log:(...e)=>{let[t,r,...n]=e;(console.warn??console.log)(`${t} ${r}`,...n)},formatters:{}},t_=new Proxy(function(e){let t={color:tf[ty++%tf.length],enabled:tw.enabled(e),namespace:e,log:tw.log,extend:()=>{}};return new Proxy((...e)=>{let{enabled:r,namespace:n,color:i,log:a}=t;if(0!==e.length&&tg.push([n,...e]),tg.length>100&&tg.shift(),tw.enabled(n)||r){let t=e.map(e=>"string"==typeof e?e:function(e,t=2){let r=new Set;return JSON.stringify(e,(e,t)=>{if("object"==typeof t&&null!==t){if(r.has(t))return"[Circular *]";r.add(t)}else if("bigint"==typeof t)return t.toString();return t},t)}(e)),r=`+${Date.now()-tm}ms`;tm=Date.now(),a(n,...t,r)}},{get:(e,r)=>t[r],set:(e,r,n)=>t[r]=n})},{get:(e,t)=>tw[t],set:(e,t,r)=>tw[t]=r});U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_();var tv=eq().version;function tE(e){let t;return("library"===(t=C.env.PRISMA_CLIENT_ENGINE_TYPE)?"library":"binary"===t?"binary":"client"===t?"client":void 0)||(e?.config.engineType==="library"?"library":e?.config.engineType==="binary"?"binary":e?.config.engineType==="client"?"client":"library")}function tS(e){return"DriverAdapterError"===e.name&&"object"==typeof e.cause}function tx(e){return{ok:!0,value:e,map:t=>tx(t(e)),flatMap:t=>t(e)}}function tk(e){return{ok:!1,error:e,map:()=>tk(e),flatMap:()=>tk(e)}}U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_();var tP=t_("driver-adapter-utils"),tA=class{registeredErrors=[];consumeError(e){return this.registeredErrors[e]}registerNewError(e){let t=0;for(;void 0!==this.registeredErrors[t];)t++;return this.registeredErrors[t]={error:e},t}},tR=(e,t=new tA)=>{var r,n;let i={adapterName:e.adapterName,errorRegistry:t,queryRaw:tO(t,e.queryRaw.bind(e)),executeRaw:tO(t,e.executeRaw.bind(e)),executeScript:tO(t,e.executeScript.bind(e)),dispose:tO(t,e.dispose.bind(e)),provider:e.provider,startTransaction:async(...r)=>(await tO(t,e.startTransaction.bind(e))(...r)).map(e=>tT(t,e))};return e.getConnectionInfo&&(r=t,n=e.getConnectionInfo.bind(e),i.getConnectionInfo=(...e)=>{try{return tx(n(...e))}catch(e){if(tP("[error@wrapSync]",e),tS(e))return tk(e.cause);return tk({kind:"GenericJs",id:r.registerNewError(e)})}}),i},tT=(e,t)=>({adapterName:t.adapterName,provider:t.provider,options:t.options,queryRaw:tO(e,t.queryRaw.bind(t)),executeRaw:tO(e,t.executeRaw.bind(t)),commit:tO(e,t.commit.bind(t)),rollback:tO(e,t.rollback.bind(t))});function tO(e,t){return async(...r)=>{try{return tx(await t(...r))}catch(t){if(tP("[error@wrapAsync]",t),tS(t))return tk(t.cause);return tk({kind:"GenericJs",id:e.registerNewError(t)})}}}U(),D(),j(),M(),L(),e_();var tC={};p(tC,{error:()=>tj,info:()=>tD,log:()=>t$,query:()=>tM,should:()=>tI,tags:()=>tN,warn:()=>tU}),U(),D(),j(),M(),L(),e_();var tN={error:tl("prisma:error"),warn:tu("prisma:warn"),info:tp("prisma:info"),query:td("prisma:query")},tI={warn:()=>!C.env.PRISMA_DISABLE_WARNINGS};function t$(...e){console.log(...e)}function tU(e,...t){tI.warn()&&console.warn(`${tN.warn} ${e}`,...t)}function tD(e,...t){console.info(`${tN.info} ${e}`,...t)}function tj(e,...t){console.error(`${tN.error} ${e}`,...t)}function tM(e,...t){console.log(`${tN.query} ${e}`,...t)}function tL(e,t){if(!e)throw Error(`${t}. This should never happen. If you see this error, please, open an issue at https://pris.ly/prisma-prisma-bug-report`)}function tq(e,t){throw Error(t)}U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_();var tH=function({onlyFirst:e=!1}={}){return RegExp("[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?(?:\\u0007|\\u001B\\u005C|\\u009C))|(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))",e?void 0:"g")}();function tF(e,t){let r={};for(let n of Object.keys(e))r[n]=t(e[n],n);return r}function tV(e,t){Object.defineProperty(e,"name",{value:t,configurable:!0})}U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_();var tB=new Set,tW=(e,t,...r)=>{tB.has(e)||(tB.add(e),tU(t,...r))},tK=class e extends Error{clientVersion;errorCode;retryable;constructor(t,r,n){super(t),this.name="PrismaClientInitializationError",this.clientVersion=r,this.errorCode=n,Error.captureStackTrace(e)}get[Symbol.toStringTag](){return"PrismaClientInitializationError"}};tV(tK,"PrismaClientInitializationError"),U(),D(),j(),M(),L(),e_();var tJ=class extends Error{code;meta;clientVersion;batchRequestIdx;constructor(e,{code:t,clientVersion:r,meta:n,batchRequestIdx:i}){super(e),this.name="PrismaClientKnownRequestError",this.code=t,this.clientVersion=r,this.meta=n,Object.defineProperty(this,"batchRequestIdx",{value:i,enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return"PrismaClientKnownRequestError"}};tV(tJ,"PrismaClientKnownRequestError"),U(),D(),j(),M(),L(),e_();var tz=class extends Error{clientVersion;constructor(e,t){super(e),this.name="PrismaClientRustPanicError",this.clientVersion=t}get[Symbol.toStringTag](){return"PrismaClientRustPanicError"}};tV(tz,"PrismaClientRustPanicError"),U(),D(),j(),M(),L(),e_();var tG=class extends Error{clientVersion;batchRequestIdx;constructor(e,{clientVersion:t,batchRequestIdx:r}){super(e),this.name="PrismaClientUnknownRequestError",this.clientVersion=t,Object.defineProperty(this,"batchRequestIdx",{value:r,writable:!0,enumerable:!1})}get[Symbol.toStringTag](){return"PrismaClientUnknownRequestError"}};tV(tG,"PrismaClientUnknownRequestError"),U(),D(),j(),M(),L(),e_();var tX=class extends Error{name="PrismaClientValidationError";clientVersion;constructor(e,{clientVersion:t}){super(e),this.clientVersion=t}get[Symbol.toStringTag](){return"PrismaClientValidationError"}};tV(tX,"PrismaClientValidationError"),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_();var tQ=class{_map=new Map;get(e){return this._map.get(e)?.value}set(e,t){this._map.set(e,{value:t})}getOrCreate(e,t){let r=this._map.get(e);if(r)return r.value;let n=t();return this.set(e,n),n}};function tY(e){return e.substring(0,1).toLowerCase()+e.substring(1)}function tZ(e){let t;return{get:()=>(t||(t={value:e()}),t.value)}}function t0(e){return{models:t1(e.models),enums:t1(e.enums),types:t1(e.types)}}function t1(e){let t={};for(let{name:r,...n}of e)t[r]=n;return t}function t2(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function t6(e){return"Invalid Date"!==e.toString()}function t5(e){return!!ey.isDecimal(e)||null!==e&&"object"==typeof e&&"number"==typeof e.s&&"number"==typeof e.e&&"function"==typeof e.toFixed&&Array.isArray(e.d)}U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_(),e_(),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_();var t3={};function t8(e){return{name:e.name,values:e.values.map(e=>e.name)}}p(t3,{ModelAction:()=>t4,datamodelEnumToSchemaEnum:()=>t8}),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_();var t4=((n=t4||{}).findUnique="findUnique",n.findUniqueOrThrow="findUniqueOrThrow",n.findFirst="findFirst",n.findFirstOrThrow="findFirstOrThrow",n.findMany="findMany",n.create="create",n.createMany="createMany",n.createManyAndReturn="createManyAndReturn",n.update="update",n.updateMany="updateMany",n.updateManyAndReturn="updateManyAndReturn",n.upsert="upsert",n.delete="delete",n.deleteMany="deleteMany",n.groupBy="groupBy",n.count="count",n.aggregate="aggregate",n.findRaw="findRaw",n.aggregateRaw="aggregateRaw",n);f(eX());var t9={red:tl,gray:th,dim:to,bold:ta,underline:ts,highlightSource:e=>e.highlight()},t7={red:e=>e,gray:e=>e,dim:e=>e,bold:e=>e,underline:e=>e,highlightSource:e=>e};function re(e){let t=e.showColors?t9:t7;return function({functionName:e,location:t,message:r,isPanic:n,contextLines:i,callArguments:a},o){var s;let l,c=[""],u=t?" in":":";if(n?(c.push(o.red(`Oops, an unknown error occurred! This is ${o.bold("on us")}, you did nothing wrong.`)),c.push(o.red(`It occurred in the ${o.bold(`\`${e}\``)} invocation${u}`))):c.push(o.red(`Invalid ${o.bold(`\`${e}\``)} invocation${u}`)),t&&c.push(o.underline((l=[(s=t).fileName],s.lineNumber&&l.push(String(s.lineNumber)),s.columnNumber&&l.push(String(s.columnNumber)),l.join(":")))),i){c.push("");let e=[i.toString()];a&&(e.push(a),e.push(o.dim(")"))),c.push(e.join("")),a&&c.push("")}else c.push(""),a&&c.push(a),c.push("");return c.push(r),c.join(`
`)}("u">typeof $getTemplateParameters?$getTemplateParameters(e,t):function({message:e,originalMethod:t,isPanic:r,callArguments:n}){return{functionName:`prisma.${t}()`,message:e,isPanic:r??!1,callArguments:n}}(e),t)}U(),D(),j(),M(),L(),e_();var rt=f(eQ());function rr(e){let t=0;return Array.isArray(e.selectionPath)&&(t+=e.selectionPath.length),Array.isArray(e.argumentPath)&&(t+=e.argumentPath.length),t}function rn(e){switch(e.kind){case"InvalidArgumentValue":case"ValueTooLarge":return 20;case"InvalidArgumentType":return 10;case"RequiredArgumentMissing":return -10;default:return 0}}U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_();var ri=class{constructor(e,t){this.name=e,this.value=t}isRequired=!1;makeRequired(){return this.isRequired=!0,this}write(e){let{colors:{green:t}}=e.context;e.addMarginSymbol(t(this.isRequired?"+":"?")),e.write(t(this.name)),this.isRequired||e.write(t("?")),e.write(t(": ")),"string"==typeof this.value?e.write(t(this.value)):e.write(this.value)}};U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_(),eZ(),U(),D(),j(),M(),L(),e_();var ra=class{constructor(e=0,t){this.context=t,this.currentIndent=e}lines=[];currentLine="";currentIndent=0;marginSymbol;afterNextNewLineCallback;write(e){return"string"==typeof e?this.currentLine+=e:e.write(this),this}writeJoined(e,t,r=(e,t)=>t.write(e)){let n=t.length-1;for(let i=0;i<t.length;i++)r(t[i],this),i!==n&&this.write(e);return this}writeLine(e){return this.write(e).newLine()}newLine(){this.lines.push(this.indentedCurrentLine()),this.currentLine="",this.marginSymbol=void 0;let e=this.afterNextNewLineCallback;return this.afterNextNewLineCallback=void 0,e?.(),this}withIndent(e){return this.indent(),e(this),this.unindent(),this}afterNextNewline(e){return this.afterNextNewLineCallback=e,this}indent(){return this.currentIndent++,this}unindent(){return this.currentIndent>0&&this.currentIndent--,this}addMarginSymbol(e){return this.marginSymbol=e,this}toString(){return this.lines.concat(this.indentedCurrentLine()).join(`
`)}getCurrentLineLength(){return this.currentLine.length}indentedCurrentLine(){let e=this.currentLine.padStart(this.currentLine.length+2*this.currentIndent);return this.marginSymbol?this.marginSymbol+e.slice(1):e}};eY(),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_();var ro=class{constructor(e){this.value=e}write(e){e.write(this.value)}markAsError(){this.value.markAsError()}};U(),D(),j(),M(),L(),e_();var rs=e=>e,rl={bold:rs,red:rs,green:rs,dim:rs,enabled:!1},rc={bold:ta,red:tl,green:tc,dim:to,enabled:!0},ru={write(e){e.writeLine(",")}};U(),D(),j(),M(),L(),e_();var rd=class{constructor(e){this.contents=e}isUnderlined=!1;color=e=>e;underline(){return this.isUnderlined=!0,this}setColor(e){return this.color=e,this}write(e){let t=e.getCurrentLineLength();e.write(this.color(this.contents)),this.isUnderlined&&e.afterNextNewline(()=>{e.write(" ".repeat(t)).writeLine(this.color("~".repeat(this.contents.length)))})}};U(),D(),j(),M(),L(),e_();var rp=class{hasError=!1;markAsError(){return this.hasError=!0,this}},rh=class extends rp{items=[];addItem(e){return this.items.push(new ro(e)),this}getField(e){return this.items[e]}getPrintWidth(){return 0===this.items.length?2:Math.max(...this.items.map(e=>e.value.getPrintWidth()))+2}write(e){0===this.items.length?this.writeEmpty(e):this.writeWithItems(e)}writeEmpty(e){let t=new rd("[]");this.hasError&&t.setColor(e.context.colors.red).underline(),e.write(t)}writeWithItems(e){let{colors:t}=e.context;e.writeLine("[").withIndent(()=>e.writeJoined(ru,this.items).newLine()).write("]"),this.hasError&&e.afterNextNewline(()=>{e.writeLine(t.red("~".repeat(this.getPrintWidth())))})}asObject(){}},rf=class e extends rp{fields={};suggestions=[];addField(e){this.fields[e.name]=e}addSuggestion(e){this.suggestions.push(e)}getField(e){return this.fields[e]}getDeepField(t){let[r,...n]=t,i=this.getField(r);if(!i)return;let a=i;for(let t of n){let r;if(a.value instanceof e?r=a.value.getField(t):a.value instanceof rh&&(r=a.value.getField(Number(t))),!r)return;a=r}return a}getDeepFieldValue(e){return 0===e.length?this:this.getDeepField(e)?.value}hasField(e){return!!this.getField(e)}removeAllFields(){this.fields={}}removeField(e){delete this.fields[e]}getFields(){return this.fields}isEmpty(){return 0===Object.keys(this.fields).length}getFieldValue(e){return this.getField(e)?.value}getDeepSubSelectionValue(t){let r=this;for(let n of t){if(!(r instanceof e))return;let t=r.getSubSelectionValue(n);if(!t)return;r=t}return r}getDeepSelectionParent(t){let r=this.getSelectionParent();if(!r)return;let n=r;for(let r of t){let t=n.value.getFieldValue(r);if(!t||!(t instanceof e))return;let i=t.getSelectionParent();if(!i)return;n=i}return n}getSelectionParent(){let e=this.getField("select")?.value.asObject();if(e)return{kind:"select",value:e};let t=this.getField("include")?.value.asObject();if(t)return{kind:"include",value:t}}getSubSelectionValue(e){return this.getSelectionParent()?.value.fields[e].value}getPrintWidth(){let e=Object.values(this.fields);return 0==e.length?2:Math.max(...e.map(e=>e.getPrintWidth()))+2}write(e){let t=Object.values(this.fields);0===t.length&&0===this.suggestions.length?this.writeEmpty(e):this.writeWithContents(e,t)}asObject(){return this}writeEmpty(e){let t=new rd("{}");this.hasError&&t.setColor(e.context.colors.red).underline(),e.write(t)}writeWithContents(e,t){e.writeLine("{").withIndent(()=>{e.writeJoined(ru,[...t,...this.suggestions]).newLine()}),e.write("}"),this.hasError&&e.afterNextNewline(()=>{e.writeLine(e.context.colors.red("~".repeat(this.getPrintWidth())))})}};U(),D(),j(),M(),L(),e_();var rg=class extends rp{constructor(e){super(),this.text=e}getPrintWidth(){return this.text.length}write(e){let t=new rd(this.text);this.hasError&&t.underline().setColor(e.context.colors.red),e.write(t)}asObject(){}};U(),D(),j(),M(),L(),e_();var rm=class{fields=[];addField(e,t){return this.fields.push({write(r){let{green:n,dim:i}=r.context.colors;r.write(n(i(`${e}: ${t}`))).addMarginSymbol(n(i("+")))}}),this}write(e){let{colors:{green:t}}=e.context;e.writeLine(t("{")).withIndent(()=>{e.writeJoined(ru,this.fields).newLine()}).write(t("}")).addMarginSymbol(t("+"))}};function ry(e,t,r){let n=[`Unknown argument \`${e.red(t)}\`.`],i=function(e,t){let r=1/0,n;for(let i of t){let t=(0,rt.default)(e,i);t>3||t<r&&(r=t,n=i)}return n}(t,r);return i&&n.push(`Did you mean \`${e.green(i)}\`?`),r.length>0&&n.push(rE(e)),n.join(" ")}function rb(e,t){for(let r of t.fields)e.hasField(r.name)||e.addSuggestion(new ri(r.name,"true"))}function rw(e,t){let[r,n]=rv(e),i=t.arguments.getDeepSubSelectionValue(r)?.asObject();if(!i)return{parentKind:"unknown",fieldName:n};let a=i.getFieldValue("select")?.asObject(),o=i.getFieldValue("include")?.asObject(),s=i.getFieldValue("omit")?.asObject(),l=a?.getField(n);return a&&l?{parentKind:"select",parent:a,field:l,fieldName:n}:(l=o?.getField(n),o&&l?{parentKind:"include",field:l,parent:o,fieldName:n}:(l=s?.getField(n),s&&l?{parentKind:"omit",field:l,parent:s,fieldName:n}:{parentKind:"unknown",fieldName:n}))}function r_(e,t){if("object"===t.kind)for(let r of t.fields)e.hasField(r.name)||e.addSuggestion(new ri(r.name,r.typeNames.join(" | ")))}function rv(e){let t=[...e],r=t.pop();if(!r)throw Error("unexpected empty path");return[t,r]}function rE({green:e,enabled:t}){return"Available options are "+(t?`listed in ${e("green")}`:"marked with ?")+"."}function rS(e,t){if(1===t.length)return t[0];let r=[...t],n=r.pop();return`${r.join(", ")} ${e} ${n}`}U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_();var rx=class{modelName;name;typeName;isList;isEnum;constructor(e,t,r,n,i){this.modelName=e,this.name=t,this.typeName=r,this.isList=n,this.isEnum=i}_toGraphQLInputType(){let e=this.isList?"List":"",t=this.isEnum?"Enum":"";return`${e}${t}${this.typeName}FieldRefInput<${this.modelName}>`}};function rk(e){return e instanceof rx}U(),D(),j(),M(),L(),e_();var rP=Symbol(),rA=new WeakMap,rR=class{constructor(e){e===rP?rA.set(this,`Prisma.${this._getName()}`):rA.set(this,`new Prisma.${this._getNamespace()}.${this._getName()}()`)}_getName(){return this.constructor.name}toString(){return rA.get(this)}},rT=class extends rR{_getNamespace(){return"NullTypes"}},rO=class extends rT{#e};r$(rO,"DbNull");var rC=class extends rT{#e};r$(rC,"JsonNull");var rN=class extends rT{#e};r$(rN,"AnyNull");var rI={classes:{DbNull:rO,JsonNull:rC,AnyNull:rN},instances:{DbNull:new rO(rP),JsonNull:new rC(rP),AnyNull:new rN(rP)}};function r$(e,t){Object.defineProperty(e,"name",{value:t,configurable:!0})}U(),D(),j(),M(),L(),e_();var rU=class{constructor(e,t){this.name=e,this.value=t}hasError=!1;markAsError(){this.hasError=!0}getPrintWidth(){return this.name.length+this.value.getPrintWidth()+2}write(e){let t=new rd(this.name);this.hasError&&t.underline().setColor(e.context.colors.red),e.write(t).write(": ").write(this.value)}},rD=class{arguments;errorMessages=[];constructor(e){this.arguments=e}write(e){e.write(this.arguments)}addErrorMessage(e){this.errorMessages.push(e)}renderAllMessages(e){return this.errorMessages.map(t=>t(e)).join(`
`)}};function rj(e){return new rD(rM(e))}function rM(e){let t=new rf;for(let[r,n]of Object.entries(e)){let e=new rU(r,function e(t){if("string"==typeof t)return new rg(JSON.stringify(t));if("number"==typeof t||"boolean"==typeof t)return new rg(String(t));if("bigint"==typeof t)return new rg(`${t}n`);if(null===t)return new rg("null");if(void 0===t)return new rg("undefined");if(t5(t))return new rg(`new Prisma.Decimal("${t.toFixed()}")`);if(t instanceof Uint8Array)return new rg(T.isBuffer(t)?`Buffer.alloc(${t.byteLength})`:`new Uint8Array(${t.byteLength})`);if(t instanceof Date){let e=t6(t)?t.toISOString():"Invalid Date";return new rg(`new Date("${e}")`)}return t instanceof rR?new rg(`Prisma.${t._getName()}`):rk(t)?new rg(`prisma.${tY(t.modelName)}.$fields.${t.name}`):Array.isArray(t)?function(t){let r=new rh;for(let n of t)r.addItem(e(n));return r}(t):"object"==typeof t?rM(t):new rg(Object.prototype.toString.call(t))}(n));t.addField(e)}return t}function rL(e,t){let r="pretty"===t?rc:rl;return{message:e.renderAllMessages(r),args:new ra(0,{colors:r}).write(e).toString()}}function rq({args:e,errors:t,errorFormat:r,callsite:n,originalMethod:i,clientVersion:a,globalOmit:o}){let s=rj(e);for(let e of t)!function e(t,r,n){switch(t.kind){case"MutuallyExclusiveFields":let i;p=t,h=r,(i=h.arguments.getDeepSubSelectionValue(p.selectionPath)?.asObject())&&(i.getField(p.firstField)?.markAsError(),i.getField(p.secondField)?.markAsError()),h.addErrorMessage(e=>`Please ${e.bold("either")} use ${e.green(`\`${p.firstField}\``)} or ${e.green(`\`${p.secondField}\``)}, but ${e.red("not both")} at the same time.`);break;case"IncludeOnScalar":!function(e,t){let[r,n]=rv(e.selectionPath),i=e.outputType,a=t.arguments.getDeepSelectionParent(r)?.value;if(a&&(a.getField(n)?.markAsError(),i))for(let e of i.fields)e.isRelation&&a.addSuggestion(new ri(e.name,"true"));t.addErrorMessage(e=>{let t=`Invalid scalar field ${e.red(`\`${n}\``)} for ${e.bold("include")} statement`;return i?t+=` on model ${e.bold(i.name)}. ${rE(e)}`:t+=".",t+=`
Note that ${e.bold("include")} statements only accept relation fields.`})}(t,r);break;case"EmptySelection":!function(e,t,r){let n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(n){let r=n.getField("omit")?.value.asObject();if(r){var i,a,o=e,s=t,l=r;for(let e of(l.removeAllFields(),o.outputType.fields))l.addSuggestion(new ri(e.name,"false"));s.addErrorMessage(e=>`The ${e.red("omit")} statement includes every field of the model ${e.bold(o.outputType.name)}. At least one field must be included in the result`);return}if(n.hasField("select")){let r,n,o;return i=e,a=t,r=i.outputType,n=a.arguments.getDeepSelectionParent(i.selectionPath)?.value,o=n?.isEmpty()??!1,n&&(n.removeAllFields(),rb(n,r)),a.addErrorMessage(e=>o?`The ${e.red("`select`")} statement for type ${e.bold(r.name)} must not be empty. ${rE(e)}`:`The ${e.red("`select`")} statement for type ${e.bold(r.name)} needs ${e.bold("at least one truthy value")}.`)}}r?.[tY(e.outputType.name)]?function(e,t){let r=new rm;for(let t of e.outputType.fields)t.isRelation||r.addField(t.name,"false");let n=new ri("omit",r).makeRequired();if(0===e.selectionPath.length)t.arguments.addSuggestion(n);else{let[r,i]=rv(e.selectionPath),a=t.arguments.getDeepSelectionParent(r)?.value.asObject()?.getField(i);if(a){let e=a?.value.asObject()??new rf;e.addSuggestion(n),a.value=e}}t.addErrorMessage(t=>`The global ${t.red("omit")} configuration excludes every field of the model ${t.bold(e.outputType.name)}. At least one field must be included in the result`)}(e,t):t.addErrorMessage(()=>`Unknown field at "${e.selectionPath.join(".")} selection"`)}(t,r,n);break;case"UnknownSelectionField":!function(e,t){let r=rw(e.selectionPath,t);if("unknown"!==r.parentKind){r.field.markAsError();let t=r.parent;switch(r.parentKind){case"select":rb(t,e.outputType);break;case"include":var n=t,i=e.outputType;for(let e of i.fields)e.isRelation&&!n.hasField(e.name)&&n.addSuggestion(new ri(e.name,"true"));break;case"omit":var a=t,o=e.outputType;for(let e of o.fields)a.hasField(e.name)||e.isRelation||a.addSuggestion(new ri(e.name,"true"))}}t.addErrorMessage(t=>{let n=[`Unknown field ${t.red(`\`${r.fieldName}\``)}`];return"unknown"!==r.parentKind&&n.push(`for ${t.bold(r.parentKind)} statement`),n.push(`on model ${t.bold(`\`${e.outputType.name}\``)}.`),n.push(rE(t)),n.join(" ")})}(t,r);break;case"InvalidSelectionValue":let a;f=t,g=r,"unknown"!==(a=rw(f.selectionPath,g)).parentKind&&a.field.value.markAsError(),g.addErrorMessage(e=>`Invalid value for selection field \`${e.red(a.fieldName)}\`: ${f.underlyingError}`);break;case"UnknownArgument":let o,s;m=t,y=r,o=m.argumentPath[0],(s=y.arguments.getDeepSubSelectionValue(m.selectionPath)?.asObject())&&(s.getField(o)?.markAsError(),function(e,t){for(let r of t)e.hasField(r.name)||e.addSuggestion(new ri(r.name,r.typeNames.join(" | ")))}(s,m.arguments)),y.addErrorMessage(e=>ry(e,o,m.arguments.map(e=>e.name)));break;case"UnknownInputField":!function(e,t){let[r,n]=rv(e.argumentPath),i=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(i){i.getDeepField(e.argumentPath)?.markAsError();let t=i.getDeepFieldValue(r)?.asObject();t&&r_(t,e.inputType)}t.addErrorMessage(t=>ry(t,n,e.inputType.fields.map(e=>e.name)))}(t,r);break;case"RequiredArgumentMissing":!function(e,t){let r;t.addErrorMessage(e=>r?.value instanceof rg&&"null"===r.value.text?`Argument \`${e.green(a)}\` must not be ${e.red("null")}.`:`Argument \`${e.green(a)}\` is missing.`);let n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(!n)return;let[i,a]=rv(e.argumentPath),o=new rm,s=n.getDeepFieldValue(i)?.asObject();if(s){if((r=s.getField(a))&&s.removeField(a),1===e.inputTypes.length&&"object"===e.inputTypes[0].kind){for(let t of e.inputTypes[0].fields)o.addField(t.name,t.typeNames.join(" | "));s.addSuggestion(new ri(a,o).makeRequired())}else{let t=e.inputTypes.map(function e(t){return"list"===t.kind?`${e(t.elementType)}[]`:t.name}).join(" | ");s.addSuggestion(new ri(a,t).makeRequired())}if(e.dependentArgumentPath){n.getDeepField(e.dependentArgumentPath)?.markAsError();let[,r]=rv(e.dependentArgumentPath);t.addErrorMessage(e=>`Argument \`${e.green(a)}\` is required because argument \`${e.green(r)}\` was provided.`)}}}(t,r);break;case"InvalidArgumentType":let l,c;b=t,w=r,l=b.argument.name,(c=w.arguments.getDeepSubSelectionValue(b.selectionPath)?.asObject())&&c.getDeepFieldValue(b.argumentPath)?.markAsError(),w.addErrorMessage(e=>{let t=rS("or",b.argument.typeNames.map(t=>e.green(t)));return`Argument \`${e.bold(l)}\`: Invalid value provided. Expected ${t}, provided ${e.red(b.inferredType)}.`});break;case"InvalidArgumentValue":let u,d;_=t,v=r,u=_.argument.name,(d=v.arguments.getDeepSubSelectionValue(_.selectionPath)?.asObject())&&d.getDeepFieldValue(_.argumentPath)?.markAsError(),v.addErrorMessage(e=>{let t=[`Invalid value for argument \`${e.bold(u)}\``];if(_.underlyingError&&t.push(`: ${_.underlyingError}`),t.push("."),_.argument.typeNames.length>0){let r=rS("or",_.argument.typeNames.map(t=>e.green(t)));t.push(` Expected ${r}.`)}return t.join("")});break;case"ValueTooLarge":var p,h,f,g,m,y,b,w,_,v,E=t,S=r;let x=E.argument.name,k=S.arguments.getDeepSubSelectionValue(E.selectionPath)?.asObject(),P;if(k){let e=k.getDeepField(E.argumentPath)?.value;e?.markAsError(),e instanceof rg&&(P=e.text)}S.addErrorMessage(e=>{let t=["Unable to fit value"];return P&&t.push(e.red(P)),t.push(`into a 64-bit signed integer for field \`${e.bold(x)}\``),t.join(" ")});break;case"SomeFieldsMissing":var A=t,R=r;let T=A.argumentPath[A.argumentPath.length-1],O=R.arguments.getDeepSubSelectionValue(A.selectionPath)?.asObject();if(O){let e=O.getDeepFieldValue(A.argumentPath)?.asObject();e&&r_(e,A.inputType)}R.addErrorMessage(e=>{let t=[`Argument \`${e.bold(T)}\` of type ${e.bold(A.inputType.name)} needs`];return 1===A.constraints.minFieldCount?A.constraints.requiredFields?t.push(`${e.green("at least one of")} ${rS("or",A.constraints.requiredFields.map(t=>`\`${e.bold(t)}\``))} arguments.`):t.push(`${e.green("at least one")} argument.`):t.push(`${e.green(`at least ${A.constraints.minFieldCount}`)} arguments.`),t.push(rE(e)),t.join(" ")});break;case"TooManyFieldsGiven":var C=t,N=r;let I=C.argumentPath[C.argumentPath.length-1],$=N.arguments.getDeepSubSelectionValue(C.selectionPath)?.asObject(),U=[];if($){let e=$.getDeepFieldValue(C.argumentPath)?.asObject();e&&(e.markAsError(),U=Object.keys(e.getFields()))}N.addErrorMessage(e=>{let t=[`Argument \`${e.bold(I)}\` of type ${e.bold(C.inputType.name)} needs`];return 1===C.constraints.minFieldCount&&1==C.constraints.maxFieldCount?t.push(`${e.green("exactly one")} argument,`):1==C.constraints.maxFieldCount?t.push(`${e.green("at most one")} argument,`):t.push(`${e.green(`at most ${C.constraints.maxFieldCount}`)} arguments,`),t.push(`but you provided ${rS("and",U.map(t=>e.red(t)))}. Please choose`),1===C.constraints.maxFieldCount?t.push("one."):t.push(`${C.constraints.maxFieldCount}.`),t.join(" ")});break;case"Union":let D;(D=function(e){var t=(e,t)=>{let r=rr(e),n=rr(t);return r!==n?r-n:rn(e)-rn(t)};if(0===e.length)return;let r=e[0];for(let n=1;n<e.length;n++)0>t(r,e[n])&&(r=e[n]);return r}(function(e){let t=new Map,r=[];for(let a of e){var n,i;if("InvalidArgumentType"!==a.kind){r.push(a);continue}let e=`${a.selectionPath.join(".")}:${a.argumentPath.join(".")}`,o=t.get(e);o?t.set(e,{...a,argument:{...a.argument,typeNames:(n=o.argument.typeNames,i=a.argument.typeNames,[...new Set(n.concat(i))])}}):t.set(e,a)}return r.push(...t.values()),r}(function e(t){return t.errors.flatMap(t=>"Union"===t.kind?e(t):[t])}(t))))?e(D,r,n):r.addErrorMessage(()=>"Unknown error");break;default:throw Error("not implemented: "+t.kind)}}(e,s,o);let{message:l,args:c}=rL(s,r);throw new tX(re({message:l,callsite:n,originalMethod:i,showColors:"pretty"===r,callArguments:c}),{clientVersion:a})}function rH(e){return e.replace(/^./,e=>e.toLowerCase())}function rF(e,t,r){return r?tF(r,({needs:e,compute:r},n)=>{var i,a,o;let s;return{name:n,needs:e?Object.keys(e).filter(t=>e[t]):[],compute:(i=t,a=n,o=r,(s=i?.[a]?.compute)?e=>o({...e,[a]:s(e)}):o)}}):{}}U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_();var rV=class{constructor(e,t){this.extension=e,this.previous=t}computedFieldsCache=new tQ;modelExtensionsCache=new tQ;queryCallbacksCache=new tQ;clientExtensions=tZ(()=>this.extension.client?{...this.previous?.getAllClientExtensions(),...this.extension.client}:this.previous?.getAllClientExtensions());batchCallbacks=tZ(()=>{let e=this.previous?.getAllBatchQueryCallbacks()??[],t=this.extension.query?.$__internalBatch;return t?e.concat(t):e});getAllComputedFields(e){return this.computedFieldsCache.getOrCreate(e,()=>{var t,r,n;let i,a,o;return t=this.previous?.getAllComputedFields(e),r=this.extension,i=rH(e),r.result&&(r.result.$allModels||r.result[i])?(n={...t,...rF(r.name,t,r.result.$allModels),...rF(r.name,t,r.result[i])},a=new tQ,o=(e,t)=>a.getOrCreate(e,()=>t.has(e)?[e]:(t.add(e),n[e]?n[e].needs.flatMap(e=>o(e,t)):[e])),tF(n,e=>({...e,needs:o(e.name,new Set)}))):t})}getAllClientExtensions(){return this.clientExtensions.get()}getAllModelExtensions(e){return this.modelExtensionsCache.getOrCreate(e,()=>{let t=rH(e);return this.extension.model&&(this.extension.model[t]||this.extension.model.$allModels)?{...this.previous?.getAllModelExtensions(e),...this.extension.model.$allModels,...this.extension.model[t]}:this.previous?.getAllModelExtensions(e)})}getAllQueryCallbacks(e,t){return this.queryCallbacksCache.getOrCreate(`${e}:${t}`,()=>{let r=this.previous?.getAllQueryCallbacks(e,t)??[],n=[],i=this.extension.query;return i&&(i[e]||i.$allModels||i[t]||i.$allOperations)?(void 0!==i[e]&&(void 0!==i[e][t]&&n.push(i[e][t]),void 0!==i[e].$allOperations&&n.push(i[e].$allOperations)),"$none"!==e&&void 0!==i.$allModels&&(void 0!==i.$allModels[t]&&n.push(i.$allModels[t]),void 0!==i.$allModels.$allOperations&&n.push(i.$allModels.$allOperations)),void 0!==i[t]&&n.push(i[t]),void 0!==i.$allOperations&&n.push(i.$allOperations),r.concat(n)):r})}getAllBatchQueryCallbacks(){return this.batchCallbacks.get()}},rB=class e{constructor(e){this.head=e}static empty(){return new e}static single(t){return new e(new rV(t))}isEmpty(){return void 0===this.head}append(t){return new e(new rV(t,this.head))}getAllComputedFields(e){return this.head?.getAllComputedFields(e)}getAllClientExtensions(){return this.head?.getAllClientExtensions()}getAllModelExtensions(e){return this.head?.getAllModelExtensions(e)}getAllQueryCallbacks(e,t){return this.head?.getAllQueryCallbacks(e,t)??[]}getAllBatchQueryCallbacks(){return this.head?.getAllBatchQueryCallbacks()??[]}};U(),D(),j(),M(),L(),e_();var rW=class{constructor(e){this.name=e}};function rK(e){return new rW(e)}U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_();var rJ=Symbol(),rz=class{constructor(e){if(e!==rJ)throw Error("Skip instance can not be constructed directly")}ifUndefined(e){return void 0===e?rG:e}},rG=new rz(rJ);function rX(e){return e instanceof rz}var rQ={findUnique:"findUnique",findUniqueOrThrow:"findUniqueOrThrow",findFirst:"findFirst",findFirstOrThrow:"findFirstOrThrow",findMany:"findMany",count:"aggregate",create:"createOne",createMany:"createMany",createManyAndReturn:"createManyAndReturn",update:"updateOne",updateMany:"updateMany",updateManyAndReturn:"updateManyAndReturn",upsert:"upsertOne",delete:"deleteOne",deleteMany:"deleteMany",executeRaw:"executeRaw",queryRaw:"queryRaw",aggregate:"aggregate",groupBy:"groupBy",runCommandRaw:"runCommandRaw",findRaw:"findRaw",aggregateRaw:"aggregateRaw"},rY="explicitly `undefined` values are not allowed";function rZ({modelName:e,action:t,args:r,runtimeDataModel:n,extensions:i=rB.empty(),callsite:a,clientMethod:o,errorFormat:s,clientVersion:l,previewFeatures:c,globalOmit:u}){let d=new r2({runtimeDataModel:n,modelName:e,action:t,rootArgs:r,callsite:a,extensions:i,selectionPath:[],argumentPath:[],originalMethod:o,errorFormat:s,clientVersion:l,previewFeatures:c,globalOmit:u});return{modelName:e,action:rQ[t],query:function e({select:t,include:r,...n}={},i){var a,o,s,l,c,u,d;let p,h=n.omit;return delete n.omit,{arguments:r0(n,i),selection:(a=t,o=r,s=h,l=i,a?(o?l.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"include",secondField:"select",selectionPath:l.getSelectionPath()}):s&&l.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"omit",secondField:"select",selectionPath:l.getSelectionPath()}),function(t,r){let n={},i=r.getComputedFields();for(let[a,o]of Object.entries(function(e,t){if(!t)return e;let r={...e};for(let n of Object.values(t))if(e[n.name])for(let e of n.needs)r[e]=!0;return r}(t,i))){if(rX(o))continue;let t=r.nestSelection(a);r1(o,t);let s=r.findField(a);if(!(i?.[a]&&!s)){if(!1===o||void 0===o||rX(o)){n[a]=!1;continue}if(!0===o){s?.kind==="object"?n[a]=e({},t):n[a]=!0;continue}n[a]=e(o,t)}}return n}(a,l)):(c=l,u=o,d=s,p={},c.modelOrType&&!c.isRawAction()&&(p.$composites=!0,p.$scalars=!0),u&&function(t,r,n){for(let[i,a]of Object.entries(r)){if(rX(a))continue;let r=n.nestSelection(i);if(r1(a,r),!1===a||void 0===a){t[i]=!1;continue}let o=n.findField(i);if(o&&"object"!==o.kind&&n.throwValidationError({kind:"IncludeOnScalar",selectionPath:n.getSelectionPath().concat(i),outputType:n.getOutputTypeDescription()}),o){t[i]=e(!0===a?{}:a,r);continue}if(!0===a){t[i]=!0;continue}t[i]=e(a,r)}}(p,u,c),function(e,t,r){let n=r.getComputedFields();for(let[i,a]of Object.entries(function(e,t){if(!t)return e;let r={...e};for(let n of Object.values(t))if(!e[n.name])for(let e of n.needs)delete r[e];return r}({...r.getGlobalOmit(),...t},n))){if(rX(a))continue;r1(a,r.nestSelection(i));let t=r.findField(i);n?.[i]&&!t||(e[i]=!a)}}(p,d,c),p))}}(r,d)}}function r0(e,t){if(e.$type)return{$type:"Raw",value:e};let r={};for(let n in e){let i=e[n],a=t.nestArgument(n);rX(i)||(void 0!==i?r[n]=function e(t,r){var n,i;if(null===t)return null;if("string"==typeof t||"number"==typeof t||"boolean"==typeof t)return t;if("bigint"==typeof t)return{$type:"BigInt",value:String(t)};if(t2(t)){if(t6(t))return{$type:"DateTime",value:t.toISOString()};r.throwValidationError({kind:"InvalidArgumentValue",selectionPath:r.getSelectionPath(),argumentPath:r.getArgumentPath(),argument:{name:r.getArgumentName(),typeNames:["Date"]},underlyingError:"Provided Date object is invalid"})}if(t instanceof rW)return{$type:"Param",value:t.name};if(rk(t))return{$type:"FieldRef",value:{_ref:t.name,_container:t.modelName}};if(Array.isArray(t))return function(t,r){let n=[];for(let i=0;i<t.length;i++){let a=r.nestArgument(String(i)),o=t[i];if(void 0===o||rX(o)){let e=void 0===o?"undefined":"Prisma.skip";r.throwValidationError({kind:"InvalidArgumentValue",selectionPath:a.getSelectionPath(),argumentPath:a.getArgumentPath(),argument:{name:`${r.getArgumentName()}[${i}]`,typeNames:[]},underlyingError:`Can not use \`${e}\` value within array. Use \`null\` or filter out \`${e}\` values`})}n.push(e(o,a))}return n}(t,r);if(ArrayBuffer.isView(t)){let{buffer:e,byteOffset:r,byteLength:n}=t;return{$type:"Bytes",value:T.from(e,r,n).toString("base64")}}if("object"==typeof(n=t)&&null!==n&&!0===n.__prismaRawParameters__)return t.values;if(t5(t))return{$type:"Decimal",value:t.toFixed()};if(t instanceof rR){if(t!==rI.instances[t._getName()])throw Error("Invalid ObjectEnumValue");return{$type:"Enum",value:t._getName()}}return"object"==typeof(i=t)&&null!==i&&"function"==typeof i.toJSON?t.toJSON():"object"==typeof t?r0(t,r):void r.throwValidationError({kind:"InvalidArgumentValue",selectionPath:r.getSelectionPath(),argumentPath:r.getArgumentPath(),argument:{name:r.getArgumentName(),typeNames:[]},underlyingError:`We could not serialize ${Object.prototype.toString.call(t)} value. Serialize the object to JSON or implement a ".toJSON()" method on it`})}(i,a):t.isPreviewFeatureOn("strictUndefinedChecks")&&t.throwValidationError({kind:"InvalidArgumentValue",argumentPath:a.getArgumentPath(),selectionPath:t.getSelectionPath(),argument:{name:t.getArgumentName(),typeNames:[]},underlyingError:rY}))}return r}function r1(e,t){void 0===e&&t.isPreviewFeatureOn("strictUndefinedChecks")&&t.throwValidationError({kind:"InvalidSelectionValue",selectionPath:t.getSelectionPath(),underlyingError:rY})}var r2=class e{constructor(e){this.params=e,this.params.modelName&&(this.modelOrType=this.params.runtimeDataModel.models[this.params.modelName]??this.params.runtimeDataModel.types[this.params.modelName])}modelOrType;throwValidationError(e){rq({errors:[e],originalMethod:this.params.originalMethod,args:this.params.rootArgs??{},callsite:this.params.callsite,errorFormat:this.params.errorFormat,clientVersion:this.params.clientVersion,globalOmit:this.params.globalOmit})}getSelectionPath(){return this.params.selectionPath}getArgumentPath(){return this.params.argumentPath}getArgumentName(){return this.params.argumentPath[this.params.argumentPath.length-1]}getOutputTypeDescription(){if(!(!this.params.modelName||!this.modelOrType))return{name:this.params.modelName,fields:this.modelOrType.fields.map(e=>({name:e.name,typeName:"boolean",isRelation:"object"===e.kind}))}}isRawAction(){return["executeRaw","queryRaw","runCommandRaw","findRaw","aggregateRaw"].includes(this.params.action)}isPreviewFeatureOn(e){return this.params.previewFeatures.includes(e)}getComputedFields(){if(this.params.modelName)return this.params.extensions.getAllComputedFields(this.params.modelName)}findField(e){return this.modelOrType?.fields.find(t=>t.name===e)}nestSelection(t){let r=this.findField(t),n=r?.kind==="object"?r.type:void 0;return new e({...this.params,modelName:n,selectionPath:this.params.selectionPath.concat(t)})}getGlobalOmit(){return this.params.modelName&&this.shouldApplyGlobalOmit()?this.params.globalOmit?.[tY(this.params.modelName)]??{}:{}}shouldApplyGlobalOmit(){switch(this.params.action){case"findFirst":case"findFirstOrThrow":case"findUniqueOrThrow":case"findMany":case"upsert":case"findUnique":case"createManyAndReturn":case"create":case"update":case"updateManyAndReturn":case"delete":return!0;case"executeRaw":case"aggregateRaw":case"runCommandRaw":case"findRaw":case"createMany":case"deleteMany":case"groupBy":case"updateMany":case"count":case"aggregate":case"queryRaw":return!1;default:tq(this.params.action,"Unknown action")}}nestArgument(t){return new e({...this.params,argumentPath:this.params.argumentPath.concat(t)})}};function r6(e){if(!e._hasPreviewFlag("metrics"))throw new tX("`metrics` preview feature must be enabled in order to access metrics API",{clientVersion:e._clientVersion})}U(),D(),j(),M(),L(),e_();var r5=class{_client;constructor(e){this._client=e}prometheus(e){return r6(this._client),this._client._engine.metrics({format:"prometheus",...e})}json(e){return r6(this._client),this._client._engine.metrics({format:"json",...e})}};function r3(e,t){let r=tZ(()=>(function(e){throw Error("Prisma.dmmf is not available when running in edge runtimes.")})(0));Object.defineProperty(e,"dmmf",{get:()=>r.get()})}U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_();var r8=new WeakMap,r4="$$PrismaTypedSql",r9=class{constructor(e,t){r8.set(this,{sql:e,values:t}),Object.defineProperty(this,r4,{value:r4})}get sql(){return r8.get(this).sql}get values(){return r8.get(this).values}};function r7(e){return(...t)=>new r9(e,t)}function ne(e){return null!=e&&e[r4]===r4}U(),D(),j(),M(),L(),e_();var nt=f(e0());U(),D(),j(),M(),L(),e_(),e1(),eL(),eG(),U(),D(),j(),M(),L(),e_();var nr=class e{constructor(t,r){if(t.length-1!==r.length)throw 0===t.length?TypeError("Expected at least 1 string"):TypeError(`Expected ${t.length} strings to have ${t.length-1} values`);let n=r.reduce((t,r)=>t+(r instanceof e?r.values.length:1),0);this.values=Array(n),this.strings=Array(n+1),this.strings[0]=t[0];let i=0,a=0;for(;i<r.length;){let n=r[i++],o=t[i];if(n instanceof e){this.strings[a]+=n.strings[0];let e=0;for(;e<n.values.length;)this.values[a++]=n.values[e++],this.strings[a]=n.strings[e];this.strings[a]+=o}else this.values[a++]=n,this.strings[a]=o}}get sql(){let e=this.strings.length,t=1,r=this.strings[0];for(;t<e;)r+=`?${this.strings[t++]}`;return r}get statement(){let e=this.strings.length,t=1,r=this.strings[0];for(;t<e;)r+=`:${t}${this.strings[t++]}`;return r}get text(){let e=this.strings.length,t=1,r=this.strings[0];for(;t<e;)r+=`$${t}${this.strings[t++]}`;return r}inspect(){return{sql:this.sql,statement:this.statement,text:this.text,values:this.values}}};function nn(e,t=",",r="",n=""){if(0===e.length)throw TypeError("Expected `join([])` to be called with an array of multiple elements, but got an empty array");return new nr([r,...Array(e.length-1).fill(t),n],e)}function ni(e){return new nr([e],[])}var na=ni("");function no(e,...t){return new nr(e,t)}function ns(e){return{getKeys:()=>Object.keys(e),getPropertyValue:t=>e[t]}}function nl(e,t){return{getKeys:()=>[e],getPropertyValue:()=>t()}}function nc(e){let t=new tQ;return{getKeys:()=>e.getKeys(),getPropertyValue:r=>t.getOrCreate(r,()=>e.getPropertyValue(r)),getPropertyDescriptor:t=>e.getPropertyDescriptor?.(t)}}U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_();var nu={enumerable:!0,configurable:!0,writable:!0};function nd(e){let t=new Set(e);return{getPrototypeOf:()=>Object.prototype,getOwnPropertyDescriptor:()=>nu,has:(e,r)=>t.has(r),set:(e,r,n)=>t.add(r)&&Reflect.set(e,r,n),ownKeys:()=>[...t]}}var np=Symbol.for("nodejs.util.inspect.custom");function nh(e,t){let r=function(e){let t=new Map;for(let r of e)for(let e of r.getKeys())t.set(e,r);return t}(t),n=new Set,i=new Proxy(e,{get(e,t){if(n.has(t))return e[t];let i=r.get(t);return i?i.getPropertyValue(t):e[t]},has(e,t){if(n.has(t))return!0;let i=r.get(t);return i?i.has?.(t)??!0:Reflect.has(e,t)},ownKeys:e=>[...new Set([...nf(Reflect.ownKeys(e),r),...nf(Array.from(r.keys()),r),...n])],set:(e,t,i)=>r.get(t)?.getPropertyDescriptor?.(t)?.writable!==!1&&(n.add(t),Reflect.set(e,t,i)),getOwnPropertyDescriptor(e,t){let n=Reflect.getOwnPropertyDescriptor(e,t);if(n&&!n.configurable)return n;let i=r.get(t);return i?i.getPropertyDescriptor?{...nu,...i?.getPropertyDescriptor(t)}:nu:n},defineProperty:(e,t,r)=>(n.add(t),Reflect.defineProperty(e,t,r)),getPrototypeOf:()=>Object.prototype});return i[np]=function(){let e={...this};return delete e[np],e},i}function nf(e,t){return e.filter(e=>t.get(e)?.has?.(e)??!0)}function ng(e){return{getKeys:()=>e,has:()=>!1,getPropertyValue(){}}}function nm(e,t){return{batch:e,transaction:t?.kind==="batch"?{isolationLevel:t.options.isolationLevel}:void 0}}function ny({error:e,user_facing_error:t},r,n){var i,a;let o;return t.error_code?new tJ((i=t,a=n,o=i.message,("postgresql"===a||"postgres"===a||"mysql"===a)&&"P2037"===i.error_code&&(o+=`
Prisma Accelerate has built-in connection pooling to prevent such errors: https://pris.ly/client/error-accelerate`),o),{code:t.error_code,clientVersion:r,meta:t.meta,batchRequestIdx:t.batch_request_idx}):new tG(e,{clientVersion:r,batchRequestIdx:t.batch_request_idx})}U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_();var nb=class{getLocation(){return null}};function nw(e){return"function"==typeof $EnabledCallSite&&"minimal"!==e?new $EnabledCallSite:new nb}U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_();var n_={_avg:!0,_count:!0,_sum:!0,_min:!0,_max:!0};function nv(e={}){return Object.entries(function(e={}){return"boolean"==typeof e._count?{...e,_count:{_all:e._count}}:e}(e)).reduce((e,[t,r])=>(void 0!==n_[t]?e.select[t]={select:r}:e[t]=r,e),{select:{}})}function nE(e={}){return t=>("boolean"==typeof e._count&&(t._count=t._count._all),t)}function nS(e={}){let{select:t,...r}=e;return"object"==typeof t?nv({...r,_count:t}):nv({...r,_count:{_all:!0}})}function nx(e={}){let t=nv(e);if(Array.isArray(t.by))for(let e of t.by)"string"==typeof e&&(t.select[e]=!0);else"string"==typeof t.by&&(t.select[t.by]=!0);return t}U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_();var nk=e=>Array.isArray(e)?e:e.split("."),nP=(e,t)=>nk(t).reduce((e,t)=>e&&e[t],e),nA=["findUnique","findUniqueOrThrow","findFirst","findFirstOrThrow","create","update","upsert","delete"],nR=["aggregate","count","groupBy"];function nT(e,t){var r,n,i,a;let o,s,l=e._extensions.getAllModelExtensions(t)??{};return nh({},[(r=e,o=rH(n=t),s=Object.keys(t4).concat("count"),{getKeys:()=>s,getPropertyValue(e){var t;let i=t=>i=>{let a=nw(r._errorFormat);return r._createPrismaPromise(s=>{let l={args:i,dataPath:[],action:e,model:n,clientMethod:`${o}.${e}`,jsModelName:o,transaction:s,callsite:a};return r._request({...l,...t})},{action:e,args:i,model:n})};return nA.includes(e)?function e(t,r,n,i,a,o){let s=t._runtimeDataModel.models[r].fields.reduce((e,t)=>({...e,[t.name]:t}),{});return l=>{var c,u;let d,p=nw(t._errorFormat),h=void 0===i||void 0===a?[]:[...a,"select",i],f=void 0===o?l??{}:(d=l||!0,nk(h).reduceRight((e,t,r,n)=>Object.assign({},nP(o,n.slice(0,r)),{[t]:e}),d)),g=n({dataPath:h,callsite:p})(f),m=(c=t,u=r,c._runtimeDataModel.models[u].fields.filter(e=>"object"===e.kind).map(e=>e.name));return new Proxy(g,{get:(r,i)=>m.includes(i)?e(t,s[i].type,n,i,h,f):r[i],...nd([...m,...Object.getOwnPropertyNames(g)])})}}(r,n,i):(t=e,nR.includes(t))?"aggregate"===e?e=>i({action:"aggregate",unpacker:nE(e),argsMapper:nv})(e):"count"===e?e=>i({action:"count",unpacker:function(e={}){return"object"==typeof e.select?t=>nE(e)(t)._count:t=>nE(e)(t)._count._all}(e),argsMapper:nS})(e):"groupBy"===e?e=>i({action:"groupBy",unpacker:function(e={}){return t=>("boolean"==typeof e?._count&&t.forEach(e=>{e._count=e._count._all}),t)}(e),argsMapper:nx})(e):void 0:i({})}}),(i=e,a=t,nc(nl("fields",()=>{let e,t=i._runtimeDataModel.models[a];return new Proxy({},{get(t,r){if(r in t||"symbol"==typeof r)return t[r];let n=e[r];if(n)return new rx(a,r,n.type,n.isList,"enum"===n.kind)},...nd(Object.keys(e=function(e,t){let r={};for(let n of e)r[n[t]]=n;return r}(t.fields.filter(e=>!e.relationName),"name")))})}))),ns(l),nl("name",()=>t),nl("$name",()=>t),nl("$parent",()=>e._appliedParent)])}U(),D(),j(),M(),L(),e_();var nO=Symbol();function nC(e){var t,r;let n,i,a,o,s=[(n=[...new Set(Object.getOwnPropertyNames(Object.getPrototypeOf((t=e)._originalClient)))],{getKeys:()=>n,getPropertyValue:e=>t[e]}),(a=(i=Object.keys((r=e)._runtimeDataModel.models)).map(rH),o=[...new Set(i.concat(a))],nc({getKeys:()=>o,getPropertyValue(e){let t=e.replace(/^./,e=>e.toUpperCase());return void 0!==r._runtimeDataModel.models[t]?nT(r,t):void 0!==r._runtimeDataModel.models[e]?nT(r,e):void 0},getPropertyDescriptor(e){if(!a.includes(e))return{enumerable:!1}}})),nl(nO,()=>e),nl("$parent",()=>e._appliedParent)],l=e._extensions.getAllClientExtensions();return l&&s.push(ns(l)),nh(e,s)}function nN(e){if("function"==typeof e)return e(this);if(e.client?.__AccelerateEngine){let t=e.client.__AccelerateEngine;this._originalClient._engine=new t(this._originalClient._accelerateEngineConfig)}return nC(Object.create(this._originalClient,{_extensions:{value:this._extensions.append(e)},_appliedParent:{value:this,configurable:!0},$on:{value:void 0}}))}function nI({visitor:e,result:t,args:r,runtimeDataModel:n,modelName:i}){if(Array.isArray(t)){for(let a=0;a<t.length;a++)t[a]=nI({result:t[a],args:r,modelName:i,runtimeDataModel:n,visitor:e});return t}let a=e(t,i,r)??t;return r.include&&n$({includeOrSelect:r.include,result:a,parentModelName:i,runtimeDataModel:n,visitor:e}),r.select&&n$({includeOrSelect:r.select,result:a,parentModelName:i,runtimeDataModel:n,visitor:e}),a}function n$({includeOrSelect:e,result:t,parentModelName:r,runtimeDataModel:n,visitor:i}){for(let[a,o]of Object.entries(e)){if(!o||null==t[a]||rX(o))continue;let e=n.models[r].fields.find(e=>e.name===a);if(!e||"object"!==e.kind||!e.relationName)continue;let s="object"==typeof o?o:{};t[a]=nI({visitor:i,result:t[a],args:s,modelName:e.type,runtimeDataModel:n})}}U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_(),e_(),U(),D(),j(),M(),L(),e_();var nU=["$connect","$disconnect","$on","$transaction","$extends"];function nD(e){if("object"!=typeof e||null==e||e instanceof rR||rk(e))return e;if(t5(e))return new eb(e.toFixed());if(t2(e))return new Date(+e);if(ArrayBuffer.isView(e))return e.slice(0);if(Array.isArray(e)){let t=e.length,r;for(r=Array(t);t--;)r[t]=nD(e[t]);return r}if("object"==typeof e){let t={};for(let r in e)"__proto__"===r?Object.defineProperty(t,r,{value:nD(e[r]),configurable:!0,enumerable:!0,writable:!0}):t[r]=nD(e[r]);return t}tq(e,"Unknown value")}var nj=e=>e;function nM(e=nj,t=nj){return r=>e(t(r))}U(),D(),j(),M(),L(),e_();var nL=t_("prisma:client"),nq={Vercel:"vercel","Netlify CI":"netlify"};function nH(e){return null===e?e:Array.isArray(e)?e.map(nH):"object"==typeof e?null!==e&&"object"==typeof e&&"string"==typeof e.$type?function({$type:e,value:t}){switch(e){case"BigInt":return BigInt(t);case"Bytes":{let{buffer:e,byteOffset:r,byteLength:n}=T.from(t,"base64");return new Uint8Array(e,r,n)}case"DateTime":return new Date(t);case"Decimal":return new ey(t);case"Json":return JSON.parse(t);default:throw Error("Unknown tagged value")}}(e):null!==e.constructor&&"Object"!==e.constructor.name?e:function(e,t){let r={};for(let n of Object.keys(e))r[n]=t(e[n],n);return r}(e,nH):e}U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_(),e_(),U(),D(),j(),M(),L(),e_(),e_(),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_();var nF=()=>globalThis.process?.release?.name==="node",nV=()=>!!globalThis.Bun||!!globalThis.process?.versions?.bun,nB=()=>!!globalThis.Deno,nW=()=>"object"==typeof globalThis.Netlify,nK=()=>"object"==typeof globalThis.EdgeRuntime,nJ=()=>globalThis.navigator?.userAgent==="Cloudflare-Workers",nz={node:"Node.js",workerd:"Cloudflare Workers",deno:"Deno and Deno Deploy",netlify:"Netlify Edge Functions","edge-light":"Edge Runtime (Vercel Edge Functions, Vercel Edge Middleware, Next.js (Pages Router) Edge API Routes, Next.js (App Router) Edge Route Handlers or Next.js Middleware)"};function nG(){let e=[[nW,"netlify"],[nK,"edge-light"],[nJ,"workerd"],[nB,"deno"],[nV,"bun"],[nF,"node"]].flatMap(e=>e[0]()?[e[1]]:[]).at(0)??"";return{id:e,prettyName:nz[e]||e,isEdge:["workerd","deno","netlify","edge-light"].includes(e)}}function nX({inlineDatasources:e,overrideDatasources:t,env:r,clientVersion:n}){let i,a=Object.keys(e)[0],o=e[a]?.url,s=t[a]?.url;if(void 0===a?i=void 0:s?i=s:o?.value?i=o.value:o?.fromEnvVar&&(i=r[o.fromEnvVar]),o?.fromEnvVar!==void 0&&void 0===i)throw"workerd"===nG().id?new tK(`error: Environment variable not found: ${o.fromEnvVar}.

In Cloudflare module Workers, environment variables are available only in the Worker's \`env\` parameter of \`fetch\`.
To solve this, provide the connection string directly: https://pris.ly/d/cloudflare-datasource-url`,n):new tK(`error: Environment variable not found: ${o.fromEnvVar}.`,n);if(void 0===i)throw new tK("error: Missing URL environment variable, value, or override.",n);return i}U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_();var nQ,nY={async loadLibrary(e){let{clientVersion:t,adapter:r,engineWasm:n}=e;if(void 0===r)throw new tK(`The \`adapter\` option for \`PrismaClient\` is required in this context (${nG().prettyName})`,t);if(void 0===n)throw new tK("WASM engine was unexpectedly `undefined`",t);return void 0===nQ&&(nQ=(async()=>{let e=await n.getRuntime(),r=await n.getQueryEngineWasmModule();if(null==r)throw new tK("The loaded wasm module was unexpectedly `undefined` or `null` once loaded",t);let i=new WebAssembly.Instance(r,{"./query_engine_bg.js":e}),a=i.exports.__wbindgen_start;return e.__wbg_set_wasm(i.exports),a(),e.QueryEngine})()),{debugPanic:()=>Promise.reject("{}"),dmmf:()=>Promise.resolve("{}"),version:()=>({commit:"unknown",version:"unknown"}),QueryEngine:await nQ}}},nZ=t_("prisma:client:libraryEngine"),n0=1n,n1=class{name="LibraryEngine";engine;libraryInstantiationPromise;libraryStartingPromise;libraryStoppingPromise;libraryStarted;executingQueryPromise;config;QueryEngineConstructor;libraryLoader;library;logEmitter;libQueryEnginePath;binaryTarget;datasourceOverrides;datamodel;logQueries;logLevel;lastQuery;loggerRustPanic;tracingHelper;adapterPromise;versionInfo;constructor(e,t){this.libraryLoader=t??nY,this.config=e,this.libraryStarted=!1,this.logQueries=e.logQueries??!1,this.logLevel=e.logLevel??"error",this.logEmitter=e.logEmitter,this.datamodel=e.inlineSchema,this.tracingHelper=e.tracingHelper,e.enableDebugLogs&&(this.logLevel="debug");let r=Object.keys(e.overrideDatasources)[0],n=e.overrideDatasources[r]?.url;void 0!==r&&void 0!==n&&(this.datasourceOverrides={[r]:n}),this.libraryInstantiationPromise=this.instantiateLibrary()}wrapEngine(e){return{applyPendingMigrations:e.applyPendingMigrations?.bind(e),commitTransaction:this.withRequestId(e.commitTransaction.bind(e)),connect:this.withRequestId(e.connect.bind(e)),disconnect:this.withRequestId(e.disconnect.bind(e)),metrics:e.metrics?.bind(e),query:this.withRequestId(e.query.bind(e)),rollbackTransaction:this.withRequestId(e.rollbackTransaction.bind(e)),sdlSchema:e.sdlSchema?.bind(e),startTransaction:this.withRequestId(e.startTransaction.bind(e)),trace:e.trace.bind(e),free:e.free?.bind(e)}}withRequestId(e){return async(...t)=>{let r,n=(r=n0++,n0>0xffffffffffffffffn&&(n0=1n),r).toString();try{return await e(...t,n)}finally{if(this.tracingHelper.isEnabled()){let e=await this.engine?.trace(n);if(e){let t=JSON.parse(e);this.tracingHelper.dispatchEngineSpans(t.spans)}}}}}async applyPendingMigrations(){throw Error("Cannot call this method from this type of engine instance")}async transaction(e,t,r){var n;await this.start();let i=await this.adapterPromise,a=JSON.stringify(t),o;if("start"===e){let e=JSON.stringify({max_wait:r.maxWait,timeout:r.timeout,isolation_level:r.isolationLevel});o=await this.engine?.startTransaction(e,a)}else"commit"===e?o=await this.engine?.commitTransaction(r.id,a):"rollback"===e&&(o=await this.engine?.rollbackTransaction(r.id,a));let s=this.parseEngineResponse(o);if("object"==typeof(n=s)&&null!==n&&void 0!==n.error_code){let e=this.getExternalAdapterError(s,i?.errorRegistry);throw e?e.error:new tJ(s.message,{code:s.error_code,clientVersion:this.config.clientVersion,meta:s.meta})}if("string"==typeof s.message)throw new tG(s.message,{clientVersion:this.config.clientVersion});return s}async instantiateLibrary(){if(nZ("internalSetup"),this.libraryInstantiationPromise)return this.libraryInstantiationPromise;this.binaryTarget=await this.getCurrentBinaryTarget(),await this.tracingHelper.runInChildSpan("load_engine",()=>this.loadEngine()),this.version()}async getCurrentBinaryTarget(){}parseEngineResponse(e){if(!e)throw new tG("Response from the Engine was empty",{clientVersion:this.config.clientVersion});try{return JSON.parse(e)}catch{throw new tG("Unable to JSON.parse response from engine",{clientVersion:this.config.clientVersion})}}async loadEngine(){if(!this.engine){this.QueryEngineConstructor||(this.library=await this.libraryLoader.loadLibrary(this.config),this.QueryEngineConstructor=this.library.QueryEngine);try{let e=new $(this);this.adapterPromise||(this.adapterPromise=this.config.adapter?.connect()?.then(tR));let t=await this.adapterPromise;t&&nZ("Using driver adapter: %O",t),this.engine=this.wrapEngine(new this.QueryEngineConstructor({datamodel:this.datamodel,env:C.env,logQueries:this.config.logQueries??!1,ignoreEnvVarErrors:!0,datasourceOverrides:this.datasourceOverrides??{},logLevel:this.logLevel,configDir:this.config.cwd,engineProtocol:"json",enableTracing:this.tracingHelper.isEnabled()},t=>{e.deref()?.logger(t)},t))}catch(t){let e=this.parseInitError(t.message);throw"string"==typeof e?t:new tK(e.message,this.config.clientVersion,e.error_code)}}}logger(e){let t=this.parseEngineResponse(e);t&&(t.level=t?.level.toLowerCase()??"unknown","query"===t.item_type&&"query"in t?this.logEmitter.emit("query",{timestamp:new Date,query:t.query,params:t.params,duration:Number(t.duration_ms),target:t.module_path}):("level"in t&&"error"===t.level&&t.message,this.logEmitter.emit(t.level,{timestamp:new Date,message:t.message,target:t.module_path})))}parseInitError(e){try{return JSON.parse(e)}catch{}return e}parseRequestError(e){try{return JSON.parse(e)}catch{}return e}onBeforeExit(){throw Error('"beforeExit" hook is not applicable to the library engine since Prisma 5.0.0, it is only relevant and implemented for the binary engine. Please add your event listener to the `process` object directly instead.')}async start(){if(this.libraryInstantiationPromise||(this.libraryInstantiationPromise=this.instantiateLibrary()),await this.libraryInstantiationPromise,await this.libraryStoppingPromise,this.libraryStartingPromise)return nZ(`library already starting, this.libraryStarted: ${this.libraryStarted}`),this.libraryStartingPromise;if(this.libraryStarted)return;let e=async()=>{nZ("library starting");try{let e={traceparent:this.tracingHelper.getTraceParent()};await this.engine?.connect(JSON.stringify(e)),this.libraryStarted=!0,this.adapterPromise||(this.adapterPromise=this.config.adapter?.connect()?.then(tR)),await this.adapterPromise,nZ("library started")}catch(t){let e=this.parseInitError(t.message);throw"string"==typeof e?t:new tK(e.message,this.config.clientVersion,e.error_code)}finally{this.libraryStartingPromise=void 0}};return this.libraryStartingPromise=this.tracingHelper.runInChildSpan("connect",e),this.libraryStartingPromise}async stop(){if(await this.libraryInstantiationPromise,await this.libraryStartingPromise,await this.executingQueryPromise,this.libraryStoppingPromise)return nZ("library is already stopping"),this.libraryStoppingPromise;if(!this.libraryStarted){await (await this.adapterPromise)?.dispose(),this.adapterPromise=void 0;return}let e=async()=>{await new Promise(e=>setImmediate(e)),nZ("library stopping");let e={traceparent:this.tracingHelper.getTraceParent()};await this.engine?.disconnect(JSON.stringify(e)),this.engine?.free&&this.engine.free(),this.engine=void 0,this.libraryStarted=!1,this.libraryStoppingPromise=void 0,this.libraryInstantiationPromise=void 0,await (await this.adapterPromise)?.dispose(),this.adapterPromise=void 0,nZ("library stopped")};return this.libraryStoppingPromise=this.tracingHelper.runInChildSpan("disconnect",e),this.libraryStoppingPromise}version(){return this.versionInfo=this.library?.version(),this.versionInfo?.version??"unknown"}debugPanic(e){return this.library?.debugPanic(e)}async request(e,{traceparent:t,interactiveTransaction:r}){nZ(`sending request, this.libraryStarted: ${this.libraryStarted}`);let n=JSON.stringify({traceparent:t}),i=JSON.stringify(e);try{await this.start();let e=await this.adapterPromise;this.executingQueryPromise=this.engine?.query(i,n,r?.id),this.lastQuery=i;let t=this.parseEngineResponse(await this.executingQueryPromise);if(t.errors)throw 1===t.errors.length?this.buildQueryError(t.errors[0],e?.errorRegistry):new tG(JSON.stringify(t.errors),{clientVersion:this.config.clientVersion});if(this.loggerRustPanic)throw this.loggerRustPanic;return{data:t}}catch(t){if(t instanceof tK)throw t;"GenericFailure"===t.code&&t.message?.startsWith("PANIC:");let e=this.parseRequestError(t.message);throw"string"==typeof e?t:new tG(`${e.message}
${e.backtrace}`,{clientVersion:this.config.clientVersion})}}async requestBatch(e,{transaction:t,traceparent:r}){nZ("requestBatch");let n=nm(e,t);await this.start();let i=await this.adapterPromise;this.lastQuery=JSON.stringify(n),this.executingQueryPromise=this.engine?.query(this.lastQuery,JSON.stringify({traceparent:r}),function(e){if(e?.kind==="itx")return e.options.id}(t));let a=await this.executingQueryPromise,o=this.parseEngineResponse(a);if(o.errors)throw 1===o.errors.length?this.buildQueryError(o.errors[0],i?.errorRegistry):new tG(JSON.stringify(o.errors),{clientVersion:this.config.clientVersion});let{batchResult:s,errors:l}=o;if(Array.isArray(s))return s.map(e=>e.errors&&e.errors.length>0?this.loggerRustPanic??this.buildQueryError(e.errors[0],i?.errorRegistry):{data:e});throw l&&1===l.length?Error(l[0].error):Error(JSON.stringify(o))}buildQueryError(e,t){e.user_facing_error.is_panic;let r=this.getExternalAdapterError(e.user_facing_error,t);return r?r.error:ny(e,this.config.clientVersion,this.config.activeProvider)}getExternalAdapterError(e,t){if("P2036"===e.error_code&&t){let r=e.meta?.id;tL("number"==typeof r,"Malformed external JS error received from the engine");let n=t.consumeError(r);return tL(n,"External error with reported id was not registered"),n}}async metrics(e){await this.start();let t=await this.engine.metrics(JSON.stringify(e));return"prometheus"===e.format?t:this.parseEngineResponse(t)}};U(),D(),j(),M(),L(),e_();var n2="Accelerate has not been setup correctly. Make sure your client is using `.$extends(withAccelerate())`. See https://pris.ly/d/accelerate-getting-started",n6=class{constructor(e){this.config=e,this.resolveDatasourceUrl=this.config.accelerateUtils?.resolveDatasourceUrl,this.getBatchRequestPayload=this.config.accelerateUtils?.getBatchRequestPayload,this.prismaGraphQLToJSError=this.config.accelerateUtils?.prismaGraphQLToJSError,this.PrismaClientUnknownRequestError=this.config.accelerateUtils?.PrismaClientUnknownRequestError,this.PrismaClientInitializationError=this.config.accelerateUtils?.PrismaClientInitializationError,this.PrismaClientKnownRequestError=this.config.accelerateUtils?.PrismaClientKnownRequestError,this.debug=this.config.accelerateUtils?.debug,this.engineVersion=this.config.accelerateUtils?.engineVersion,this.clientVersion=this.config.accelerateUtils?.clientVersion}name="AccelerateEngine";resolveDatasourceUrl;getBatchRequestPayload;prismaGraphQLToJSError;PrismaClientUnknownRequestError;PrismaClientInitializationError;PrismaClientKnownRequestError;debug;engineVersion;clientVersion;onBeforeExit(e){}async start(){}async stop(){}version(e){return"unknown"}transaction(e,t,r){throw new tK(n2,this.config.clientVersion)}metrics(e){throw new tK(n2,this.config.clientVersion)}request(e,t){throw new tK(n2,this.config.clientVersion)}requestBatch(e,t){throw new tK(n2,this.config.clientVersion)}applyPendingMigrations(){throw new tK(n2,this.config.clientVersion)}};U(),D(),j(),M(),L(),e_();var n5=class{constructor(e){return new Proxy(this,{get(t,r){throw new tX(`In order to run Prisma Client on edge runtime, either:
- Use Prisma Accelerate: https://pris.ly/d/accelerate
- Use Driver Adapters: https://pris.ly/d/driver-adapters`,e)}})}};U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_();var n3=e=>({command:e});function n8(e){try{return n4(e,"fast")}catch{return n4(e,"slow")}}function n4(e,t){return JSON.stringify(e.map(e=>(function e(t,r){var n;if(Array.isArray(t))return t.map(t=>e(t,r));if("bigint"==typeof t)return{prisma__type:"bigint",prisma__value:t.toString()};if(t2(t))return{prisma__type:"date",prisma__value:t.toJSON()};if(eb.isDecimal(t))return{prisma__type:"decimal",prisma__value:t.toJSON()};if(T.isBuffer(t))return{prisma__type:"bytes",prisma__value:t.toString("base64")};if((n=t)instanceof ArrayBuffer||n instanceof SharedArrayBuffer||"object"==typeof n&&null!==n&&("ArrayBuffer"===n[Symbol.toStringTag]||"SharedArrayBuffer"===n[Symbol.toStringTag]))return{prisma__type:"bytes",prisma__value:T.from(t).toString("base64")};if(ArrayBuffer.isView(t)){let{buffer:e,byteOffset:r,byteLength:n}=t;return{prisma__type:"bytes",prisma__value:T.from(e,r,n).toString("base64")}}return"object"==typeof t&&"slow"===r?n9(t):t})(e,t)))}function n9(e){if("object"!=typeof e||null===e)return e;if("function"==typeof e.toJSON)return e.toJSON();if(Array.isArray(e))return e.map(n7);let t={};for(let r of Object.keys(e))t[r]=n7(e[r]);return t}function n7(e){return"bigint"==typeof e?e.toString():n9(e)}U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_(),e_();var ie=/^(\s*alter\s)/i,it=t_("prisma:client");function ir(e,t,r,n){if(("postgresql"===e||"cockroachdb"===e)&&r.length>0&&ie.exec(t))throw Error(`Running ALTER using ${n} is not supported
Using the example below you can still execute your query with Prisma, but please note that it is vulnerable to SQL injection attacks and requires you to take care of input sanitization.

Example:
  await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)

More Information: https://pris.ly/d/execute-raw
`)}var ii=({clientMethod:e,activeProvider:t})=>r=>{let n="",i;if(ne(r))n=r.sql,i={values:n8(r.values),__prismaRawParameters__:!0};else if(Array.isArray(r)){let[e,...t]=r;n=e,i={values:n8(t||[]),__prismaRawParameters__:!0}}else switch(t){case"sqlite":case"mysql":n=r.sql,i={values:n8(r.values),__prismaRawParameters__:!0};break;case"cockroachdb":case"postgresql":case"postgres":n=r.text,i={values:n8(r.values),__prismaRawParameters__:!0};break;case"sqlserver":n=r.strings.reduce((e,t,r)=>`${e}@P${r}${t}`),i={values:n8(r.values),__prismaRawParameters__:!0};break;default:throw Error(`The ${t} provider does not support ${e}`)}return i?.values?it(`prisma.${e}(${n}, ${i.values})`):it(`prisma.${e}(${n})`),{query:n,parameters:i}},ia={requestArgsToMiddlewareArgs:e=>[e.strings,...e.values],middlewareArgsToRequestArgs(e){let[t,...r]=e;return new nr(t,r)}},io={requestArgsToMiddlewareArgs:e=>[e],middlewareArgsToRequestArgs:e=>e[0]};function is(e){return function(t,r){let n,i=(r=e)=>{try{return void 0===r||r?.kind==="itx"?n??=il(t(r)):il(t(r))}catch(e){return Promise.reject(e)}};return{get spec(){return r},then:(e,t)=>i().then(e,t),catch:e=>i().catch(e),finally:e=>i().finally(e),requestTransaction(e){let t=i(e);return t.requestTransaction?t.requestTransaction(e):t},[Symbol.toStringTag]:"PrismaPromise"}}}function il(e){return"function"==typeof e.then?e:Promise.resolve(e)}U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_();var ic=tv.split(".")[0],iu={isEnabled:()=>!1,getTraceParent:()=>"00-10-10-00",dispatchEngineSpans(){},getActiveContext(){},runInChildSpan:(e,t)=>t()},id=class{isEnabled(){return this.getGlobalTracingHelper().isEnabled()}getTraceParent(e){return this.getGlobalTracingHelper().getTraceParent(e)}dispatchEngineSpans(e){return this.getGlobalTracingHelper().dispatchEngineSpans(e)}getActiveContext(){return this.getGlobalTracingHelper().getActiveContext()}runInChildSpan(e,t){return this.getGlobalTracingHelper().runInChildSpan(e,t)}getGlobalTracingHelper(){let e=globalThis[`V${ic}_PRISMA_INSTRUMENTATION`],t=globalThis.PRISMA_INSTRUMENTATION;return e?.helper??t?.helper??iu}};function ip(e){return"number"==typeof e.batchRequestIdx}function ih(e){return`(${Object.keys(e).sort().map(t=>{let r=e[t];return"object"==typeof r&&null!==r?`(${t} ${ih(r)})`:t}).join(" ")})`}U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_();var ig={aggregate:!1,aggregateRaw:!1,createMany:!0,createManyAndReturn:!0,createOne:!0,deleteMany:!0,deleteOne:!0,executeRaw:!0,findFirst:!1,findFirstOrThrow:!1,findMany:!1,findRaw:!1,findUnique:!1,findUniqueOrThrow:!1,groupBy:!1,queryRaw:!1,runCommandRaw:!0,updateMany:!0,updateManyAndReturn:!0,updateOne:!0,upsertOne:!0};U(),D(),j(),M(),L(),e_();var im=class{constructor(e){this.options=e,this.batches={}}batches;tickActive=!1;request(e){let t=this.options.batchBy(e);return t?(this.batches[t]||(this.batches[t]=[],this.tickActive||(this.tickActive=!0,C.nextTick(()=>{this.dispatchBatches(),this.tickActive=!1}))),new Promise((r,n)=>{this.batches[t].push({request:e,resolve:r,reject:n})})):this.options.singleLoader(e)}dispatchBatches(){for(let e in this.batches){let t=this.batches[e];delete this.batches[e],1===t.length?this.options.singleLoader(t[0].request).then(e=>{e instanceof Error?t[0].reject(e):t[0].resolve(e)}).catch(e=>{t[0].reject(e)}):(t.sort((e,t)=>this.options.batchOrder(e.request,t.request)),this.options.batchLoader(t.map(e=>e.request)).then(e=>{if(e instanceof Error)for(let r=0;r<t.length;r++)t[r].reject(e);else for(let r=0;r<t.length;r++){let n=e[r];n instanceof Error?t[r].reject(n):t[r].resolve(n)}}).catch(e=>{for(let r=0;r<t.length;r++)t[r].reject(e)}))}}get[Symbol.toStringTag](){return"DataLoader"}};function iy(e){let t=[],r=function(e){let t={};for(let r=0;r<e.columns.length;r++)t[e.columns[r]]=null;return t}(e);for(let n=0;n<e.rows.length;n++){let i=e.rows[n],a={...r};for(let t=0;t<i.length;t++)a[e.columns[t]]=function e(t,r){if(null===r)return r;switch(t){case"bigint":return BigInt(r);case"bytes":{let{buffer:e,byteOffset:t,byteLength:n}=T.from(r,"base64");return new Uint8Array(e,t,n)}case"decimal":return new eb(r);case"datetime":case"date":return new Date(r);case"time":return new Date(`1970-01-01T${r}Z`);case"bigint-array":return r.map(t=>e("bigint",t));case"bytes-array":return r.map(t=>e("bytes",t));case"decimal-array":return r.map(t=>e("decimal",t));case"datetime-array":return r.map(t=>e("datetime",t));case"date-array":return r.map(t=>e("date",t));case"time-array":return r.map(t=>e("time",t));default:return r}}(e.types[t],i[t]);t.push(a)}return t}U(),D(),j(),M(),L(),e_(),e_();var ib=t_("prisma:client:request_handler"),iw=class{client;dataloader;logEmitter;constructor(e,t){this.logEmitter=t,this.client=e,this.dataloader=new im({batchLoader:function(e){return t=>{let r={requests:t},n=t[0].extensions.getAllBatchQueryCallbacks();return n.length?function e(t,r,n,i){if(n===r.length)return i(t);let a=t.customDataProxyFetch,o=t.requests[0].transaction;return r[n]({args:{queries:t.requests.map(e=>({model:e.modelName,operation:e.action,args:e.args})),transaction:o?{isolationLevel:"batch"===o.kind?o.isolationLevel:void 0}:void 0},__internalParams:t,query(o,s=t){let l=s.customDataProxyFetch;return s.customDataProxyFetch=nM(a,l),e(s,r,n+1,i)}})}(r,n,0,e):e(r)}}(async({requests:e,customDataProxyFetch:t})=>{let{transaction:r,otelParentCtx:n}=e[0],i=e.map(e=>e.protocolQuery),a=this.client._tracingHelper.getTraceParent(n),o=e.some(e=>ig[e.protocolQuery.action]);return(await this.client._engine.requestBatch(i,{traceparent:a,transaction:function(e){if(e){if("batch"===e.kind)return{kind:"batch",options:{isolationLevel:e.isolationLevel}};if("itx"===e.kind)return{kind:"itx",options:i_(e)};tq(e,"Unknown transaction kind")}}(r),containsWrite:o,customDataProxyFetch:t})).map((t,r)=>{if(t instanceof Error)return t;try{return this.mapQueryEngineResult(e[r],t)}catch(e){return e}})}),singleLoader:async e=>{let t=e.transaction?.kind==="itx"?i_(e.transaction):void 0,r=await this.client._engine.request(e.protocolQuery,{traceparent:this.client._tracingHelper.getTraceParent(),interactiveTransaction:t,isWrite:ig[e.protocolQuery.action],customDataProxyFetch:e.customDataProxyFetch});return this.mapQueryEngineResult(e,r)},batchBy:e=>e.transaction?.id?`transaction-${e.transaction.id}`:function(e){if("findUnique"!==e.action&&"findUniqueOrThrow"!==e.action)return;let t=[];return e.modelName&&t.push(e.modelName),e.query.arguments&&t.push(ih(e.query.arguments)),t.push(ih(e.query.selection)),t.join("")}(e.protocolQuery),batchOrder:(e,t)=>e.transaction?.kind==="batch"&&t.transaction?.kind==="batch"?e.transaction.index-t.transaction.index:0})}async request(e){try{return await this.dataloader.request(e)}catch(o){let{clientMethod:t,callsite:r,transaction:n,args:i,modelName:a}=e;this.handleAndLogRequestError({error:o,clientMethod:t,callsite:r,transaction:n,args:i,modelName:a,globalOmit:e.globalOmit})}}mapQueryEngineResult({dataPath:e,unpacker:t},r){let n=r?.data,i=this.unpack(n,e,t);return C.env.PRISMA_CLIENT_GET_TIME?{data:i}:i}handleAndLogRequestError(e){try{this.handleRequestError(e)}catch(t){throw this.logEmitter&&this.logEmitter.emit("error",{message:t.message,target:e.clientMethod,timestamp:new Date}),t}}handleRequestError({error:e,clientMethod:t,callsite:r,transaction:n,args:i,modelName:a,globalOmit:o}){var s,l,c;if(ib(e),s=e,l=n,ip(s)&&l?.kind==="batch"&&s.batchRequestIdx!==l.index)throw e;e instanceof tJ&&("P2009"===(c=e).code||"P2012"===c.code)&&rq({args:i,errors:[function e(t){if("Union"===t.kind)return{kind:"Union",errors:t.errors.map(e)};if(Array.isArray(t.selectionPath)){let[,...e]=t.selectionPath;return{...t,selectionPath:e}}return t}(e.meta)],callsite:r,errorFormat:this.client._errorFormat,originalMethod:t,clientVersion:this.client._clientVersion,globalOmit:o});let u=e.message;if(r&&(u=re({callsite:r,originalMethod:t,isPanic:e.isPanic,showColors:"pretty"===this.client._errorFormat,message:u})),u=this.sanitizeMessage(u),e.code){let t=a?{modelName:a,...e.meta}:e.meta;throw new tJ(u,{code:e.code,clientVersion:this.client._clientVersion,meta:t,batchRequestIdx:e.batchRequestIdx})}if(e.isPanic)throw new tz(u,this.client._clientVersion);if(e instanceof tG)throw new tG(u,{clientVersion:this.client._clientVersion,batchRequestIdx:e.batchRequestIdx});if(e instanceof tK)throw new tK(u,this.client._clientVersion);if(e instanceof tz)throw new tz(u,this.client._clientVersion);throw e.clientVersion=this.client._clientVersion,e}sanitizeMessage(e){return this.client._errorFormat&&"pretty"!==this.client._errorFormat?function(e){if("string"!=typeof e)throw TypeError(`Expected a \`string\`, got \`${typeof e}\``);return e.replace(tH,"")}(e):e}unpack(e,t,r){if(!e||(e.data&&(e=e.data),!e))return e;let n=Object.keys(e)[0],i=nP(Object.values(e)[0],t.filter(e=>"select"!==e&&"include"!==e)),a="queryRaw"===n?iy(i):nH(i);return r?r(a):a}get[Symbol.toStringTag](){return"RequestHandler"}};function i_(e){return{id:e.id,payload:e.payload}}U(),D(),j(),M(),L(),e_(),U(),D(),j(),M(),L(),e_();var iv=f(eQ());U(),D(),j(),M(),L(),e_();var iE=class extends Error{constructor(e){super(e+`
Read more at https://pris.ly/d/client-constructor`),this.name="PrismaClientConstructorValidationError"}get[Symbol.toStringTag](){return"PrismaClientConstructorValidationError"}};tV(iE,"PrismaClientConstructorValidationError");var iS=["datasources","datasourceUrl","errorFormat","adapter","log","transactionOptions","omit","__internal"],ix=["pretty","colorless","minimal"],ik=["info","query","warn","error"],iP={datasources:(e,{datasourceNames:t})=>{if(e){if("object"!=typeof e||Array.isArray(e))throw new iE(`Invalid value ${JSON.stringify(e)} for "datasources" provided to PrismaClient constructor`);for(let[r,n]of Object.entries(e)){if(!t.includes(r)){let e=iA(r,t)||` Available datasources: ${t.join(", ")}`;throw new iE(`Unknown datasource ${r} provided to PrismaClient constructor.${e}`)}if("object"!=typeof n||Array.isArray(n))throw new iE(`Invalid value ${JSON.stringify(e)} for datasource "${r}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`);if(n&&"object"==typeof n)for(let[t,i]of Object.entries(n)){if("url"!==t)throw new iE(`Invalid value ${JSON.stringify(e)} for datasource "${r}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`);if("string"!=typeof i)throw new iE(`Invalid value ${JSON.stringify(i)} for datasource "${r}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`)}}}},adapter:(e,t)=>{if(!e&&"client"===tE(t.generator))throw new iE('Using engine type "client" requires a driver adapter to be provided to PrismaClient constructor.');if(null!==e){if(void 0===e)throw new iE('"adapter" property must not be undefined, use null to conditionally disable driver adapters.');if("binary"===tE(t.generator))throw new iE('Cannot use a driver adapter with the "binary" Query Engine. Please use the "library" Query Engine.')}},datasourceUrl:e=>{if("u">typeof e&&"string"!=typeof e)throw new iE(`Invalid value ${JSON.stringify(e)} for "datasourceUrl" provided to PrismaClient constructor.
Expected string or undefined.`)},errorFormat:e=>{if(e){if("string"!=typeof e)throw new iE(`Invalid value ${JSON.stringify(e)} for "errorFormat" provided to PrismaClient constructor.`);if(!ix.includes(e)){let t=iA(e,ix);throw new iE(`Invalid errorFormat ${e} provided to PrismaClient constructor.${t}`)}}},log:e=>{if(e){if(!Array.isArray(e))throw new iE(`Invalid value ${JSON.stringify(e)} for "log" provided to PrismaClient constructor.`);for(let r of e){t(r);let e={level:t,emit:e=>{let t=["stdout","event"];if(!t.includes(e)){let r=iA(e,t);throw new iE(`Invalid value ${JSON.stringify(e)} for "emit" in logLevel provided to PrismaClient constructor.${r}`)}}};if(r&&"object"==typeof r)for(let[t,n]of Object.entries(r))if(e[t])e[t](n);else throw new iE(`Invalid property ${t} for "log" provided to PrismaClient constructor`)}}function t(e){if("string"==typeof e&&!ik.includes(e)){let t=iA(e,ik);throw new iE(`Invalid log level "${e}" provided to PrismaClient constructor.${t}`)}}},transactionOptions:e=>{if(!e)return;let t=e.maxWait;if(null!=t&&t<=0)throw new iE(`Invalid value ${t} for maxWait in "transactionOptions" provided to PrismaClient constructor. maxWait needs to be greater than 0`);let r=e.timeout;if(null!=r&&r<=0)throw new iE(`Invalid value ${r} for timeout in "transactionOptions" provided to PrismaClient constructor. timeout needs to be greater than 0`)},omit:(e,t)=>{if("object"!=typeof e)throw new iE('"omit" option is expected to be an object.');if(null===e)throw new iE('"omit" option can not be `null`');let r=[];for(let[a,o]of Object.entries(e)){var n,i;let e=(n=a,iR((i=t.runtimeDataModel).models,n)??iR(i.types,n));if(!e){r.push({kind:"UnknownModel",modelKey:a});continue}for(let[t,n]of Object.entries(o)){let i=e.fields.find(e=>e.name===t);if(!i){r.push({kind:"UnknownField",modelKey:a,fieldName:t});continue}if(i.relationName){r.push({kind:"RelationInOmit",modelKey:a,fieldName:t});continue}"boolean"!=typeof n&&r.push({kind:"InvalidFieldValue",modelKey:a,fieldName:t})}}if(r.length>0)throw new iE(function(e,t){let r=rj(e);for(let e of t)switch(e.kind){case"UnknownModel":r.arguments.getField(e.modelKey)?.markAsError(),r.addErrorMessage(()=>`Unknown model name: ${e.modelKey}.`);break;case"UnknownField":r.arguments.getDeepField([e.modelKey,e.fieldName])?.markAsError(),r.addErrorMessage(()=>`Model "${e.modelKey}" does not have a field named "${e.fieldName}".`);break;case"RelationInOmit":r.arguments.getDeepField([e.modelKey,e.fieldName])?.markAsError(),r.addErrorMessage(()=>'Relations are already excluded by default and can not be specified in "omit".');break;case"InvalidFieldValue":r.arguments.getDeepFieldValue([e.modelKey,e.fieldName])?.markAsError(),r.addErrorMessage(()=>"Omit field option value must be a boolean.")}let{message:n,args:i}=rL(r,"colorless");return`Error validating "omit" option:

${i}

${n}`}(e,r))},__internal:e=>{if(!e)return;let t=["debug","engine","configOverride"];if("object"!=typeof e)throw new iE(`Invalid value ${JSON.stringify(e)} for "__internal" to PrismaClient constructor`);for(let[r]of Object.entries(e))if(!t.includes(r)){let e=iA(r,t);throw new iE(`Invalid property ${JSON.stringify(r)} for "__internal" provided to PrismaClient constructor.${e}`)}}};function iA(e,t){if(0===t.length||"string"!=typeof e)return"";let r=function(e,t){if(0===t.length)return null;let r=t.map(t=>({value:t,distance:(0,iv.default)(e,t)}));r.sort((e,t)=>e.distance<t.distance?-1:1);let n=r[0];return n.distance<3?n.value:null}(e,t);return r?` Did you mean "${r}"?`:""}function iR(e,t){let r=Object.keys(e).find(e=>tY(e)===t);if(r)return e[r]}U(),D(),j(),M(),L(),e_();var iT=t_("prisma:client");"object"==typeof globalThis&&(globalThis.NODE_CLIENT=!0);var iO={requestArgsToMiddlewareArgs:e=>e,middlewareArgsToRequestArgs:e=>e},iC=Symbol.for("prisma.client.transaction.id"),iN={id:0,nextId(){return++this.id}};function iI(e){class t{_originalClient=this;_runtimeDataModel;_requestHandler;_connectionPromise;_disconnectionPromise;_engineConfig;_accelerateEngineConfig;_clientVersion;_errorFormat;_tracingHelper;_previewFeatures;_activeProvider;_globalOmit;_extensions;_engine;_appliedParent;_createPrismaPromise=is();constructor(t){let r;(function({postinstall:e,ciName:t,clientVersion:r,generator:n}){if(nL("checkPlatformCaching:postinstall",e),nL("checkPlatformCaching:ciName",t),!0===e&&!(n?.output&&"string"==typeof(n.output.fromEnvVar??n.output.value))&&t&&t in nq){let e=`Prisma has detected that this project was built on ${t}, which caches dependencies. This leads to an outdated Prisma Client because Prisma's auto-generation isn't triggered. To fix this, make sure to run the \`prisma generate\` command during the build process.

Learn how: https://pris.ly/d/${nq[t]}-build`;throw console.error(e),new tK(e,r)}})(e=t?.__internal?.configOverride?.(e)??e),t&&function(e,t){for(let[r,n]of Object.entries(e)){if(!iS.includes(r)){let e=iA(r,iS);throw new iE(`Unknown property ${r} provided to PrismaClient constructor.${e}`)}iP[r](n,t)}if(e.datasourceUrl&&e.datasources)throw new iE('Can not use "datasourceUrl" and "datasources" options at the same time. Pick one of them')}(t,e);let n=new ez().on("error",()=>{});if(this._extensions=rB.empty(),this._previewFeatures=function({generator:e}){return e?.previewFeatures??[]}(e),this._clientVersion=e.clientVersion??"6.19.0",this._activeProvider=e.activeProvider,this._globalOmit=t?.omit,this._tracingHelper=new id,e.relativeEnvPaths&&(e.relativeEnvPaths.rootEnvPath&&eJ.resolve(e.dirname,e.relativeEnvPaths.rootEnvPath),e.relativeEnvPaths.schemaEnvPath&&eJ.resolve(e.dirname,e.relativeEnvPaths.schemaEnvPath)),t?.adapter){r=t.adapter;let n="postgresql"===e.activeProvider||"cockroachdb"===e.activeProvider?"postgres":e.activeProvider;if(r.provider!==n)throw new tK(`The Driver Adapter \`${r.adapterName}\`, based on \`${r.provider}\`, is not compatible with the provider \`${n}\` specified in the Prisma schema.`,this._clientVersion);if(t.datasources||void 0!==t.datasourceUrl)throw new tK("Custom datasource configuration is not compatible with Prisma Driver Adapters. Please define the database connection string directly in the Driver Adapter configuration.",this._clientVersion)}let i=e.injectableEdgeEnv?.();try{let a=t??{},o=a.__internal??{},s=!0===o.debug;s&&t_.enable("prisma:client");let l=eJ.resolve(e.dirname,e.relativePath);eM.existsSync(l)||(l=e.dirname),iT("dirname",e.dirname),iT("relativePath",e.relativePath),iT("cwd",l);let c=o.engine||{};if(a.errorFormat?this._errorFormat=a.errorFormat:"production"===C.env.NODE_ENV?this._errorFormat="minimal":(C.env.NO_COLOR,this._errorFormat="colorless"),this._runtimeDataModel=e.runtimeDataModel,this._engineConfig={cwd:l,dirname:e.dirname,enableDebugLogs:s,allowTriggerPanic:c.allowTriggerPanic,prismaPath:c.binaryPath??void 0,engineEndpoint:c.endpoint,generator:e.generator,showColors:"pretty"===this._errorFormat,logLevel:a.log&&function(e){return"string"==typeof e?e:e.reduce((e,t)=>{let r="string"==typeof t?t:t.level;return"query"===r?e:e&&("info"===t||"info"===e)?"info":r},void 0)}(a.log),logQueries:a.log&&!!("string"==typeof a.log?"query"===a.log:a.log.find(e=>"string"==typeof e?"query"===e:"query"===e.level)),env:i?.parsed??{},flags:[],engineWasm:e.engineWasm,compilerWasm:e.compilerWasm,clientVersion:e.clientVersion,engineVersion:e.engineVersion,previewFeatures:this._previewFeatures,activeProvider:e.activeProvider,inlineSchema:e.inlineSchema,overrideDatasources:function(e,t){return e?e.datasources?e.datasources:e.datasourceUrl?{[t[0]]:{url:e.datasourceUrl}}:{}:{}}(a,e.datasourceNames),inlineDatasources:e.inlineDatasources,inlineSchemaHash:e.inlineSchemaHash,tracingHelper:this._tracingHelper,transactionOptions:{maxWait:a.transactionOptions?.maxWait??2e3,timeout:a.transactionOptions?.timeout??5e3,isolationLevel:a.transactionOptions?.isolationLevel},logEmitter:n,isBundled:e.isBundled,adapter:r},this._accelerateEngineConfig={...this._engineConfig,accelerateUtils:{resolveDatasourceUrl:nX,getBatchRequestPayload:nm,prismaGraphQLToJSError:ny,PrismaClientUnknownRequestError:tG,PrismaClientInitializationError:tK,PrismaClientKnownRequestError:tJ,debug:t_("prisma:client:accelerateEngine"),engineVersion:nt.version,clientVersion:e.clientVersion}},iT("clientVersion",e.clientVersion),this._engine=function({copyEngine:e=!0},t){let r;try{r=nX({inlineDatasources:t.inlineDatasources,overrideDatasources:t.overrideDatasources,env:{...t.env,...C.env},clientVersion:t.clientVersion})}catch{}let{ok:n,isUsing:i,diagnostics:a}=function({url:e,adapter:t,copyEngine:r,targetBuildType:n}){let i=[],a=[],o=e=>{let t=e.join(`
`);a.push({_tag:"error",value:t})},s=!!e?.startsWith("prisma://"),l=e?.toString().startsWith("prisma+postgres://")??!1,c=!!t,u=s||l;!c&&r&&u&&"client"!==n&&"wasm-compiler-edge"!==n&&i.push({_tag:"warning",value:["recommend--no-engine","In production, we recommend using `prisma generate --no-engine` (See: `prisma generate --help`)"]});let d=u||!r;c&&(d||"edge"===n)&&("edge"===n?o(["Prisma Client was configured to use the `adapter` option but it was imported via its `/edge` endpoint.","Please either remove the `/edge` endpoint or remove the `adapter` from the Prisma Client constructor."]):u?o(["You've provided both a driver adapter and an Accelerate database URL. Driver adapters currently cannot connect to Accelerate.","Please provide either a driver adapter with a direct database URL or an Accelerate URL and no driver adapter."]):r||o(["Prisma Client was configured to use the `adapter` option but `prisma generate` was run with `--no-engine`.","Please run `prisma generate` without `--no-engine` to be able to use Prisma Client with the adapter."]));let p={accelerate:d,ppg:l,driverAdapters:c};return a.length>0?{ok:!1,diagnostics:{warnings:i,errors:a},isUsing:p}:{ok:!0,diagnostics:{warnings:i},isUsing:p}}({url:r,adapter:t.adapter,copyEngine:e,targetBuildType:"wasm-engine-edge"});for(let e of a.warnings)tW(...e.value);if(!n)throw new tX(a.errors[0].value,{clientVersion:t.clientVersion});return tE(t.generator),(i.accelerate||i.ppg)&&i.driverAdapters,i.accelerate,i.driverAdapters?new n1(t):i.accelerate?new n6(t):new n5({clientVersion:t.clientVersion})}(e,this._engineConfig),this._requestHandler=new iw(this,n),a.log)for(let e of a.log){let t="string"==typeof e?e:"stdout"===e.emit?e.level:null;t&&this.$on(t,e=>{tC.log(`${tC.tags[t]??""}`,e.message||e.query)})}}catch(e){throw e.clientVersion=this._clientVersion,e}return this._appliedParent=nC(this)}get[Symbol.toStringTag](){return"PrismaClient"}$on(e,t){return"beforeExit"===e?this._engine.onBeforeExit(t):e&&this._engineConfig.logEmitter.on(e,t),this}$connect(){try{return this._engine.start()}catch(e){throw e.clientVersion=this._clientVersion,e}}async $disconnect(){try{await this._engine.stop()}catch(e){throw e.clientVersion=this._clientVersion,e}finally{tg.length=0}}$executeRawInternal(e,t,r,n){let i=this._activeProvider;return this._request({action:"executeRaw",args:r,transaction:e,clientMethod:t,argsMapper:ii({clientMethod:t,activeProvider:i}),callsite:nw(this._errorFormat),dataPath:[],middlewareArgsMapper:n})}$executeRaw(e,...t){return this._createPrismaPromise(r=>{if(void 0!==e.raw||void 0!==e.sql){let[n,i]=i$(e,t);return ir(this._activeProvider,n.text,n.values,Array.isArray(e)?"prisma.$executeRaw`<SQL>`":"prisma.$executeRaw(sql`<SQL>`)"),this.$executeRawInternal(r,"$executeRaw",n,i)}throw new tX("`$executeRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$executeRaw`UPDATE User SET cool = ${true} WHERE email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#executeraw\n",{clientVersion:this._clientVersion})})}$executeRawUnsafe(e,...t){return this._createPrismaPromise(r=>(ir(this._activeProvider,e,t,"prisma.$executeRawUnsafe(<SQL>, [...values])"),this.$executeRawInternal(r,"$executeRawUnsafe",[e,...t])))}$runCommandRaw(t){if("mongodb"!==e.activeProvider)throw new tX(`The ${e.activeProvider} provider does not support $runCommandRaw. Use the mongodb provider.`,{clientVersion:this._clientVersion});return this._createPrismaPromise(e=>this._request({args:t,clientMethod:"$runCommandRaw",dataPath:[],action:"runCommandRaw",argsMapper:n3,callsite:nw(this._errorFormat),transaction:e}))}async $queryRawInternal(e,t,r,n){let i=this._activeProvider;return this._request({action:"queryRaw",args:r,transaction:e,clientMethod:t,argsMapper:ii({clientMethod:t,activeProvider:i}),callsite:nw(this._errorFormat),dataPath:[],middlewareArgsMapper:n})}$queryRaw(e,...t){return this._createPrismaPromise(r=>{if(void 0!==e.raw||void 0!==e.sql)return this.$queryRawInternal(r,"$queryRaw",...i$(e,t));throw new tX("`$queryRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$queryRaw`SELECT * FROM User WHERE id = ${1} OR email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#queryraw\n",{clientVersion:this._clientVersion})})}$queryRawTyped(e){return this._createPrismaPromise(t=>{if(!this._hasPreviewFlag("typedSql"))throw new tX("`typedSql` preview feature must be enabled in order to access $queryRawTyped API",{clientVersion:this._clientVersion});return this.$queryRawInternal(t,"$queryRawTyped",e)})}$queryRawUnsafe(e,...t){return this._createPrismaPromise(r=>this.$queryRawInternal(r,"$queryRawUnsafe",[e,...t]))}_transactionWithArray({promises:e,options:t}){var r;let n=iN.nextId(),i=function(e,t=()=>{}){let r,n=new Promise(e=>r=e);return{then:i=>(0==--e&&r(t()),i?.(n))}}(e.length);return 0===(r=e.map((e,r)=>{if(e?.[Symbol.toStringTag]!=="PrismaPromise")throw Error("All elements of the array need to be Prisma Client promises. Hint: Please make sure you are not awaiting the Prisma client calls you intended to pass in the $transaction function.");let a=t?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel;return e.requestTransaction?.({kind:"batch",id:n,index:r,isolationLevel:a,lock:i})??e})).length?Promise.resolve([]):new Promise((e,t)=>{let n=Array(r.length),i=null,a=!1,o=0,s=()=>{a||++o===r.length&&(a=!0,i?t(i):e(n))},l=e=>{a||(a=!0,t(e))};for(let e=0;e<r.length;e++)r[e].then(t=>{n[e]=t,s()},t=>{ip(t)?t.batchRequestIdx===e?l(t):(i||(i=t),s()):l(t)})})}async _transactionWithCallback({callback:e,options:t}){let r={traceparent:this._tracingHelper.getTraceParent()},n={maxWait:t?.maxWait??this._engineConfig.transactionOptions.maxWait,timeout:t?.timeout??this._engineConfig.transactionOptions.timeout,isolationLevel:t?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel},i=await this._engine.transaction("start",r,n),a;try{let t={kind:"itx",...i};a=await e(this._createItxClient(t)),await this._engine.transaction("commit",r,i)}catch(e){throw await this._engine.transaction("rollback",r,i).catch(()=>{}),e}return a}_createItxClient(e){return nh(nC(nh(this[nO]?this[nO]:this,[nl("_appliedParent",()=>this._appliedParent._createItxClient(e)),nl("_createPrismaPromise",()=>is(e)),nl(iC,()=>e.id)])),[ng(nU)])}$transaction(e,t){let r;return r="function"==typeof e?this._engineConfig.adapter?.adapterName==="@prisma/adapter-d1"?()=>{throw Error("Cloudflare D1 does not support interactive transactions. We recommend you to refactor your queries with that limitation in mind, and use batch transactions with `prisma.$transactions([])` where applicable.")}:()=>this._transactionWithCallback({callback:e,options:t}):()=>this._transactionWithArray({promises:e,options:t}),this._tracingHelper.runInChildSpan({name:"transaction",attributes:{method:"$transaction"}},r)}_request(e){e.otelParentCtx=this._tracingHelper.getActiveContext();let t=e.middlewareArgsMapper??iO,r={args:t.requestArgsToMiddlewareArgs(e.args),dataPath:e.dataPath,runInTransaction:!!e.transaction,action:e.action,model:e.model},n={operation:{name:"operation",attributes:{method:r.action,model:r.model,name:r.model?`${r.model}.${r.action}`:r.action}}},i=async r=>{let{runInTransaction:n,args:i,...a}=r,o={...e,...a};i&&(o.args=t.middlewareArgsToRequestArgs(i)),void 0!==e.transaction&&!1===n&&delete o.transaction;let s=await function(e,t){let{jsModelName:r,action:n,clientMethod:i}=t;if(e._extensions.isEmpty())return e._executeRequest(t);let a=e._extensions.getAllQueryCallbacks(r??"$none",r?n:i);return function e(t,r,n,i=0){return t._createPrismaPromise(a=>{let o=r.customDataProxyFetch;return"transaction"in r&&void 0!==a&&(r.transaction?.kind==="batch"&&r.transaction.lock.then(),r.transaction=a),i===n.length?t._executeRequest(r):n[i]({model:r.model,operation:r.model?r.action:r.clientMethod,args:function(e){var t,r;if(e instanceof nr){return new nr((t=e).strings,t.values)}if(ne(e)){return new r9((r=e).sql,r.values)}if(Array.isArray(e)){let t=[e[0]];for(let r=1;r<e.length;r++)t[r]=nD(e[r]);return t}let n={};for(let t in e)n[t]=nD(e[t]);return n}(r.args??{}),__internalParams:r,query:(a,s=r)=>{let l=s.customDataProxyFetch;return s.customDataProxyFetch=nM(o,l),s.args=a,e(t,s,n,i+1)}})})}(e,t,a)}(this,o);return o.model?function({result:e,modelName:t,args:r,extensions:n,runtimeDataModel:i,globalOmit:a}){return n.isEmpty()||null==e||"object"!=typeof e||!i.models[t]?e:nI({result:e,args:r??{},modelName:t,runtimeDataModel:i,visitor:(e,t,r)=>{let i=rH(t);return function({result:e,modelName:t,select:r,omit:n,extensions:i}){let a=i.getAllComputedFields(t);if(!a)return e;let o=[],s=[];for(let t of Object.values(a)){if(n){if(n[t.name])continue;let e=t.needs.filter(e=>n[e]);e.length>0&&s.push(ng(e))}else if(r){if(!r[t.name])continue;let e=t.needs.filter(e=>!r[e]);e.length>0&&s.push(ng(e))}(function(e,t){return t.every(t=>Object.prototype.hasOwnProperty.call(e,t))})(e,t.needs)&&o.push(function(e,t){return nc(nl(e.name,()=>e.compute(t)))}(t,nh(e,o)))}return o.length>0||s.length>0?nh(e,[...o,...s]):e}({result:e,modelName:i,select:r.select,omit:r.select?void 0:{...a?.[i],...r.omit},extensions:n})}})}({result:s,modelName:o.model,args:o.args,extensions:this._extensions,runtimeDataModel:this._runtimeDataModel,globalOmit:this._globalOmit}):s};return this._tracingHelper.runInChildSpan(n.operation,()=>i(r))}async _executeRequest({args:e,clientMethod:t,dataPath:r,callsite:n,action:i,model:a,argsMapper:o,transaction:s,unpacker:l,otelParentCtx:c,customDataProxyFetch:u}){try{e=o?o(e):e;let d=this._tracingHelper.runInChildSpan({name:"serialize"},()=>rZ({modelName:a,runtimeDataModel:this._runtimeDataModel,action:i,args:e,clientMethod:t,callsite:n,extensions:this._extensions,errorFormat:this._errorFormat,clientVersion:this._clientVersion,previewFeatures:this._previewFeatures,globalOmit:this._globalOmit}));return t_.enabled("prisma:client")&&(iT("Prisma Client call:"),iT(`prisma.${t}(${function(e){if(void 0===e)return"";let t=rj(e);return new ra(0,{colors:rl}).write(t).toString()}(e)})`),iT("Generated request:"),iT(JSON.stringify(d,null,2)+`
`)),s?.kind==="batch"&&await s.lock,this._requestHandler.request({protocolQuery:d,modelName:a,action:i,clientMethod:t,dataPath:r,callsite:n,args:e,extensions:this._extensions,transaction:s,unpacker:l,otelParentCtx:c,otelChildCtx:this._tracingHelper.getActiveContext(),globalOmit:this._globalOmit,customDataProxyFetch:u})}catch(e){throw e.clientVersion=this._clientVersion,e}}$metrics=new r5(this);_hasPreviewFlag(e){return!!this._engineConfig.previewFeatures?.includes(e)}$applyPendingMigrations(){return this._engine.applyPendingMigrations()}$extends=nN}return t}function i$(e,t){var r;return Array.isArray(r=e)&&Array.isArray(r.raw)?[new nr(e,t),ia]:[e,io]}U(),D(),j(),M(),L(),e_();var iU=new Set(["toJSON","$$typeof","asymmetricMatch",Symbol.iterator,Symbol.toStringTag,Symbol.isConcatSpreadable,Symbol.toPrimitive]);function iD(e){return new Proxy(e,{get(e,t){if(t in e)return e[t];if(!iU.has(t))throw TypeError(`Invalid enum value: ${String(t)}`)}})}U(),D(),j(),M(),L(),e_(),e_()},54998,(e,t,r)=>{"use strict";let n;var i=Object.defineProperty,a=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,l={},c={QueryEngine:()=>I,__wbg_Error_e83987f665cf5504:()=>$,__wbg_Number_bb48ca12f395cd08:()=>U,__wbg_String_8f0eb39a4a4c2f66:()=>D,__wbg___wbindgen_bigint_get_as_i64_f3ebc5a755000afd:()=>j,__wbg___wbindgen_boolean_get_6d5a1ee65bab5f68:()=>M,__wbg___wbindgen_debug_string_df47ffb5e35e6763:()=>L,__wbg___wbindgen_in_bb933bd9e1b3bc0f:()=>q,__wbg___wbindgen_is_bigint_cb320707dcd35f0b:()=>H,__wbg___wbindgen_is_function_ee8a6c5833c90377:()=>F,__wbg___wbindgen_is_object_c818261d21f283a4:()=>V,__wbg___wbindgen_is_string_fbb76cb2940daafd:()=>B,__wbg___wbindgen_is_undefined_2d472862bd29a478:()=>W,__wbg___wbindgen_jsval_eq_6b13ab83478b1c50:()=>K,__wbg___wbindgen_jsval_loose_eq_b664b38a2f582147:()=>J,__wbg___wbindgen_number_get_a20bf9b85341449d:()=>z,__wbg___wbindgen_string_get_e4f06c90489ad01b:()=>G,__wbg___wbindgen_throw_b855445ff6a94295:()=>X,__wbg__wbg_cb_unref_2454a539ea5790d9:()=>Q,__wbg_call_525440f72fbfc0ea:()=>Y,__wbg_call_e762c39fa8ea36bf:()=>Z,__wbg_crypto_805be4ce92f1e370:()=>ee,__wbg_done_2042aa2670fb1db1:()=>et,__wbg_entries_e171b586f8f6bdbf:()=>er,__wbg_exec_fdeec61d47617356:()=>en,__wbg_getRandomValues_f6a868620c8bab49:()=>ei,__wbg_getTime_14776bfb48a1bff9:()=>ea,__wbg_get_7bed016f185add81:()=>eo,__wbg_get_ece95cf6585650d9:()=>es,__wbg_get_efcb449f58ec27c2:()=>el,__wbg_get_with_ref_key_1dc361bd10053bfe:()=>ec,__wbg_has_787fafc980c3ccdb:()=>eu,__wbg_instanceof_ArrayBuffer_70beb1189ca63b38:()=>ed,__wbg_instanceof_Map_8579b5e2ab5437c7:()=>ep,__wbg_instanceof_Promise_001fdd42afa1b7ef:()=>eh,__wbg_instanceof_Uint8Array_20c8e73002f7af98:()=>ef,__wbg_isArray_96e0af9891d0945d:()=>eg,__wbg_isSafeInteger_d216eda7911dde36:()=>em,__wbg_iterator_e5822695327a3c39:()=>ey,__wbg_keys_b4d27b02ad14f4be:()=>eb,__wbg_length_69bca3cb64fc8748:()=>ew,__wbg_length_cdd215e10d9dd507:()=>e_,__wbg_msCrypto_2ac4d17c4748234a:()=>ev,__wbg_new_0_f9740686d739025c:()=>eE,__wbg_new_1acc0b6eea89d040:()=>eS,__wbg_new_23fa8b12a239f036:()=>ex,__wbg_new_3c3d849046688a66:()=>ek,__wbg_new_5a79be3ab53b8aa5:()=>eP,__wbg_new_68651c719dcda04e:()=>eA,__wbg_new_e17d9f43105b08be:()=>eR,__wbg_new_from_slice_92f4d78ca282a2d2:()=>eT,__wbg_new_no_args_ee98eee5275000a4:()=>eO,__wbg_new_with_length_01aa0dc35aa13543:()=>eC,__wbg_next_020810e0ae8ebcb0:()=>eN,__wbg_next_2c826fe5dfec6b6a:()=>eI,__wbg_node_ecc8306b9857f33d:()=>e$,__wbg_now_793306c526e2e3b6:()=>eU,__wbg_now_7fd00a794a07d388:()=>eD,__wbg_now_b3f7572f6ef3d3a9:()=>ej,__wbg_process_5cff2739921be718:()=>eM,__wbg_prototypesetcall_2a6620b6922694b2:()=>eL,__wbg_push_df81a39d04db858c:()=>eq,__wbg_queueMicrotask_5a8a9131f3f0b37b:()=>eH,__wbg_queueMicrotask_6d79674585219521:()=>eF,__wbg_randomFillSync_d3c85af7e31cf1f8:()=>eV,__wbg_require_0c566c6f2eef6c79:()=>eB,__wbg_resolve_caf97c30b83f7053:()=>eW,__wbg_setTimeout_5d6a1d4fc51ea450:()=>eK,__wbg_set_3f1d0b984ed272ed:()=>eJ,__wbg_set_907fb406c34a251d:()=>ez,__wbg_set_c213c871859d6500:()=>eG,__wbg_set_c2abbebe8b9ebee1:()=>eX,__wbg_set_wasm:()=>p,__wbg_static_accessor_GLOBAL_89e1d9ac6a1b250e:()=>eQ,__wbg_static_accessor_GLOBAL_THIS_8b530f326a9e48ac:()=>eY,__wbg_static_accessor_SELF_6fdf4b64710cc91b:()=>eZ,__wbg_static_accessor_WINDOW_b45bfc5a37f6cfa2:()=>e0,__wbg_subarray_480600f3d6a9f26c:()=>e1,__wbg_then_4f46f6544e6b4a28:()=>e2,__wbg_then_70d05cf780a18d77:()=>e6,__wbg_valueOf_9eee4828c11458ca:()=>e5,__wbg_value_692627309814bb8c:()=>e3,__wbg_versions_a8e5a362e1f16442:()=>e8,__wbindgen_cast_2241b6af4c4b2941:()=>e4,__wbindgen_cast_4625c577ab2ec9ee:()=>e9,__wbindgen_cast_7bf296c42657ff30:()=>e7,__wbindgen_cast_9ae0607507abb057:()=>te,__wbindgen_cast_cb9088102bce6b30:()=>tt,__wbindgen_cast_d6cd19b81560fd6e:()=>tr,__wbindgen_init_externref_table:()=>tn,debug_panic:()=>O,getBuildTimeInfo:()=>T};for(var u in c)i(l,u,{get:c[u],enumerable:!0});t.exports=((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||i(e,l,{get:()=>t[l],enumerable:!(n=a(t,l))||n.enumerable});return e})(i({},"__esModule",{value:!0}),l);var d=()=>{};function p(e){n=e}d.prototype=d;let h=null;function f(){return(null===h||0===h.byteLength)&&(h=new Uint8Array(n.memory.buffer)),h}let g=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});g.decode();let m=0;function y(e,t){var r;return e>>>=0,r=e,(m+=t)>=0x7ff00000&&((g=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0})).decode(),m=t),g.decode(f().subarray(r,r+t))}let b=0,w=new TextEncoder;function _(e,t,r){if(void 0===r){let r=w.encode(e),n=t(r.length,1)>>>0;return f().subarray(n,n+r.length).set(r),b=r.length,n}let n=e.length,i=t(n,1)>>>0,a=f(),o=0;for(;o<n;o++){let t=e.charCodeAt(o);if(t>127)break;a[i+o]=t}if(o!==n){0!==o&&(e=e.slice(o)),i=r(i,n,n=o+3*e.length,1)>>>0;let t=f().subarray(i+o,i+n);o+=w.encodeInto(e,t).written,i=r(i,n,o,1)>>>0}return b=o,i}"encodeInto"in w||(w.encodeInto=function(e,t){let r=w.encode(e);return t.set(r),{read:e.length,written:r.length}});let v=null;function E(){return(null===v||!0===v.buffer.detached||void 0===v.buffer.detached&&v.buffer!==n.memory.buffer)&&(v=new DataView(n.memory.buffer)),v}function S(e){return null==e}function x(e){let t=n.__externref_table_alloc();return n.__wbindgen_externrefs.set(t,e),t}function k(e,t){try{return e.apply(this,t)}catch(t){let e=x(t);n.__wbindgen_exn_store(e)}}function P(e,t){return e>>>=0,f().subarray(e/1,e/1+t)}let A=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>e.dtor(e.a,e.b));function R(e){let t=n.__wbindgen_externrefs.get(e);return n.__externref_table_dealloc(e),t}function T(){return n.getBuildTimeInfo()}function O(e){var t=S(e)?0:_(e,n.__wbindgen_malloc,n.__wbindgen_realloc),r=b;let i=n.debug_panic(t,r);if(i[1])throw R(i[0])}function C(e,t,r){n.wasm_bindgen__convert__closures_____invoke__ha235f3ea55a06a09(e,t,r)}let N=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>n.__wbg_queryengine_free(e>>>0,1));class I{__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,N.unregister(this),e}free(){let e=this.__destroy_into_raw();n.__wbg_queryengine_free(e,0)}disconnect(e,t){let r=_(e,n.__wbindgen_malloc,n.__wbindgen_realloc),i=b,a=_(t,n.__wbindgen_malloc,n.__wbindgen_realloc),o=b;return n.queryengine_disconnect(this.__wbg_ptr,r,i,a,o)}startTransaction(e,t,r){let i=_(e,n.__wbindgen_malloc,n.__wbindgen_realloc),a=b,o=_(t,n.__wbindgen_malloc,n.__wbindgen_realloc),s=b,l=_(r,n.__wbindgen_malloc,n.__wbindgen_realloc),c=b;return n.queryengine_startTransaction(this.__wbg_ptr,i,a,o,s,l,c)}commitTransaction(e,t,r){let i=_(e,n.__wbindgen_malloc,n.__wbindgen_realloc),a=b,o=_(t,n.__wbindgen_malloc,n.__wbindgen_realloc),s=b,l=_(r,n.__wbindgen_malloc,n.__wbindgen_realloc),c=b;return n.queryengine_commitTransaction(this.__wbg_ptr,i,a,o,s,l,c)}rollbackTransaction(e,t,r){let i=_(e,n.__wbindgen_malloc,n.__wbindgen_realloc),a=b,o=_(t,n.__wbindgen_malloc,n.__wbindgen_realloc),s=b,l=_(r,n.__wbindgen_malloc,n.__wbindgen_realloc),c=b;return n.queryengine_rollbackTransaction(this.__wbg_ptr,i,a,o,s,l,c)}constructor(e,t,r){const i=n.queryengine_new(e,t,r);if(i[2])throw R(i[1]);return this.__wbg_ptr=i[0]>>>0,N.register(this,this.__wbg_ptr,this),this}query(e,t,r,i){let a=_(e,n.__wbindgen_malloc,n.__wbindgen_realloc),o=b,s=_(t,n.__wbindgen_malloc,n.__wbindgen_realloc),l=b;var c=S(r)?0:_(r,n.__wbindgen_malloc,n.__wbindgen_realloc),u=b;let d=_(i,n.__wbindgen_malloc,n.__wbindgen_realloc),p=b;return n.queryengine_query(this.__wbg_ptr,a,o,s,l,c,u,d,p)}trace(e){let t=_(e,n.__wbindgen_malloc,n.__wbindgen_realloc),r=b;return n.queryengine_trace(this.__wbg_ptr,t,r)}connect(e,t){let r=_(e,n.__wbindgen_malloc,n.__wbindgen_realloc),i=b,a=_(t,n.__wbindgen_malloc,n.__wbindgen_realloc),o=b;return n.queryengine_connect(this.__wbg_ptr,r,i,a,o)}metrics(e){let t=_(e,n.__wbindgen_malloc,n.__wbindgen_realloc),r=b;return n.queryengine_metrics(this.__wbg_ptr,t,r)}}function $(e,t){return Error(y(e,t))}function U(e){return Number(e)}function D(e,t){let r=_(String(t),n.__wbindgen_malloc,n.__wbindgen_realloc),i=b;E().setInt32(e+4,i,!0),E().setInt32(e+0,r,!0)}function j(e,t){let r="bigint"==typeof t?t:void 0;E().setBigInt64(e+8,S(r)?BigInt(0):r,!0),E().setInt32(e+0,!S(r),!0)}function M(e){let t="boolean"==typeof e?e:void 0;return S(t)?0xffffff:+!!t}function L(e,t){let r=_(function e(t){let r,n=typeof t;if("number"==n||"boolean"==n||null==t)return`${t}`;if("string"==n)return`"${t}"`;if("symbol"==n){let e=t.description;return null==e?"Symbol":`Symbol(${e})`}if("function"==n){let e=t.name;return"string"==typeof e&&e.length>0?`Function(${e})`:"Function"}if(Array.isArray(t)){let r=t.length,n="[";r>0&&(n+=e(t[0]));for(let i=1;i<r;i++)n+=", "+e(t[i]);return n+"]"}let i=/\[object ([^\]]+)\]/.exec(toString.call(t));if(!i||!(i.length>1))return toString.call(t);if("Object"==(r=i[1]))try{return"Object("+JSON.stringify(t)+")"}catch{return"Object"}return t instanceof Error?`${t.name}: ${t.message}
${t.stack}`:r}(t),n.__wbindgen_malloc,n.__wbindgen_realloc),i=b;E().setInt32(e+4,i,!0),E().setInt32(e+0,r,!0)}function q(e,t){return e in t}function H(e){return"bigint"==typeof e}function F(e){return"function"==typeof e}function V(e){return"object"==typeof e&&null!==e}function B(e){return"string"==typeof e}function W(e){return void 0===e}function K(e,t){return e===t}function J(e,t){return e==t}function z(e,t){let r="number"==typeof t?t:void 0;E().setFloat64(e+8,S(r)?0:r,!0),E().setInt32(e+0,!S(r),!0)}function G(e,t){let r="string"==typeof t?t:void 0;var i=S(r)?0:_(r,n.__wbindgen_malloc,n.__wbindgen_realloc),a=b;E().setInt32(e+4,a,!0),E().setInt32(e+0,i,!0)}function X(e,t){throw Error(y(e,t))}function Q(e){e._wbg_cb_unref()}function Y(){return k(function(e,t,r){return e.call(t,r)},arguments)}function Z(){return k(function(e,t){return e.call(t)},arguments)}function ee(e){return e.crypto}function et(e){return e.done}function er(e){return Object.entries(e)}function en(e,t,r){let n=e.exec(y(t,r));return S(n)?0:x(n)}function ei(){return k(function(e,t){e.getRandomValues(t)},arguments)}function ea(e){return e.getTime()}function eo(e,t){return e[t>>>0]}function es(){return k(function(e,t){return e[t]},arguments)}function el(){return k(function(e,t){return Reflect.get(e,t)},arguments)}function ec(e,t){return e[t]}function eu(){return k(function(e,t){return Reflect.has(e,t)},arguments)}function ed(e){let t;try{t=e instanceof ArrayBuffer}catch{t=!1}return t}function ep(e){let t;try{t=e instanceof Map}catch{t=!1}return t}function eh(e){let t;try{t=e instanceof Promise}catch{t=!1}return t}function ef(e){let t;try{t=e instanceof Uint8Array}catch{t=!1}return t}function eg(e){return Array.isArray(e)}function em(e){return Number.isSafeInteger(e)}function ey(){return Symbol.iterator}function eb(e){return Object.keys(e)}function ew(e){return e.length}function e_(e){return e.length}function ev(e){return e.msCrypto}function eE(){return new Date}function eS(){return{}}function ex(e,t,r,n){return new RegExp(y(e,t),y(r,n))}function ek(e,t){try{var r={a:e,b:t};return new Promise((e,t)=>{let i=r.a;r.a=0;try{var a;return a=r.b,void n.wasm_bindgen__convert__closures_____invoke__h1a2f20be69ab8911(i,a,e,t)}finally{r.a=i}})}finally{r.a=r.b=0}}function eP(e){return new Uint8Array(e)}function eA(){return new Map}function eR(){return[]}function eT(e,t){return new Uint8Array(P(e,t))}function eO(e,t){return new d(y(e,t))}function eC(e){return new Uint8Array(e>>>0)}function eN(){return k(function(e){return e.next()},arguments)}function eI(e){return e.next}function e$(e){return e.node}function eU(){return Date.now()}function eD(e){return e.now()}function ej(){return k(function(){return Date.now()},arguments)}function eM(e){return e.process}function eL(e,t,r){Uint8Array.prototype.set.call(P(e,t),r)}function eq(e,t){return e.push(t)}function eH(e){return e.queueMicrotask}function eF(e){queueMicrotask(e)}function eV(){return k(function(e,t){e.randomFillSync(t)},arguments)}function eB(){return k(function(){return t.require},arguments)}function eW(e){return Promise.resolve(e)}function eK(e,t){return setTimeout(e,t>>>0)}function eJ(e,t,r){e[t]=r}function ez(e,t,r){return e.set(t,r)}function eG(e,t,r){e[t>>>0]=r}function eX(){return k(function(e,t,r){return Reflect.set(e,t,r)},arguments)}function eQ(){let t=e.g;return S(t)?0:x(t)}function eY(){let e=typeof globalThis>"u"?null:globalThis;return S(e)?0:x(e)}function eZ(){let e=typeof self>"u"?null:self;return S(e)?0:x(e)}function e0(){return S(null)?0:x(null)}function e1(e,t,r){return e.subarray(t>>>0,r>>>0)}function e2(e,t){return e.then(t)}function e6(e,t,r){return e.then(t,r)}function e5(e){return e.valueOf()}function e3(e){return e.value}function e8(e){return e.versions}function e4(e,t){return y(e,t)}function e9(e){return BigInt.asUintN(64,e)}function e7(e,t){var r;let i,a;return r=n.wasm_bindgen__closure__destroy__hf9ae564cf31e91c2,i={a:e,b:t,cnt:1,dtor:r},(a=(...e)=>{i.cnt++;let t=i.a;i.a=0;try{return C(t,i.b,...e)}finally{i.a=t,a._wbg_cb_unref()}})._wbg_cb_unref=()=>{0==--i.cnt&&(i.dtor(i.a,i.b),i.a=0,A.unregister(i))},A.register(a,i,i),a}function te(e){return e}function tt(e,t){return P(e,t)}function tr(e){return e}function tn(){let e=n.__wbindgen_externrefs,t=e.grow(4);e.set(0,void 0),e.set(t+0,void 0),e.set(t+1,null),e.set(t+2,!0),e.set(t+3,!1)}Symbol.dispose&&(I.prototype[Symbol.dispose]=I.prototype.free)},97391,(e,t,r)=>{Object.defineProperty(r,"__esModule",{value:!0});let{PrismaClientKnownRequestError:n,PrismaClientUnknownRequestError:i,PrismaClientRustPanicError:a,PrismaClientInitializationError:o,PrismaClientValidationError:s,getPrismaClient:l,sqltag:c,empty:u,join:d,raw:p,skip:h,Decimal:f,Debug:g,objectEnumValues:m,makeStrictEnum:y,Extensions:b,warnOnce:w,defineDmmfProperty:_,Public:v,getRuntime:E,createParam:S}=e.r(63617),x={};r.Prisma=x,r.$Enums={},x.prismaVersion={client:"6.19.0",engine:"2ba551f319ab1df4bc874a89965d8b3641056773"},x.PrismaClientKnownRequestError=n,x.PrismaClientUnknownRequestError=i,x.PrismaClientRustPanicError=a,x.PrismaClientInitializationError=o,x.PrismaClientValidationError=s,x.Decimal=f,x.sql=c,x.empty=u,x.join=d,x.raw=p,x.validator=v.validator,x.getExtensionContext=b.getExtensionContext,x.defineExtension=b.defineExtension,x.DbNull=m.instances.DbNull,x.JsonNull=m.instances.JsonNull,x.AnyNull=m.instances.AnyNull,x.NullTypes={DbNull:m.classes.DbNull,JsonNull:m.classes.JsonNull,AnyNull:m.classes.AnyNull},r.Prisma.TransactionIsolationLevel=y({ReadUncommitted:"ReadUncommitted",ReadCommitted:"ReadCommitted",RepeatableRead:"RepeatableRead",Serializable:"Serializable"}),r.Prisma.UserScalarFieldEnum={id:"id",email:"email",password:"password",name:"name",role:"role",branchId:"branchId",createdAt:"createdAt",updatedAt:"updatedAt"},r.Prisma.BranchScalarFieldEnum={id:"id",name:"name",address:"address",type:"type",services:"services",latitude:"latitude",longitude:"longitude",qrCode:"qrCode",createdAt:"createdAt",updatedAt:"updatedAt"},r.Prisma.FeedbackScalarFieldEnum={id:"id",branchId:"branchId",rating:"rating",category:"category",comment:"comment",customerName:"customerName",customerEmail:"customerEmail",customerPhone:"customerPhone",createdAt:"createdAt",updatedAt:"updatedAt"},r.Prisma.FeedbackFileScalarFieldEnum={id:"id",feedbackId:"feedbackId",filename:"filename",filepath:"filepath",mimetype:"mimetype",size:"size",createdAt:"createdAt"},r.Prisma.SortOrder={asc:"asc",desc:"desc"},r.Prisma.QueryMode={default:"default",insensitive:"insensitive"},r.Prisma.NullsOrder={first:"first",last:"last"},r.Role=r.$Enums.Role={ADMIN:"ADMIN",USER:"USER"},r.Prisma.ModelName={User:"User",Branch:"Branch",Feedback:"Feedback",FeedbackFile:"FeedbackFile"};let k={generator:{name:"client",provider:{fromEnvVar:null,value:"prisma-client-js"},output:{value:"/Users/ismatsamadov/boby/feedback-system/node_modules/@prisma/client",fromEnvVar:null},config:{engineType:"library"},binaryTargets:[{fromEnvVar:null,value:"darwin-arm64",native:!0}],previewFeatures:[],sourceFilePath:"/Users/ismatsamadov/boby/feedback-system/prisma/schema.prisma"},relativeEnvPaths:{rootEnvPath:null,schemaEnvPath:"../../../.env"},relativePath:"../../../prisma",clientVersion:"6.19.0",engineVersion:"2ba551f319ab1df4bc874a89965d8b3641056773",datasourceNames:["db"],activeProvider:"postgresql",inlineDatasources:{db:{url:{fromEnvVar:"DATABASE_URL",value:null}}},inlineSchema:'// This is your Prisma schema file,\n// learn more about it in the docs: https://pris.ly/d/prisma-schema\n\ngenerator client {\n  provider = "prisma-client-js"\n}\n\ndatasource db {\n  provider = "postgresql"\n  url      = env("DATABASE_URL")\n  schemas  = ["boby"]\n}\n\nmodel User {\n  id        String   @id @default(cuid())\n  email     String   @unique\n  password  String\n  name      String\n  role      Role     @default(USER)\n  branchId  String?\n  branch    Branch?  @relation(fields: [branchId], references: [id])\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  @@index([email])\n  @@schema("boby")\n}\n\nmodel Branch {\n  id        String     @id @default(cuid())\n  name      String\n  address   String\n  type      String // ATM, Branch, Payment Terminal\n  services  String?\n  latitude  Float\n  longitude Float\n  qrCode    String?    @unique\n  users     User[]\n  feedbacks Feedback[]\n  createdAt DateTime   @default(now())\n  updatedAt DateTime   @updatedAt\n\n  @@index([type])\n  @@schema("boby")\n}\n\nmodel Feedback {\n  id            String         @id @default(cuid())\n  branchId      String\n  branch        Branch         @relation(fields: [branchId], references: [id], onDelete: Cascade)\n  rating        Int // 1-5 stars\n  category      String // Service, Cleanliness, Speed, etc.\n  comment       String?\n  files         FeedbackFile[]\n  customerName  String?\n  customerEmail String?\n  customerPhone String?\n  createdAt     DateTime       @default(now())\n  updatedAt     DateTime       @updatedAt\n\n  @@index([branchId])\n  @@index([createdAt])\n  @@index([rating])\n  @@schema("boby")\n}\n\nmodel FeedbackFile {\n  id         String   @id @default(cuid())\n  feedbackId String\n  feedback   Feedback @relation(fields: [feedbackId], references: [id], onDelete: Cascade)\n  filename   String\n  filepath   String\n  mimetype   String\n  size       Int\n  createdAt  DateTime @default(now())\n\n  @@index([feedbackId])\n  @@schema("boby")\n}\n\nenum Role {\n  ADMIN\n  USER\n\n  @@schema("boby")\n}\n',inlineSchemaHash:"13f0d65b84cbebb534cf9deceef9de2a1eb92688ba3864724b4a72e2666d59c9",copyEngine:!0};k.dirname="/",k.runtimeDataModel=JSON.parse('{"models":{"User":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"email","kind":"scalar","type":"String"},{"name":"password","kind":"scalar","type":"String"},{"name":"name","kind":"scalar","type":"String"},{"name":"role","kind":"enum","type":"Role"},{"name":"branchId","kind":"scalar","type":"String"},{"name":"branch","kind":"object","type":"Branch","relationName":"BranchToUser"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"}],"dbName":null},"Branch":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"name","kind":"scalar","type":"String"},{"name":"address","kind":"scalar","type":"String"},{"name":"type","kind":"scalar","type":"String"},{"name":"services","kind":"scalar","type":"String"},{"name":"latitude","kind":"scalar","type":"Float"},{"name":"longitude","kind":"scalar","type":"Float"},{"name":"qrCode","kind":"scalar","type":"String"},{"name":"users","kind":"object","type":"User","relationName":"BranchToUser"},{"name":"feedbacks","kind":"object","type":"Feedback","relationName":"BranchToFeedback"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"}],"dbName":null},"Feedback":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"branchId","kind":"scalar","type":"String"},{"name":"branch","kind":"object","type":"Branch","relationName":"BranchToFeedback"},{"name":"rating","kind":"scalar","type":"Int"},{"name":"category","kind":"scalar","type":"String"},{"name":"comment","kind":"scalar","type":"String"},{"name":"files","kind":"object","type":"FeedbackFile","relationName":"FeedbackToFeedbackFile"},{"name":"customerName","kind":"scalar","type":"String"},{"name":"customerEmail","kind":"scalar","type":"String"},{"name":"customerPhone","kind":"scalar","type":"String"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"}],"dbName":null},"FeedbackFile":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"feedbackId","kind":"scalar","type":"String"},{"name":"feedback","kind":"object","type":"Feedback","relationName":"FeedbackToFeedbackFile"},{"name":"filename","kind":"scalar","type":"String"},{"name":"filepath","kind":"scalar","type":"String"},{"name":"mimetype","kind":"scalar","type":"String"},{"name":"size","kind":"scalar","type":"Int"},{"name":"createdAt","kind":"scalar","type":"DateTime"}],"dbName":null}},"enums":{},"types":{}}'),_(r.Prisma,k.runtimeDataModel),k.engineWasm={getRuntime:async()=>e.r(54998),getQueryEngineWasmModule:async()=>{let t=(await Promise.resolve().then(()=>e.i(6124))).default;return(await t).default}},k.compilerWasm=void 0,k.injectableEdgeEnv=()=>({parsed:{DATABASE_URL:"undefined"!=typeof globalThis&&globalThis.DATABASE_URL||"undefined"!=typeof process&&process.env&&process.env.DATABASE_URL||void 0}}),("undefined"!=typeof globalThis&&globalThis.DEBUG||"undefined"!=typeof process&&process.env&&process.env.DEBUG)&&g.enable("undefined"!=typeof globalThis&&globalThis.DEBUG||"undefined"!=typeof process&&process.env&&process.env.DEBUG||void 0),r.PrismaClient=l(k),Object.assign(r,x)},7565,(e,t,r)=>{t.exports={...e.r(97391)}},3466,(e,t,r)=>{t.exports={...e.r(7565)}},14216,(e,t,r)=>{e.n(__import_unsupported("path"))},29838,(e,t,r)=>{e.n(__import_unsupported("fs"))},63264,(e,t,r)=>{e.n(__import_unsupported("os"))},34713,(e,t,r)=>{var n=e.r(29838),i=e.r(14216),a=e.r(63264),o="function"==typeof __webpack_require__?__non_webpack_require__:e.t,s=process.config&&process.config.variables||{},l=!!process.env.PREBUILDS_ONLY,c=process.versions.modules,u=process.versions&&process.versions.electron||process.env.ELECTRON_RUN_AS_NODE?"electron":process.versions&&process.versions.nw?"node-webkit":"node",d=process.env.npm_config_arch||a.arch(),p=process.env.npm_config_platform||a.platform(),h=process.env.LIBC||("linux"===p&&n.existsSync("/etc/alpine-release")?"musl":"glibc"),f=process.env.ARM_VERSION||("arm64"===d?"8":s.arm_version)||"",g=(process.versions.uv||"").split(".")[0];function m(e){return o(m.resolve(e))}function y(e){try{return n.readdirSync(e)}catch(e){return[]}}function b(e,t){var r=y(e).filter(t);return r[0]&&i.join(e,r[0])}function w(e){return/\.node$/.test(e)}function _(e){var t=e.split("-");if(2===t.length){var r=t[0],n=t[1].split("+");if(r&&n.length&&n.every(Boolean))return{name:e,platform:r,architectures:n}}}function v(e,t){return function(r){return null!=r&&r.platform===e&&r.architectures.includes(t)}}function E(e,t){return e.architectures.length-t.architectures.length}function S(e){var t=e.split("."),r=t.pop(),n={file:e,specificity:0};if("node"===r){for(var i=0;i<t.length;i++){var a=t[i];if("node"===a||"electron"===a||"node-webkit"===a)n.runtime=a;else if("napi"===a)n.napi=!0;else if("abi"===a.slice(0,3))n.abi=a.slice(3);else if("uv"===a.slice(0,2))n.uv=a.slice(2);else if("armv"===a.slice(0,4))n.armv=a.slice(4);else{if("glibc"!==a&&"musl"!==a)continue;n.libc=a}n.specificity++}return n}}function x(e,t){return function(r){var n;return null!=r&&(!r.runtime||r.runtime===e||!!("node"===(n=r).runtime&&n.napi))&&(!r.abi||r.abi===t||!!r.napi)&&(!r.uv||r.uv===g)&&(!r.armv||r.armv===f)&&(!r.libc||r.libc===h)&&!0}}function k(e){return function(t,r){return t.runtime!==r.runtime?t.runtime===e?-1:1:t.abi!==r.abi?t.abi?-1:1:t.specificity!==r.specificity?t.specificity>r.specificity?-1:1:0}}t.exports=m,m.resolve=m.path=function(e){e=i.resolve(e||".");try{var t=o(i.join(e,"package.json")).name.toUpperCase().replace(/-/g,"_");process.env[t+"_PREBUILD"]&&(e=process.env[t+"_PREBUILD"])}catch(e){}if(!l){var r=b(i.join(e,"build/Release"),w);if(r)return r;var n=b(i.join(e,"build/Debug"),w);if(n)return n}var a=m(e);if(a)return a;var s=m(i.dirname(process.execPath));if(s)return s;throw Error("No native build was found for "+["platform="+p,"arch="+d,"runtime="+u,"abi="+c,"uv="+g,f?"armv="+f:"","libc="+h,"node="+process.versions.node,process.versions.electron?"electron="+process.versions.electron:"","function"==typeof __webpack_require__?"webpack=true":""].filter(Boolean).join(" ")+"\n    loaded from: "+e+"\n");function m(e){var t=y(i.join(e,"prebuilds")).map(_).filter(v(p,d)).sort(E)[0];if(t){var r=i.join(e,"prebuilds",t.name),n=y(r).map(S).filter(x(u,c)).sort(k(u))[0];if(n)return i.join(r,n.file)}}},m.parseTags=S,m.matchTags=x,m.compareTags=k,m.parseTuple=_,m.matchTuple=v,m.compareTuples=E},45669,(e,t,r)=>{let n="function"==typeof __webpack_require__?__non_webpack_require__:e.t;"function"==typeof n.addon?t.exports=n.addon.bind(n):t.exports=e.r(34713)},90894,(e,t,r)=>{e.n(__import_unsupported("crypto"))},74241,(e,t,r)=>{let n=e.g.Promise;t.exports={promise:function(e,t,r){return(Array.isArray(r)||(r=Array.prototype.slice.call(r)),"function"!=typeof e)?n.reject(Error("fn must be a function")):new n((n,i)=>{r.push((e,t)=>{e?i(e):n(t)}),e.apply(t,r)})},reject:function(e){return n.reject(e)},use:function(e){n=e}}},31878,(e,t,r)=>{var n=e.i(51615);let i=e.r(14216),a=e.r(45669)(i.resolve("/ROOT/node_modules/bcrypt")),o=e.r(90894),s=e.r(74241);t.exports={genSaltSync:function(e,t){if(e){if("number"!=typeof e)throw Error("rounds must be a number")}else e=10;if(t){if("b"!==t&&"a"!==t)throw Error('minor must be either "a" or "b"')}else t="b";return a.gen_salt_sync(t,e,o.randomBytes(16))},genSalt:function e(t,r,n){let i;if("function"==typeof arguments[0]?(n=arguments[0],t=10,r="b"):"function"==typeof arguments[1]&&(n=arguments[1],r="b"),!n)return s.promise(e,this,[t,r]);if(t){if("number"!=typeof t)return i=Error("rounds must be a number"),process.nextTick(function(){n(i)})}else t=10;if(r){if("b"!==r&&"a"!==r)return i=Error('minor must be either "a" or "b"'),process.nextTick(function(){n(i)})}else r="b";o.randomBytes(16,function(e,i){e?n(e):a.gen_salt(r,t,i,n)})},hashSync:function(e,r){if(null==e||null==r)throw Error("data and salt arguments required");if(!("string"==typeof e||e instanceof n.Buffer)||"string"!=typeof r&&"number"!=typeof r)throw Error("data must be a string or Buffer and salt must either be a salt string or a number of rounds");return"number"==typeof r&&(r=t.exports.genSaltSync(r)),a.encrypt_sync(e,r)},hash:function e(r,i,o){let l;return"function"==typeof r?(l=Error("data must be a string or Buffer and salt must either be a salt string or a number of rounds"),process.nextTick(function(){r(l)})):"function"==typeof i?(l=Error("data must be a string or Buffer and salt must either be a salt string or a number of rounds"),process.nextTick(function(){i(l)})):o&&"function"!=typeof o?s.reject(Error("cb must be a function or null to return a Promise")):o?null==r||null==i?(l=Error("data and salt arguments required"),process.nextTick(function(){o(l)})):("string"==typeof r||r instanceof n.Buffer)&&("string"==typeof i||"number"==typeof i)?"number"==typeof i?t.exports.genSalt(i,function(e,t){return a.encrypt(r,t,o)}):a.encrypt(r,i,o):(l=Error("data must be a string or Buffer and salt must either be a salt string or a number of rounds"),process.nextTick(function(){o(l)})):s.promise(e,this,[r,i])},compareSync:function(e,t){if(null==e||null==t)throw Error("data and hash arguments required");if(!("string"==typeof e||e instanceof n.Buffer)||"string"!=typeof t)throw Error("data must be a string or Buffer and hash must be a string");return a.compare_sync(e,t)},compare:function e(t,r,i){let o;return"function"==typeof t?(o=Error("data and hash arguments required"),process.nextTick(function(){t(o)})):"function"==typeof r?(o=Error("data and hash arguments required"),process.nextTick(function(){r(o)})):i&&"function"!=typeof i?s.reject(Error("cb must be a function or null to return a Promise")):i?null==t||null==r?(o=Error("data and hash arguments required"),process.nextTick(function(){i(o)})):("string"==typeof t||t instanceof n.Buffer)&&"string"==typeof r?a.compare(t,r,i):(o=Error("data and hash must be strings"),process.nextTick(function(){i(o)})):s.promise(e,this,[t,r])},getRounds:function(e){if(null==e)throw Error("hash argument required");if("string"!=typeof e)throw Error("hash must be a string");return a.get_rounds(e)}}},58217,e=>{"use strict";let t,r,n,i,a,o,s;async function l(){return"_ENTRIES"in globalThis&&_ENTRIES.middleware_instrumentation&&await _ENTRIES.middleware_instrumentation}let c=null;async function u(){if("phase-production-build"===process.env.NEXT_PHASE)return;c||(c=l());let e=await c;if(null==e?void 0:e.register)try{await e.register()}catch(e){throw e.message=`An error occurred while loading instrumentation hook: ${e.message}`,e}}async function d(...e){let t=await l();try{var r;await (null==t||null==(r=t.onRequestError)?void 0:r.call(t,...e))}catch(e){console.error("Error in instrumentation.onRequestError:",e)}}let p=null;function h(){return p||(p=u()),p}function f(e){return`The edge runtime does not support Node.js '${e}' module.
Learn More: https://nextjs.org/docs/messages/node-module-in-edge-runtime`}process!==e.g.process&&(process.env=e.g.process.env,e.g.process=process);try{Object.defineProperty(globalThis,"__import_unsupported",{value:function(e){let t=new Proxy(function(){},{get(t,r){if("then"===r)return{};throw Object.defineProperty(Error(f(e)),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})},construct(){throw Object.defineProperty(Error(f(e)),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})},apply(r,n,i){if("function"==typeof i[0])return i[0](t);throw Object.defineProperty(Error(f(e)),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}});return new Proxy({},{get:()=>t})},enumerable:!1,configurable:!1})}catch{}h();class g extends Error{constructor({page:e}){super(`The middleware "${e}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class m extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}}class y extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}}let b="_N_T_",w={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",apiNode:"api-node",apiEdge:"api-edge",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",pagesDirBrowser:"pages-dir-browser",pagesDirEdge:"pages-dir-edge",pagesDirNode:"pages-dir-node"};function _(e){var t,r,n,i,a,o=[],s=0;function l(){for(;s<e.length&&/\s/.test(e.charAt(s));)s+=1;return s<e.length}for(;s<e.length;){for(t=s,a=!1;l();)if(","===(r=e.charAt(s))){for(n=s,s+=1,l(),i=s;s<e.length&&"="!==(r=e.charAt(s))&&";"!==r&&","!==r;)s+=1;s<e.length&&"="===e.charAt(s)?(a=!0,s=i,o.push(e.substring(t,n)),t=s):s=n+1}else s+=1;(!a||s>=e.length)&&o.push(e.substring(t,e.length))}return o}function v(e){let t={},r=[];if(e)for(let[n,i]of e.entries())"set-cookie"===n.toLowerCase()?(r.push(..._(i)),t[n]=1===r.length?r[0]:r):t[n]=i;return t}function E(e){try{return String(new URL(String(e)))}catch(t){throw Object.defineProperty(Error(`URL is malformed "${String(e)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:t}),"__NEXT_ERROR_CODE",{value:"E61",enumerable:!1,configurable:!0})}}({...w,GROUP:{builtinReact:[w.reactServerComponents,w.actionBrowser],serverOnly:[w.reactServerComponents,w.actionBrowser,w.instrument,w.middleware],neutralTarget:[w.apiNode,w.apiEdge],clientOnly:[w.serverSideRendering,w.appPagesBrowser],bundled:[w.reactServerComponents,w.actionBrowser,w.serverSideRendering,w.appPagesBrowser,w.shared,w.instrument,w.middleware],appPages:[w.reactServerComponents,w.serverSideRendering,w.appPagesBrowser,w.actionBrowser]}});let S=Symbol("response"),x=Symbol("passThrough"),k=Symbol("waitUntil");class P{constructor(e,t){this[x]=!1,this[k]=t?{kind:"external",function:t}:{kind:"internal",promises:[]}}respondWith(e){this[S]||(this[S]=Promise.resolve(e))}passThroughOnException(){this[x]=!0}waitUntil(e){if("external"===this[k].kind)return(0,this[k].function)(e);this[k].promises.push(e)}}class A extends P{constructor(e){var t;super(e.request,null==(t=e.context)?void 0:t.waitUntil),this.sourcePage=e.page}get request(){throw Object.defineProperty(new g({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}respondWith(){throw Object.defineProperty(new g({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}}function R(e){return e.replace(/\/$/,"")||"/"}function T(e){let t=e.indexOf("#"),r=e.indexOf("?"),n=r>-1&&(t<0||r<t);return n||t>-1?{pathname:e.substring(0,n?r:t),query:n?e.substring(r,t>-1?t:void 0):"",hash:t>-1?e.slice(t):""}:{pathname:e,query:"",hash:""}}function O(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:n,hash:i}=T(e);return`${t}${r}${n}${i}`}function C(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:n,hash:i}=T(e);return`${r}${t}${n}${i}`}function N(e,t){if("string"!=typeof e)return!1;let{pathname:r}=T(e);return r===t||r.startsWith(t+"/")}let I=new WeakMap;function $(e,t){let r;if(!t)return{pathname:e};let n=I.get(t);n||(n=t.map(e=>e.toLowerCase()),I.set(t,n));let i=e.split("/",2);if(!i[1])return{pathname:e};let a=i[1].toLowerCase(),o=n.indexOf(a);return o<0?{pathname:e}:(r=t[o],{pathname:e=e.slice(r.length+1)||"/",detectedLocale:r})}let U=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function D(e,t){return new URL(String(e).replace(U,"localhost"),t&&String(t).replace(U,"localhost"))}let j=Symbol("NextURLInternal");class M{constructor(e,t,r){let n,i;"object"==typeof t&&"pathname"in t||"string"==typeof t?(n=t,i=r||{}):i=r||t||{},this[j]={url:D(e,n??i.base),options:i,basePath:""},this.analyze()}analyze(){var e,t,r,n,i;let a=function(e,t){let{basePath:r,i18n:n,trailingSlash:i}=t.nextConfig??{},a={pathname:e,trailingSlash:"/"!==e?e.endsWith("/"):i};r&&N(a.pathname,r)&&(a.pathname=function(e,t){if(!N(e,t))return e;let r=e.slice(t.length);return r.startsWith("/")?r:`/${r}`}(a.pathname,r),a.basePath=r);let o=a.pathname;if(a.pathname.startsWith("/_next/data/")&&a.pathname.endsWith(".json")){let e=a.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/");a.buildId=e[0],o="index"!==e[1]?`/${e.slice(1).join("/")}`:"/",!0===t.parseData&&(a.pathname=o)}if(n){let e=t.i18nProvider?t.i18nProvider.analyze(a.pathname):$(a.pathname,n.locales);a.locale=e.detectedLocale,a.pathname=e.pathname??a.pathname,!e.detectedLocale&&a.buildId&&(e=t.i18nProvider?t.i18nProvider.analyze(o):$(o,n.locales)).detectedLocale&&(a.locale=e.detectedLocale)}return a}(this[j].url.pathname,{nextConfig:this[j].options.nextConfig,parseData:!0,i18nProvider:this[j].options.i18nProvider}),o=function(e,t){let r;if(t?.host&&!Array.isArray(t.host))r=t.host.toString().split(":",1)[0];else{if(!e.hostname)return;r=e.hostname}return r.toLowerCase()}(this[j].url,this[j].options.headers);this[j].domainLocale=this[j].options.i18nProvider?this[j].options.i18nProvider.detectDomainLocale(o):function(e,t,r){if(e){for(let n of(r&&(r=r.toLowerCase()),e))if(t===n.domain?.split(":",1)[0].toLowerCase()||r===n.defaultLocale.toLowerCase()||n.locales?.some(e=>e.toLowerCase()===r))return n}}(null==(t=this[j].options.nextConfig)||null==(e=t.i18n)?void 0:e.domains,o);let s=(null==(r=this[j].domainLocale)?void 0:r.defaultLocale)||(null==(i=this[j].options.nextConfig)||null==(n=i.i18n)?void 0:n.defaultLocale);this[j].url.pathname=a.pathname,this[j].defaultLocale=s,this[j].basePath=a.basePath??"",this[j].buildId=a.buildId,this[j].locale=a.locale??s,this[j].trailingSlash=a.trailingSlash}formatPathname(){var e;let t;return t=function(e,t,r,n){if(!t||t===r)return e;let i=e.toLowerCase();return!n&&(N(i,"/api")||N(i,`/${t.toLowerCase()}`))?e:O(e,`/${t}`)}((e={basePath:this[j].basePath,buildId:this[j].buildId,defaultLocale:this[j].options.forceLocale?void 0:this[j].defaultLocale,locale:this[j].locale,pathname:this[j].url.pathname,trailingSlash:this[j].trailingSlash}).pathname,e.locale,e.buildId?void 0:e.defaultLocale,e.ignorePrefix),(e.buildId||!e.trailingSlash)&&(t=R(t)),e.buildId&&(t=C(O(t,`/_next/data/${e.buildId}`),"/"===e.pathname?"index.json":".json")),t=O(t,e.basePath),!e.buildId&&e.trailingSlash?t.endsWith("/")?t:C(t,"/"):R(t)}formatSearch(){return this[j].url.search}get buildId(){return this[j].buildId}set buildId(e){this[j].buildId=e}get locale(){return this[j].locale??""}set locale(e){var t,r;if(!this[j].locale||!(null==(r=this[j].options.nextConfig)||null==(t=r.i18n)?void 0:t.locales.includes(e)))throw Object.defineProperty(TypeError(`The NextURL configuration includes no locale "${e}"`),"__NEXT_ERROR_CODE",{value:"E597",enumerable:!1,configurable:!0});this[j].locale=e}get defaultLocale(){return this[j].defaultLocale}get domainLocale(){return this[j].domainLocale}get searchParams(){return this[j].url.searchParams}get host(){return this[j].url.host}set host(e){this[j].url.host=e}get hostname(){return this[j].url.hostname}set hostname(e){this[j].url.hostname=e}get port(){return this[j].url.port}set port(e){this[j].url.port=e}get protocol(){return this[j].url.protocol}set protocol(e){this[j].url.protocol=e}get href(){let e=this.formatPathname(),t=this.formatSearch();return`${this.protocol}//${this.host}${e}${t}${this.hash}`}set href(e){this[j].url=D(e),this.analyze()}get origin(){return this[j].url.origin}get pathname(){return this[j].url.pathname}set pathname(e){this[j].url.pathname=e}get hash(){return this[j].url.hash}set hash(e){this[j].url.hash=e}get search(){return this[j].url.search}set search(e){this[j].url.search=e}get password(){return this[j].url.password}set password(e){this[j].url.password=e}get username(){return this[j].url.username}set username(e){this[j].url.username=e}get basePath(){return this[j].basePath}set basePath(e){this[j].basePath=e.startsWith("/")?e:`/${e}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new M(String(this),this[j].options)}}var L=e.i(28042);let q=Symbol("internal request");class H extends Request{constructor(e,t={}){const r="string"!=typeof e&&"url"in e?e.url:String(e);E(r),e instanceof Request?super(e,t):super(r,t);const n=new M(r,{headers:v(this.headers),nextConfig:t.nextConfig});this[q]={cookies:new L.RequestCookies(this.headers),nextUrl:n,url:n.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[q].cookies}get nextUrl(){return this[q].nextUrl}get page(){throw new m}get ua(){throw new y}get url(){return this[q].url}}class F{static get(e,t,r){let n=Reflect.get(e,t,r);return"function"==typeof n?n.bind(e):n}static set(e,t,r,n){return Reflect.set(e,t,r,n)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}let V=Symbol("internal response"),B=new Set([301,302,303,307,308]);function W(e,t){var r;if(null==e||null==(r=e.request)?void 0:r.headers){if(!(e.request.headers instanceof Headers))throw Object.defineProperty(Error("request.headers must be an instance of Headers"),"__NEXT_ERROR_CODE",{value:"E119",enumerable:!1,configurable:!0});let r=[];for(let[n,i]of e.request.headers)t.set("x-middleware-request-"+n,i),r.push(n);t.set("x-middleware-override-headers",r.join(","))}}class K extends Response{constructor(e,t={}){super(e,t);const r=this.headers,n=new Proxy(new L.ResponseCookies(r),{get(e,n,i){switch(n){case"delete":case"set":return(...i)=>{let a=Reflect.apply(e[n],e,i),o=new Headers(r);return a instanceof L.ResponseCookies&&r.set("x-middleware-set-cookie",a.getAll().map(e=>(0,L.stringifyCookie)(e)).join(",")),W(t,o),a};default:return F.get(e,n,i)}}});this[V]={cookies:n,url:t.url?new M(t.url,{headers:v(r),nextConfig:t.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[V].cookies}static json(e,t){let r=Response.json(e,t);return new K(r.body,r)}static redirect(e,t){let r="number"==typeof t?t:(null==t?void 0:t.status)??307;if(!B.has(r))throw Object.defineProperty(RangeError('Failed to execute "redirect" on "response": Invalid status code'),"__NEXT_ERROR_CODE",{value:"E529",enumerable:!1,configurable:!0});let n="object"==typeof t?t:{},i=new Headers(null==n?void 0:n.headers);return i.set("Location",E(e)),new K(null,{...n,headers:i,status:r})}static rewrite(e,t){let r=new Headers(null==t?void 0:t.headers);return r.set("x-middleware-rewrite",E(e)),W(t,r),new K(null,{...t,headers:r})}static next(e){let t=new Headers(null==e?void 0:e.headers);return t.set("x-middleware-next","1"),W(e,t),new K(null,{...e,headers:t})}}function J(e,t){let r="string"==typeof t?new URL(t):t,n=new URL(e,t),i=n.origin===r.origin;return{url:i?n.toString().slice(r.origin.length):n.toString(),isRelative:i}}var z=e.i(24628);z.NEXT_RSC_UNION_QUERY;class G extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new G}}class X extends Headers{constructor(e){super(),this.headers=new Proxy(e,{get(t,r,n){if("symbol"==typeof r)return F.get(t,r,n);let i=r.toLowerCase(),a=Object.keys(e).find(e=>e.toLowerCase()===i);if(void 0!==a)return F.get(t,a,n)},set(t,r,n,i){if("symbol"==typeof r)return F.set(t,r,n,i);let a=r.toLowerCase(),o=Object.keys(e).find(e=>e.toLowerCase()===a);return F.set(t,o??r,n,i)},has(t,r){if("symbol"==typeof r)return F.has(t,r);let n=r.toLowerCase(),i=Object.keys(e).find(e=>e.toLowerCase()===n);return void 0!==i&&F.has(t,i)},deleteProperty(t,r){if("symbol"==typeof r)return F.deleteProperty(t,r);let n=r.toLowerCase(),i=Object.keys(e).find(e=>e.toLowerCase()===n);return void 0===i||F.deleteProperty(t,i)}})}static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"append":case"delete":case"set":return G.callable;default:return F.get(e,t,r)}}})}merge(e){return Array.isArray(e)?e.join(", "):e}static from(e){return e instanceof Headers?e:new X(e)}append(e,t){let r=this.headers[e];"string"==typeof r?this.headers[e]=[r,t]:Array.isArray(r)?r.push(t):this.headers[e]=t}delete(e){delete this.headers[e]}get(e){let t=this.headers[e];return void 0!==t?this.merge(t):null}has(e){return void 0!==this.headers[e]}set(e,t){this.headers[e]=t}forEach(e,t){for(let[r,n]of this.entries())e.call(t,n,r,this)}*entries(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase(),r=this.get(t);yield[t,r]}}*keys(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase();yield t}}*values(){for(let e of Object.keys(this.headers)){let t=this.get(e);yield t}}[Symbol.iterator](){return this.entries()}}e.i(7754);var Q=e.i(90460);class Y extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#options")}static callable(){throw new Y}}class Z{static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"clear":case"delete":case"set":return Y.callable;default:return F.get(e,t,r)}}})}}let ee=Symbol.for("next.mutated.cookies");class et{static wrap(e,t){let r=new L.ResponseCookies(new Headers);for(let t of e.getAll())r.set(t);let n=[],i=new Set,a=()=>{let e=Q.workAsyncStorage.getStore();if(e&&(e.pathWasRevalidated=!0),n=r.getAll().filter(e=>i.has(e.name)),t){let e=[];for(let t of n){let r=new L.ResponseCookies(new Headers);r.set(t),e.push(r.toString())}t(e)}},o=new Proxy(r,{get(e,t,r){switch(t){case ee:return n;case"delete":return function(...t){i.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.delete(...t),o}finally{a()}};case"set":return function(...t){i.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.set(...t),o}finally{a()}};default:return F.get(e,t,r)}}});return o}}function er(e){return"action"===e.phase}function en(e,t){if(!er(e))throw new Y}var ei=((nY=ei||{}).handleRequest="BaseServer.handleRequest",nY.run="BaseServer.run",nY.pipe="BaseServer.pipe",nY.getStaticHTML="BaseServer.getStaticHTML",nY.render="BaseServer.render",nY.renderToResponseWithComponents="BaseServer.renderToResponseWithComponents",nY.renderToResponse="BaseServer.renderToResponse",nY.renderToHTML="BaseServer.renderToHTML",nY.renderError="BaseServer.renderError",nY.renderErrorToResponse="BaseServer.renderErrorToResponse",nY.renderErrorToHTML="BaseServer.renderErrorToHTML",nY.render404="BaseServer.render404",nY),ea=((nZ=ea||{}).loadDefaultErrorComponents="LoadComponents.loadDefaultErrorComponents",nZ.loadComponents="LoadComponents.loadComponents",nZ),eo=((n0=eo||{}).getRequestHandler="NextServer.getRequestHandler",n0.getRequestHandlerWithMetadata="NextServer.getRequestHandlerWithMetadata",n0.getServer="NextServer.getServer",n0.getServerRequestHandler="NextServer.getServerRequestHandler",n0.createServer="createServer.createServer",n0),es=((n1=es||{}).compression="NextNodeServer.compression",n1.getBuildId="NextNodeServer.getBuildId",n1.createComponentTree="NextNodeServer.createComponentTree",n1.clientComponentLoading="NextNodeServer.clientComponentLoading",n1.getLayoutOrPageModule="NextNodeServer.getLayoutOrPageModule",n1.generateStaticRoutes="NextNodeServer.generateStaticRoutes",n1.generateFsStaticRoutes="NextNodeServer.generateFsStaticRoutes",n1.generatePublicRoutes="NextNodeServer.generatePublicRoutes",n1.generateImageRoutes="NextNodeServer.generateImageRoutes.route",n1.sendRenderResult="NextNodeServer.sendRenderResult",n1.proxyRequest="NextNodeServer.proxyRequest",n1.runApi="NextNodeServer.runApi",n1.render="NextNodeServer.render",n1.renderHTML="NextNodeServer.renderHTML",n1.imageOptimizer="NextNodeServer.imageOptimizer",n1.getPagePath="NextNodeServer.getPagePath",n1.getRoutesManifest="NextNodeServer.getRoutesManifest",n1.findPageComponents="NextNodeServer.findPageComponents",n1.getFontManifest="NextNodeServer.getFontManifest",n1.getServerComponentManifest="NextNodeServer.getServerComponentManifest",n1.getRequestHandler="NextNodeServer.getRequestHandler",n1.renderToHTML="NextNodeServer.renderToHTML",n1.renderError="NextNodeServer.renderError",n1.renderErrorToHTML="NextNodeServer.renderErrorToHTML",n1.render404="NextNodeServer.render404",n1.startResponse="NextNodeServer.startResponse",n1.route="route",n1.onProxyReq="onProxyReq",n1.apiResolver="apiResolver",n1.internalFetch="internalFetch",n1),el=((n2=el||{}).startServer="startServer.startServer",n2),ec=((n6=ec||{}).getServerSideProps="Render.getServerSideProps",n6.getStaticProps="Render.getStaticProps",n6.renderToString="Render.renderToString",n6.renderDocument="Render.renderDocument",n6.createBodyResult="Render.createBodyResult",n6),eu=((n5=eu||{}).renderToString="AppRender.renderToString",n5.renderToReadableStream="AppRender.renderToReadableStream",n5.getBodyResult="AppRender.getBodyResult",n5.fetch="AppRender.fetch",n5),ed=((n3=ed||{}).executeRoute="Router.executeRoute",n3),ep=((n8=ep||{}).runHandler="Node.runHandler",n8),eh=((n4=eh||{}).runHandler="AppRouteRouteHandlers.runHandler",n4),ef=((n9=ef||{}).generateMetadata="ResolveMetadata.generateMetadata",n9.generateViewport="ResolveMetadata.generateViewport",n9),eg=((n7=eg||{}).execute="Middleware.execute",n7);let em=["Middleware.execute","BaseServer.handleRequest","Render.getServerSideProps","Render.getStaticProps","AppRender.fetch","AppRender.getBodyResult","Render.renderDocument","Node.runHandler","AppRouteRouteHandlers.runHandler","ResolveMetadata.generateMetadata","ResolveMetadata.generateViewport","NextNodeServer.createComponentTree","NextNodeServer.findPageComponents","NextNodeServer.getLayoutOrPageModule","NextNodeServer.startResponse","NextNodeServer.clientComponentLoading"],ey=["NextNodeServer.findPageComponents","NextNodeServer.createComponentTree","NextNodeServer.clientComponentLoading"];function eb(e){return null!==e&&"object"==typeof e&&"then"in e&&"function"==typeof e.then}let{context:ew,propagation:e_,trace:ev,SpanStatusCode:eE,SpanKind:eS,ROOT_CONTEXT:ex}=t=e.r(59110);class ek extends Error{constructor(e,t){super(),this.bubble=e,this.result=t}}let eP=(e,t)=>{"object"==typeof t&&null!==t&&t instanceof ek&&t.bubble?e.setAttribute("next.bubble",!0):(t&&(e.recordException(t),e.setAttribute("error.type",t.name)),e.setStatus({code:eE.ERROR,message:null==t?void 0:t.message})),e.end()},eA=new Map,eR=t.createContextKey("next.rootSpanId"),eT=0,eO={set(e,t,r){e.push({key:t,value:r})}},eC=(o=new class e{getTracerInstance(){return ev.getTracer("next.js","0.0.1")}getContext(){return ew}getTracePropagationData(){let e=ew.active(),t=[];return e_.inject(e,t,eO),t}getActiveScopeSpan(){return ev.getSpan(null==ew?void 0:ew.active())}withPropagatedContext(e,t,r){let n=ew.active();if(ev.getSpanContext(n))return t();let i=e_.extract(n,e,r);return ew.with(i,t)}trace(...e){var t;let[r,n,i]=e,{fn:a,options:o}="function"==typeof n?{fn:n,options:{}}:{fn:i,options:{...n}},s=o.spanName??r;if(!em.includes(r)&&"1"!==process.env.NEXT_OTEL_VERBOSE||o.hideSpan)return a();let l=this.getSpanContext((null==o?void 0:o.parentSpan)??this.getActiveScopeSpan()),c=!1;l?(null==(t=ev.getSpanContext(l))?void 0:t.isRemote)&&(c=!0):(l=(null==ew?void 0:ew.active())??ex,c=!0);let u=eT++;return o.attributes={"next.span_name":s,"next.span_type":r,...o.attributes},ew.with(l.setValue(eR,u),()=>this.getTracerInstance().startActiveSpan(s,o,e=>{let t="performance"in globalThis&&"measure"in performance?globalThis.performance.now():void 0,n=()=>{eA.delete(u),t&&process.env.NEXT_OTEL_PERFORMANCE_PREFIX&&ey.includes(r||"")&&performance.measure(`${process.env.NEXT_OTEL_PERFORMANCE_PREFIX}:next-${(r.split(".").pop()||"").replace(/[A-Z]/g,e=>"-"+e.toLowerCase())}`,{start:t,end:performance.now()})};c&&eA.set(u,new Map(Object.entries(o.attributes??{})));try{if(a.length>1)return a(e,t=>eP(e,t));let t=a(e);if(eb(t))return t.then(t=>(e.end(),t)).catch(t=>{throw eP(e,t),t}).finally(n);return e.end(),n(),t}catch(t){throw eP(e,t),n(),t}}))}wrap(...e){let t=this,[r,n,i]=3===e.length?e:[e[0],{},e[1]];return em.includes(r)||"1"===process.env.NEXT_OTEL_VERBOSE?function(){let e=n;"function"==typeof e&&"function"==typeof i&&(e=e.apply(this,arguments));let a=arguments.length-1,o=arguments[a];if("function"!=typeof o)return t.trace(r,e,()=>i.apply(this,arguments));{let n=t.getContext().bind(ew.active(),o);return t.trace(r,e,(e,t)=>(arguments[a]=function(e){return null==t||t(e),n.apply(this,arguments)},i.apply(this,arguments)))}}:i}startSpan(...e){let[t,r]=e,n=this.getSpanContext((null==r?void 0:r.parentSpan)??this.getActiveScopeSpan());return this.getTracerInstance().startSpan(t,r,n)}getSpanContext(e){return e?ev.setSpan(ew.active(),e):void 0}getRootSpanAttributes(){let e=ew.active().getValue(eR);return eA.get(e)}setRootSpanAttribute(e,t){let r=ew.active().getValue(eR),n=eA.get(r);n&&!n.has(e)&&n.set(e,t)}},()=>o),eN="__prerender_bypass";Symbol("__next_preview_data"),Symbol(eN);class eI{constructor(e,t,r,n){var i;const a=e&&function(e,t){let r=X.from(e.headers);return{isOnDemandRevalidate:r.get("x-prerender-revalidate")===t.previewModeId,revalidateOnlyGenerated:r.has("x-prerender-revalidate-if-generated")}}(t,e).isOnDemandRevalidate,o=null==(i=r.get(eN))?void 0:i.value;this._isEnabled=!!(!a&&o&&e&&o===e.previewModeId),this._previewModeId=null==e?void 0:e.previewModeId,this._mutableCookies=n}get isEnabled(){return this._isEnabled}enable(){if(!this._previewModeId)throw Object.defineProperty(Error("Invariant: previewProps missing previewModeId this should never happen"),"__NEXT_ERROR_CODE",{value:"E93",enumerable:!1,configurable:!0});this._mutableCookies.set({name:eN,value:this._previewModeId,httpOnly:!0,sameSite:"none",secure:!0,path:"/"}),this._isEnabled=!0}disable(){this._mutableCookies.set({name:eN,value:"",httpOnly:!0,sameSite:"none",secure:!0,path:"/",expires:new Date(0)}),this._isEnabled=!1}}function e$(e,t){if("x-middleware-set-cookie"in e.headers&&"string"==typeof e.headers["x-middleware-set-cookie"]){let r=e.headers["x-middleware-set-cookie"],n=new Headers;for(let e of _(r))n.append("set-cookie",e);for(let e of new L.ResponseCookies(n).getAll())t.set(e)}}var eU=e.i(53835),eD=e.i(82453),ej=e.i(99734),eM=e.i(25753),eL=e.i(51615);process.env.NEXT_PRIVATE_DEBUG_CACHE&&((e,...t)=>{console.log(`use-cache: ${e}`,...t)}),Symbol.for("@next/cache-handlers");let eq=Symbol.for("@next/cache-handlers-map"),eH=Symbol.for("@next/cache-handlers-set"),eF=globalThis;function eV(){if(eF[eq])return eF[eq].entries()}async function eB(e,t){if(!e)return t();let r=eW(e);try{return await t()}finally{var n,i;let t,a,o=(n=r,i=eW(e),t=new Set(n.pendingRevalidatedTags.map(e=>{let t="object"==typeof e.profile?JSON.stringify(e.profile):e.profile||"";return`${e.tag}:${t}`})),a=new Set(n.pendingRevalidateWrites),{pendingRevalidatedTags:i.pendingRevalidatedTags.filter(e=>{let r="object"==typeof e.profile?JSON.stringify(e.profile):e.profile||"";return!t.has(`${e.tag}:${r}`)}),pendingRevalidates:Object.fromEntries(Object.entries(i.pendingRevalidates).filter(([e])=>!(e in n.pendingRevalidates))),pendingRevalidateWrites:i.pendingRevalidateWrites.filter(e=>!a.has(e))});await eJ(e,o)}}function eW(e){return{pendingRevalidatedTags:e.pendingRevalidatedTags?[...e.pendingRevalidatedTags]:[],pendingRevalidates:{...e.pendingRevalidates},pendingRevalidateWrites:e.pendingRevalidateWrites?[...e.pendingRevalidateWrites]:[]}}async function eK(e,t,r){if(0===e.length)return;let n=function(){if(eF[eH])return eF[eH].values()}(),i=[],a=new Map;for(let t of e){let e,r=t.profile;for(let[t]of a)if("string"==typeof t&&"string"==typeof r&&t===r||"object"==typeof t&&"object"==typeof r&&JSON.stringify(t)===JSON.stringify(r)||t===r){e=t;break}let n=e||r;a.has(n)||a.set(n,[]),a.get(n).push(t.tag)}for(let[e,s]of a){let a;if(e){let t;if("object"==typeof e)t=e;else if("string"==typeof e){var o;if(!(t=null==r||null==(o=r.cacheLifeProfiles)?void 0:o[e]))throw Object.defineProperty(Error(`Invalid profile provided "${e}" must be configured under cacheLife in next.config or be "max"`),"__NEXT_ERROR_CODE",{value:"E873",enumerable:!1,configurable:!0})}t&&(a={expire:t.expire})}for(let t of n||[])e?i.push(null==t.updateTags?void 0:t.updateTags.call(t,s,a)):i.push(null==t.updateTags?void 0:t.updateTags.call(t,s));t&&i.push(t.revalidateTag(s,a))}await Promise.all(i)}async function eJ(e,t){let r=(null==t?void 0:t.pendingRevalidatedTags)??e.pendingRevalidatedTags??[],n=(null==t?void 0:t.pendingRevalidates)??e.pendingRevalidates??{},i=(null==t?void 0:t.pendingRevalidateWrites)??e.pendingRevalidateWrites??[];return Promise.all([eK(r,e.incrementalCache,e),...Object.values(n),...i])}var ez=e.i(90044);let eG=(0,ez.createAsyncLocalStorage)();class eX{constructor({waitUntil:e,onClose:t,onTaskError:r}){this.workUnitStores=new Set,this.waitUntil=e,this.onClose=t,this.onTaskError=r,this.callbackQueue=new ej.default,this.callbackQueue.pause()}after(e){if(eb(e))this.waitUntil||eQ(),this.waitUntil(e.catch(e=>this.reportTaskError("promise",e)));else if("function"==typeof e)this.addCallback(e);else throw Object.defineProperty(Error("`after()`: Argument must be a promise or a function"),"__NEXT_ERROR_CODE",{value:"E50",enumerable:!1,configurable:!0})}addCallback(e){this.waitUntil||eQ();let t=eD.workUnitAsyncStorage.getStore();t&&this.workUnitStores.add(t);let r=eG.getStore(),n=r?r.rootTaskSpawnPhase:null==t?void 0:t.phase;this.runCallbacksOnClosePromise||(this.runCallbacksOnClosePromise=this.runCallbacksOnClose(),this.waitUntil(this.runCallbacksOnClosePromise));let i=(0,ez.bindSnapshot)(async()=>{try{await eG.run({rootTaskSpawnPhase:n},()=>e())}catch(e){this.reportTaskError("function",e)}});this.callbackQueue.add(i)}async runCallbacksOnClose(){return await new Promise(e=>this.onClose(e)),this.runCallbacks()}async runCallbacks(){if(0===this.callbackQueue.size)return;for(let e of this.workUnitStores)e.phase="after";let e=Q.workAsyncStorage.getStore();if(!e)throw Object.defineProperty(new eM.InvariantError("Missing workStore in AfterContext.runCallbacks"),"__NEXT_ERROR_CODE",{value:"E547",enumerable:!1,configurable:!0});return eB(e,()=>(this.callbackQueue.start(),this.callbackQueue.onIdle()))}reportTaskError(e,t){if(console.error("promise"===e?"A promise passed to `after()` rejected:":"An error occurred in a function passed to `after()`:",t),this.onTaskError)try{null==this.onTaskError||this.onTaskError.call(this,t)}catch(e){console.error(Object.defineProperty(new eM.InvariantError("`onTaskError` threw while handling an error thrown from an `after` task",{cause:e}),"__NEXT_ERROR_CODE",{value:"E569",enumerable:!1,configurable:!0}))}}}function eQ(){throw Object.defineProperty(Error("`after()` will not work correctly, because `waitUntil` is not available in the current environment."),"__NEXT_ERROR_CODE",{value:"E91",enumerable:!1,configurable:!0})}function eY(e){let t,r={then:(n,i)=>(t||(t=e()),t.then(e=>{r.value=e}).catch(()=>{}),t.then(n,i))};return r}class eZ{onClose(e){if(this.isClosed)throw Object.defineProperty(Error("Cannot subscribe to a closed CloseController"),"__NEXT_ERROR_CODE",{value:"E365",enumerable:!1,configurable:!0});this.target.addEventListener("close",e),this.listeners++}dispatchClose(){if(this.isClosed)throw Object.defineProperty(Error("Cannot close a CloseController multiple times"),"__NEXT_ERROR_CODE",{value:"E229",enumerable:!1,configurable:!0});this.listeners>0&&this.target.dispatchEvent(new Event("close")),this.isClosed=!0}constructor(){this.target=new EventTarget,this.listeners=0,this.isClosed=!1}}function e0(){return{previewModeId:process.env.__NEXT_PREVIEW_MODE_ID||"",previewModeSigningKey:process.env.__NEXT_PREVIEW_MODE_SIGNING_KEY||"",previewModeEncryptionKey:process.env.__NEXT_PREVIEW_MODE_ENCRYPTION_KEY||""}}let e1=Symbol.for("@next/request-context");async function e2(e,t,r){let n=new Set;for(let t of(e=>{let t=["/layout"];if(e.startsWith("/")){let r=e.split("/");for(let e=1;e<r.length+1;e++){let n=r.slice(0,e).join("/");n&&(n.endsWith("/page")||n.endsWith("/route")||(n=`${n}${!n.endsWith("/")?"/":""}layout`),t.push(n))}}return t})(e))t=`${b}${t}`,n.add(t);if(t.pathname&&(!r||0===r.size)){let e=`${b}${t.pathname}`;n.add(e)}n.has(`${b}/`)&&n.add(`${b}/index`),n.has(`${b}/index`)&&n.add(`${b}/`);let i=Array.from(n);return{tags:i,expirationsByCacheKind:function(e){let t=new Map,r=eV();if(r)for(let[n,i]of r)"getExpiration"in i&&t.set(n,eY(async()=>i.getExpiration(e)));return t}(i)}}class e6 extends H{constructor(e){super(e.input,e.init),this.sourcePage=e.page}get request(){throw Object.defineProperty(new g({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}respondWith(){throw Object.defineProperty(new g({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}waitUntil(){throw Object.defineProperty(new g({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}}let e5={keys:e=>Array.from(e.keys()),get:(e,t)=>e.get(t)??void 0},e3=(e,t)=>eC().withPropagatedContext(e.headers,t,e5),e8=!1;async function e4(t){var r,n,i,a;let o,s,l,c,u;!function(){if(!e8&&(e8=!0,"true"===process.env.NEXT_PRIVATE_TEST_PROXY)){let{interceptTestApis:t,wrapRequestHandler:r}=e.r(94165);t(),e3=r(e3)}}(),await h();let d=void 0!==globalThis.__BUILD_MANIFEST;t.request.url=t.request.url.replace(/\.rsc($|\?)/,"$1");let p=t.bypassNextUrl?new URL(t.request.url):new M(t.request.url,{headers:t.request.headers,nextConfig:t.request.nextConfig});for(let e of[...p.searchParams.keys()]){let t=p.searchParams.getAll(e),r=function(e){for(let t of["nxtP","nxtI"])if(e!==t&&e.startsWith(t))return e.substring(t.length);return null}(e);if(r){for(let e of(p.searchParams.delete(r),t))p.searchParams.append(r,e);p.searchParams.delete(e)}}let f=process.env.__NEXT_BUILD_ID||"";"buildId"in p&&(f=p.buildId||"",p.buildId="");let g=function(e){let t=new Headers;for(let[r,n]of Object.entries(e))for(let e of Array.isArray(n)?n:[n])void 0!==e&&("number"==typeof e&&(e=e.toString()),t.append(r,e));return t}(t.request.headers),m=g.has("x-nextjs-data"),y="1"===g.get(z.RSC_HEADER);m&&"/index"===p.pathname&&(p.pathname="/");let b=new Map;if(!d)for(let e of z.FLIGHT_HEADERS){let t=g.get(e);null!==t&&(b.set(e,t),g.delete(e))}let w=p.searchParams.get(z.NEXT_RSC_UNION_QUERY),_=new e6({page:t.page,input:((c=(l="string"==typeof p)?new URL(p):p).searchParams.delete(z.NEXT_RSC_UNION_QUERY),l?c.toString():c).toString(),init:{body:t.request.body,headers:g,method:t.request.method,nextConfig:t.request.nextConfig,signal:t.request.signal}});m&&Object.defineProperty(_,"__isData",{enumerable:!1,value:!0}),!globalThis.__incrementalCacheShared&&t.IncrementalCache&&(globalThis.__incrementalCache=new t.IncrementalCache({CurCacheHandler:t.incrementalCacheHandler,minimalMode:!0,fetchCacheKeyPrefix:"",dev:!1,requestHeaders:t.request.headers,getPrerenderManifest:()=>({version:-1,routes:{},dynamicRoutes:{},notFoundRoutes:[],preview:e0()})}));let v=t.request.waitUntil??(null==(r=null==(u=globalThis[e1])?void 0:u.get())?void 0:r.waitUntil),E=new A({request:_,page:t.page,context:v?{waitUntil:v}:void 0});if((o=await e3(_,()=>{if("/middleware"===t.page||"/src/middleware"===t.page||"/proxy"===t.page||"/src/proxy"===t.page){let e=E.waitUntil.bind(E),r=new eZ;return eC().trace(eg.execute,{spanName:`middleware ${_.method}`,attributes:{"http.target":_.nextUrl.pathname,"http.method":_.method}},async()=>{try{var n,i,a,o,l,c;let u=e0(),d=await e2("/",_.nextUrl,null),p=(l=_.nextUrl,c=e=>{s=e},function(e,t,r,n,i,a,o,s,l,c,u,d){function p(e){r&&r.setHeader("Set-Cookie",e)}let h={};return{type:"request",phase:e,implicitTags:a,url:{pathname:n.pathname,search:n.search??""},rootParams:i,get headers(){return h.headers||(h.headers=function(e){let t=X.from(e);for(let e of z.FLIGHT_HEADERS)t.delete(e);return X.seal(t)}(t.headers)),h.headers},get cookies(){if(!h.cookies){let e=new L.RequestCookies(X.from(t.headers));e$(t,e),h.cookies=Z.seal(e)}return h.cookies},set cookies(value){h.cookies=value},get mutableCookies(){if(!h.mutableCookies){var f,g;let e,n=(f=t.headers,g=o||(r?p:void 0),e=new L.RequestCookies(X.from(f)),et.wrap(e,g));e$(t,n),h.mutableCookies=n}return h.mutableCookies},get userspaceMutableCookies(){if(!h.userspaceMutableCookies){var m;let e;m=this,h.userspaceMutableCookies=e=new Proxy(m.mutableCookies,{get(t,r,n){switch(r){case"delete":return function(...r){return en(m,"cookies().delete"),t.delete(...r),e};case"set":return function(...r){return en(m,"cookies().set"),t.set(...r),e};default:return F.get(t,r,n)}}})}return h.userspaceMutableCookies},get draftMode(){return h.draftMode||(h.draftMode=new eI(l,t,this.cookies,this.mutableCookies)),h.draftMode},renderResumeDataCache:null,isHmrRefresh:c,serverComponentsHmrCache:u||globalThis.__serverComponentsHmrCache,devFallbackParams:null}}("action",_,void 0,l,{},d,c,null,u,!1,void 0,null)),h=function({page:e,renderOpts:t,isPrefetchRequest:r,buildId:n,previouslyRevalidatedTags:i,nonce:a}){var o;let s=!t.shouldWaitOnAllReady&&!t.supportsDynamicResponse&&!t.isDraftMode&&!t.isPossibleServerAction,l=t.dev??!1,c=l||s&&(!!process.env.NEXT_DEBUG_BUILD||"1"===process.env.NEXT_SSG_FETCH_METRICS),u={isStaticGeneration:s,page:e,route:(o=e.split("/").reduce((e,t,r,n)=>t?"("===t[0]&&t.endsWith(")")||"@"===t[0]||("page"===t||"route"===t)&&r===n.length-1?e:`${e}/${t}`:e,"")).startsWith("/")?o:`/${o}`,incrementalCache:t.incrementalCache||globalThis.__incrementalCache,cacheLifeProfiles:t.cacheLifeProfiles,isBuildTimePrerendering:t.nextExport,hasReadableErrorStacks:t.hasReadableErrorStacks,fetchCache:t.fetchCache,isOnDemandRevalidate:t.isOnDemandRevalidate,isDraftMode:t.isDraftMode,isPrefetchRequest:r,buildId:n,reactLoadableManifest:(null==t?void 0:t.reactLoadableManifest)||{},assetPrefix:(null==t?void 0:t.assetPrefix)||"",nonce:a,afterContext:function(e){let{waitUntil:t,onClose:r,onAfterTaskError:n}=e;return new eX({waitUntil:t,onClose:r,onTaskError:n})}(t),cacheComponentsEnabled:t.cacheComponents,dev:l,previouslyRevalidatedTags:i,refreshTagsByCacheKind:function(){let e=new Map,t=eV();if(t)for(let[r,n]of t)"refreshTags"in n&&e.set(r,eY(async()=>n.refreshTags()));return e}(),runInCleanSnapshot:(0,ez.createSnapshot)(),shouldTrackFetchMetrics:c};return t.store=u,u}({page:"/",renderOpts:{cacheLifeProfiles:null==(i=t.request.nextConfig)||null==(n=i.experimental)?void 0:n.cacheLife,cacheComponents:!1,experimental:{isRoutePPREnabled:!1,authInterrupts:!!(null==(o=t.request.nextConfig)||null==(a=o.experimental)?void 0:a.authInterrupts)},supportsDynamicResponse:!0,waitUntil:e,onClose:r.onClose.bind(r),onAfterTaskError:void 0},isPrefetchRequest:"1"===_.headers.get(z.NEXT_ROUTER_PREFETCH_HEADER),buildId:f??"",previouslyRevalidatedTags:[]});return await Q.workAsyncStorage.run(h,()=>eD.workUnitAsyncStorage.run(p,t.handler,_,E))}finally{setTimeout(()=>{r.dispatchClose()},0)}})}return t.handler(_,E)}))&&!(o instanceof Response))throw Object.defineProperty(TypeError("Expected an instance of Response to be returned"),"__NEXT_ERROR_CODE",{value:"E567",enumerable:!1,configurable:!0});o&&s&&o.headers.set("set-cookie",s);let S=null==o?void 0:o.headers.get("x-middleware-rewrite");if(o&&S&&(y||!d)){let e=new M(S,{forceLocale:!0,headers:t.request.headers,nextConfig:t.request.nextConfig});d||e.host!==_.nextUrl.host||(e.buildId=f||e.buildId,o.headers.set("x-middleware-rewrite",String(e)));let{url:r,isRelative:s}=J(e.toString(),p.toString());!d&&m&&o.headers.set("x-nextjs-rewrite",r);let l=!s&&(null==(a=t.request.nextConfig)||null==(i=a.experimental)||null==(n=i.clientParamParsingOrigins)?void 0:n.some(t=>new RegExp(t).test(e.origin)));y&&(s||l)&&(p.pathname!==e.pathname&&o.headers.set(z.NEXT_REWRITTEN_PATH_HEADER,e.pathname),p.search!==e.search&&o.headers.set(z.NEXT_REWRITTEN_QUERY_HEADER,e.search.slice(1)))}if(o&&S&&y&&w){let e=new URL(S);e.searchParams.has(z.NEXT_RSC_UNION_QUERY)||(e.searchParams.set(z.NEXT_RSC_UNION_QUERY,w),o.headers.set("x-middleware-rewrite",e.toString()))}let x=null==o?void 0:o.headers.get("Location");if(o&&x&&!d){let e=new M(x,{forceLocale:!1,headers:t.request.headers,nextConfig:t.request.nextConfig});o=new Response(o.body,o),e.host===p.host&&(e.buildId=f||e.buildId,o.headers.set("Location",e.toString())),m&&(o.headers.delete("Location"),o.headers.set("x-nextjs-redirect",J(e.toString(),p.toString()).url))}let P=o||K.next(),R=P.headers.get("x-middleware-override-headers"),T=[];if(R){for(let[e,t]of b)P.headers.set(`x-middleware-request-${e}`,t),T.push(e);T.length>0&&P.headers.set("x-middleware-override-headers",R+","+T.join(","))}return{response:P,waitUntil:("internal"===E[k].kind?Promise.all(E[k].promises).then(()=>{}):void 0)??Promise.resolve(),fetchMetrics:_.fetchMetrics}}var e9=function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},e7=function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};function te(e){let t=e?"__Secure-":"";return{sessionToken:{name:`${t}authjs.session-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},callbackUrl:{name:`${t}authjs.callback-url`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},csrfToken:{name:`${e?"__Host-":""}authjs.csrf-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},pkceCodeVerifier:{name:`${t}authjs.pkce.code_verifier`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}},state:{name:`${t}authjs.state`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}},nonce:{name:`${t}authjs.nonce`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},webauthnChallenge:{name:`${t}authjs.challenge`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}}}}class tt{constructor(e,t,r){if(ie.add(this),it.set(this,{}),ir.set(this,void 0),ii.set(this,void 0),e9(this,ii,r,"f"),e9(this,ir,e,"f"),!t)return;const{name:n}=e;for(const[e,r]of Object.entries(t))e.startsWith(n)&&r&&(e7(this,it,"f")[e]=r)}get value(){return Object.keys(e7(this,it,"f")).sort((e,t)=>parseInt(e.split(".").pop()||"0")-parseInt(t.split(".").pop()||"0")).map(e=>e7(this,it,"f")[e]).join("")}chunk(e,t){let r=e7(this,ie,"m",io).call(this);for(let n of e7(this,ie,"m",ia).call(this,{name:e7(this,ir,"f").name,value:e,options:{...e7(this,ir,"f").options,...t}}))r[n.name]=n;return Object.values(r)}clean(){return Object.values(e7(this,ie,"m",io).call(this))}}it=new WeakMap,ir=new WeakMap,ii=new WeakMap,ie=new WeakSet,ia=function(e){let t=Math.ceil(e.value.length/3936);if(1===t)return e7(this,it,"f")[e.name]=e.value,[e];let r=[];for(let n=0;n<t;n++){let t=`${e.name}.${n}`,i=e.value.substr(3936*n,3936);r.push({...e,name:t,value:i}),e7(this,it,"f")[t]=i}return e7(this,ii,"f").debug("CHUNKING_SESSION_COOKIE",{message:"Session cookie exceeds allowed 4096 bytes.",emptyCookieSize:160,valueSize:e.value.length,chunks:r.map(e=>e.value.length+160)}),r},io=function(){let e={};for(let t in e7(this,it,"f"))delete e7(this,it,"f")?.[t],e[t]={name:t,value:"",options:{...e7(this,ir,"f").options,maxAge:0}};return e};class tr extends Error{constructor(e,t){e instanceof Error?super(void 0,{cause:{err:e,...e.cause,...t}}):"string"==typeof e?(t instanceof Error&&(t={err:t,...t.cause}),super(e,t)):super(void 0,e),this.name=this.constructor.name,this.type=this.constructor.type??"AuthError",this.kind=this.constructor.kind??"error",Error.captureStackTrace?.(this,this.constructor);const r=`https://errors.authjs.dev#${this.type.toLowerCase()}`;this.message+=`${this.message?". ":""}Read more at ${r}`}}class tn extends tr{}tn.kind="signIn";class ti extends tr{}ti.type="AdapterError";class ta extends tr{}ta.type="AccessDenied";class to extends tr{}to.type="CallbackRouteError";class ts extends tr{}ts.type="ErrorPageLoop";class tl extends tr{}tl.type="EventError";class tc extends tr{}tc.type="InvalidCallbackUrl";class tu extends tn{constructor(){super(...arguments),this.code="credentials"}}tu.type="CredentialsSignin";class td extends tr{}td.type="InvalidEndpoints";class tp extends tr{}tp.type="InvalidCheck";class th extends tr{}th.type="JWTSessionError";class tf extends tr{}tf.type="MissingAdapter";class tg extends tr{}tg.type="MissingAdapterMethods";class tm extends tr{}tm.type="MissingAuthorize";class ty extends tr{}ty.type="MissingSecret";class tb extends tn{}tb.type="OAuthAccountNotLinked";class tw extends tn{}tw.type="OAuthCallbackError";class t_ extends tr{}t_.type="OAuthProfileParseError";class tv extends tr{}tv.type="SessionTokenError";class tE extends tr{}tE.type="SignOutError";class tS extends tr{}tS.type="UnknownAction";class tx extends tr{}tx.type="UnsupportedStrategy";class tk extends tr{}tk.type="InvalidProvider";class tP extends tr{}tP.type="UntrustedHost";class tA extends tr{}tA.type="Verification";class tR extends tn{}tR.type="MissingCSRF";let tT=new Set(["CredentialsSignin","OAuthAccountNotLinked","OAuthCallbackError","AccessDenied","Verification","MissingCSRF","AccountNotLinked","WebAuthnVerificationError"]);class tO extends tr{}tO.type="DuplicateConditionalUI";class tC extends tr{}tC.type="MissingWebAuthnAutocomplete";class tN extends tr{}tN.type="WebAuthnVerificationError";class tI extends tn{}tI.type="AccountNotLinked";class t$ extends tr{}t$.type="ExperimentalFeatureNotEnabled";let tU=!1;function tD(e,t){try{return/^https?:/.test(new URL(e,e.startsWith("/")?t:void 0).protocol)}catch{return!1}}let tj=!1,tM=!1,tL=!1,tq=["createVerificationToken","useVerificationToken","getUserByEmail"],tH=["createUser","getUser","getUserByEmail","getUserByAccount","updateUser","linkAccount","createSession","getSessionAndUser","updateSession","deleteSession"],tF=["createUser","getUser","linkAccount","getAccount","getAuthenticator","createAuthenticator","listAuthenticatorsByUserId","updateAuthenticatorCounter"],tV=async(e,t,r,n,i)=>{let{crypto:{subtle:a}}=(()=>{if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;throw Error("unable to locate global object")})();return new Uint8Array(await a.deriveBits({name:"HKDF",hash:`SHA-${e.substr(3)}`,salt:r,info:n},await a.importKey("raw",t,"HKDF",!1,["deriveBits"]),i<<3))};function tB(e,t){if("string"==typeof e)return new TextEncoder().encode(e);if(!(e instanceof Uint8Array))throw TypeError(`"${t}"" must be an instance of Uint8Array or a string`);return e}async function tW(e,t,r,n,i){return tV(function(e){switch(e){case"sha256":case"sha384":case"sha512":case"sha1":return e;default:throw TypeError('unsupported "digest" value')}}(e),function(e){let t=tB(e,"ikm");if(!t.byteLength)throw TypeError('"ikm" must be at least one byte in length');return t}(t),tB(r,"salt"),function(e){let t=tB(e,"info");if(t.byteLength>1024)throw TypeError('"info" must not contain more than 1024 bytes');return t}(n),function(e,t){if("number"!=typeof e||!Number.isInteger(e)||e<1)throw TypeError('"keylen" must be a positive integer');if(e>255*(parseInt(t.substr(3),10)>>3||20))throw TypeError('"keylen" too large');return e}(i,e))}let tK=new TextEncoder,tJ=new TextDecoder;function tz(...e){let t=new Uint8Array(e.reduce((e,{length:t})=>e+t,0)),r=0;for(let n of e)t.set(n,r),r+=n.length;return t}function tG(e,t,r){if(t<0||t>=0x100000000)throw RangeError(`value must be >= 0 and <= ${0x100000000-1}. Received ${t}`);e.set([t>>>24,t>>>16,t>>>8,255&t],r)}function tX(e){let t=Math.floor(e/0x100000000),r=new Uint8Array(8);return tG(r,t,0),tG(r,e%0x100000000,4),r}function tQ(e){let t=new Uint8Array(4);return tG(t,e),t}function tY(e){let t=new Uint8Array(e.length);for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);if(n>127)throw TypeError("non-ASCII string encountered in encode()");t[r]=n}return t}function tZ(e){if(Uint8Array.fromBase64)return Uint8Array.fromBase64("string"==typeof e?e:tJ.decode(e),{alphabet:"base64url"});let t=e;t instanceof Uint8Array&&(t=tJ.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/");try{var r=t;if(Uint8Array.fromBase64)return Uint8Array.fromBase64(r);let e=atob(r),n=new Uint8Array(e.length);for(let t=0;t<e.length;t++)n[t]=e.charCodeAt(t);return n}catch{throw TypeError("The input to be decoded is not correctly encoded.")}}function t0(e){let t=e;return("string"==typeof t&&(t=tK.encode(t)),Uint8Array.prototype.toBase64)?t.toBase64({alphabet:"base64url",omitPadding:!0}):(function(e){if(Uint8Array.prototype.toBase64)return e.toBase64();let t=[];for(let r=0;r<e.length;r+=32768)t.push(String.fromCharCode.apply(null,e.subarray(r,r+32768)));return btoa(t.join(""))})(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}e.s(["decode",()=>tZ,"encode",()=>t0],22423);let t1=Symbol();class t2 extends Error{static code="ERR_JOSE_GENERIC";code="ERR_JOSE_GENERIC";constructor(e,t){super(e,t),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class t6 extends t2{static code="ERR_JWT_CLAIM_VALIDATION_FAILED";code="ERR_JWT_CLAIM_VALIDATION_FAILED";claim;reason;payload;constructor(e,t,r="unspecified",n="unspecified"){super(e,{cause:{claim:r,reason:n,payload:t}}),this.claim=r,this.reason=n,this.payload=t}}class t5 extends t2{static code="ERR_JWT_EXPIRED";code="ERR_JWT_EXPIRED";claim;reason;payload;constructor(e,t,r="unspecified",n="unspecified"){super(e,{cause:{claim:r,reason:n,payload:t}}),this.claim=r,this.reason=n,this.payload=t}}class t3 extends t2{static code="ERR_JOSE_ALG_NOT_ALLOWED";code="ERR_JOSE_ALG_NOT_ALLOWED"}class t8 extends t2{static code="ERR_JOSE_NOT_SUPPORTED";code="ERR_JOSE_NOT_SUPPORTED"}class t4 extends t2{static code="ERR_JWE_DECRYPTION_FAILED";code="ERR_JWE_DECRYPTION_FAILED";constructor(e="decryption operation failed",t){super(e,t)}}class t9 extends t2{static code="ERR_JWE_INVALID";code="ERR_JWE_INVALID"}class t7 extends t2{static code="ERR_JWT_INVALID";code="ERR_JWT_INVALID"}class re extends t2{static code="ERR_JWK_INVALID";code="ERR_JWK_INVALID"}class rt extends t2{[Symbol.asyncIterator];static code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";constructor(e="multiple matching keys found in the JSON Web Key Set",t){super(e,t)}}function rr(e){switch(e){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new t8(`Unsupported JWE Algorithm: ${e}`)}}function rn(e,t){if(t.length<<3!==rr(e))throw new t9("Invalid Initialization Vector length")}function ri(e,t){let r=e.byteLength<<3;if(r!==t)throw new t9(`Invalid Content Encryption Key length. Expected ${t} bits, got ${r} bits`)}let ra=(e,t="algorithm.name")=>TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`);function ro(e,t,r){switch(t){case"A128GCM":case"A192GCM":case"A256GCM":{if("AES-GCM"!==e.algorithm.name)throw ra("AES-GCM");let r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw ra(r,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if("AES-KW"!==e.algorithm.name)throw ra("AES-KW");let r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw ra(r,"algorithm.length");break}case"ECDH":switch(e.algorithm.name){case"ECDH":case"X25519":break;default:throw ra("ECDH or X25519")}break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if("PBKDF2"!==e.algorithm.name)throw ra("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if("RSA-OAEP"!==e.algorithm.name)throw ra("RSA-OAEP");let r=parseInt(t.slice(9),10)||1;if(parseInt(e.algorithm.hash.name.slice(4),10)!==r)throw ra(`SHA-${r}`,"algorithm.hash");break}default:throw TypeError("CryptoKey does not support this operation")}if(r&&!e.usages.includes(r))throw TypeError(`CryptoKey does not support this operation, its usages must include ${r}.`)}function rs(e,t,...r){if((r=r.filter(Boolean)).length>2){let t=r.pop();e+=`one of type ${r.join(", ")}, or ${t}.`}else 2===r.length?e+=`one of type ${r[0]} or ${r[1]}.`:e+=`of type ${r[0]}.`;return null==t?e+=` Received ${t}`:"function"==typeof t&&t.name?e+=` Received function ${t.name}`:"object"==typeof t&&null!=t&&t.constructor?.name&&(e+=` Received an instance of ${t.constructor.name}`),e}let rl=(e,...t)=>rs("Key must be ",e,...t),rc=(e,t,...r)=>rs(`Key for the ${e} algorithm must be `,t,...r);function ru(e){if(!rd(e))throw Error("CryptoKey instance expected")}let rd=e=>e?.[Symbol.toStringTag]==="CryptoKey",rp=e=>e?.[Symbol.toStringTag]==="KeyObject",rh=e=>rd(e)||rp(e);async function rf(e,t,r,n,i){if(!(r instanceof Uint8Array))throw TypeError(rl(r,"Uint8Array"));let a=parseInt(e.slice(1,4),10),o=await crypto.subtle.importKey("raw",r.subarray(a>>3),"AES-CBC",!1,["encrypt"]),s=await crypto.subtle.importKey("raw",r.subarray(0,a>>3),{hash:`SHA-${a<<1}`,name:"HMAC"},!1,["sign"]),l=new Uint8Array(await crypto.subtle.encrypt({iv:n,name:"AES-CBC"},o,t)),c=tz(i,n,l,tX(i.length<<3));return{ciphertext:l,tag:new Uint8Array((await crypto.subtle.sign("HMAC",s,c)).slice(0,a>>3)),iv:n}}async function rg(e,t,r,n,i){let a;r instanceof Uint8Array?a=await crypto.subtle.importKey("raw",r,"AES-GCM",!1,["encrypt"]):(ro(r,e,"encrypt"),a=r);let o=new Uint8Array(await crypto.subtle.encrypt({additionalData:i,iv:n,name:"AES-GCM",tagLength:128},a,t)),s=o.slice(-16);return{ciphertext:o.slice(0,-16),tag:s,iv:n}}async function rm(e,t,r,n,i){if(!rd(r)&&!(r instanceof Uint8Array))throw TypeError(rl(r,"CryptoKey","KeyObject","Uint8Array","JSON Web Key"));if(n)rn(e,n);else n=crypto.getRandomValues(new Uint8Array(rr(e)>>3));switch(e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return r instanceof Uint8Array&&ri(r,parseInt(e.slice(-3),10)),rf(e,t,r,n,i);case"A128GCM":case"A192GCM":case"A256GCM":return r instanceof Uint8Array&&ri(r,parseInt(e.slice(1,4),10)),rg(e,t,r,n,i);default:throw new t8("Unsupported JWE Content Encryption Algorithm")}}function ry(e,t){if(e.algorithm.length!==parseInt(t.slice(1,4),10))throw TypeError(`Invalid key size for alg: ${t}`)}function rb(e,t,r){return e instanceof Uint8Array?crypto.subtle.importKey("raw",e,"AES-KW",!0,[r]):(ro(e,t,r),e)}async function rw(e,t,r){let n=await rb(t,e,"wrapKey");ry(n,e);let i=await crypto.subtle.importKey("raw",r,{hash:"SHA-256",name:"HMAC"},!0,["sign"]);return new Uint8Array(await crypto.subtle.wrapKey("raw",i,n,"AES-KW"))}async function r_(e,t,r){let n=await rb(t,e,"unwrapKey");ry(n,e);let i=await crypto.subtle.unwrapKey("raw",r,n,"AES-KW",{hash:"SHA-256",name:"HMAC"},!0,["sign"]);return new Uint8Array(await crypto.subtle.exportKey("raw",i))}async function rv(e,t){let r=`SHA-${e.slice(-3)}`;return new Uint8Array(await crypto.subtle.digest(r,t))}function rE(e){return tz(tQ(e.length),e)}async function rS(e,t,r){let n=t>>3,i=Math.ceil(n/32),a=new Uint8Array(32*i);for(let t=1;t<=i;t++){let n=new Uint8Array(4+e.length+r.length);n.set(tQ(t),0),n.set(e,4),n.set(r,4+e.length);let i=await rv("sha256",n);a.set(i,(t-1)*32)}return a.slice(0,n)}async function rx(e,t,r,n,i=new Uint8Array,a=new Uint8Array){var o;ro(e,"ECDH"),ro(t,"ECDH","deriveBits");let s=tz(rE(tY(r)),rE(i),rE(a),tQ(n),new Uint8Array);return rS(new Uint8Array(await crypto.subtle.deriveBits({name:e.algorithm.name,public:e},t,"X25519"===(o=e).algorithm.name?256:Math.ceil(parseInt(o.algorithm.namedCurve.slice(-3),10)/8)<<3)),n,s)}function rk(e){switch(e.algorithm.namedCurve){case"P-256":case"P-384":case"P-521":return!0;default:return"X25519"===e.algorithm.name}}async function rP(e,t,r,n){if(!(e instanceof Uint8Array)||e.length<8)throw new t9("PBES2 Salt Input must be 8 or more octets");let i=tz(tY(t),Uint8Array.of(0),e),a=parseInt(t.slice(13,16),10),o={hash:`SHA-${t.slice(8,11)}`,iterations:r,name:"PBKDF2",salt:i},s=await (n instanceof Uint8Array?crypto.subtle.importKey("raw",n,"PBKDF2",!1,["deriveBits"]):(ro(n,t,"deriveBits"),n));return new Uint8Array(await crypto.subtle.deriveBits(o,s,a))}async function rA(e,t,r,n=2048,i=crypto.getRandomValues(new Uint8Array(16))){let a=await rP(i,e,n,t);return{encryptedKey:await rw(e.slice(-6),a,r),p2c:n,p2s:t0(i)}}async function rR(e,t,r,n,i){let a=await rP(i,e,n,t);return r_(e.slice(-6),a,r)}function rT(e,t){if(e.startsWith("RS")||e.startsWith("PS")){let{modulusLength:r}=t.algorithm;if("number"!=typeof r||r<2048)throw TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}}let rO=e=>{switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new t8(`alg ${e} is not supported either by JOSE or your javascript runtime`)}};async function rC(e,t,r){return ro(t,e,"encrypt"),rT(e,t),new Uint8Array(await crypto.subtle.encrypt(rO(e),t,r))}async function rN(e,t,r){return ro(t,e,"decrypt"),rT(e,t),new Uint8Array(await crypto.subtle.decrypt(rO(e),t,r))}function rI(e){if("object"!=typeof e||null===e||"[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}let r$=e=>rI(e)&&"string"==typeof e.kty;async function rU(e){if(!e.alg)throw TypeError('"alg" argument is required when "jwk.alg" is not present');let{algorithm:t,keyUsages:r}=function(e){let t,r;switch(e.kty){case"AKP":switch(e.alg){case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":t={name:e.alg},r=e.priv?["sign"]:["verify"];break;default:throw new t8('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"RSA":switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:`SHA-${parseInt(e.alg.slice(-3),10)||1}`},r=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new t8('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(e.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},r=e.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},r=e.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new t8('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"OKP":switch(e.alg){case"Ed25519":case"EdDSA":t={name:"Ed25519"},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new t8('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;default:throw new t8('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:r}}(e),n={...e};return"AKP"!==n.kty&&delete n.alg,delete n.use,crypto.subtle.importKey("jwk",n,t,e.ext??(!e.d&&!e.priv),e.key_ops??r)}let rD=async(e,t,n,i=!1)=>{let a=(r||=new WeakMap).get(e);if(a?.[n])return a[n];let o=await rU({...t,alg:n});return i&&Object.freeze(e),a?a[n]=o:r.set(e,{[n]:o}),o};async function rj(e,t){if(e instanceof Uint8Array||rd(e))return e;if(rp(e)){if("secret"===e.type)return e.export();if("toCryptoKey"in e&&"function"==typeof e.toCryptoKey)try{return((e,t)=>{let n,i=(r||=new WeakMap).get(e);if(i?.[t])return i[t];let a="public"===e.type,o=!!a;if("x25519"===e.asymmetricKeyType){switch(t){case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":break;default:throw TypeError("given KeyObject instance cannot be used for this algorithm")}n=e.toCryptoKey(e.asymmetricKeyType,o,a?[]:["deriveBits"])}if("ed25519"===e.asymmetricKeyType){if("EdDSA"!==t&&"Ed25519"!==t)throw TypeError("given KeyObject instance cannot be used for this algorithm");n=e.toCryptoKey(e.asymmetricKeyType,o,[a?"verify":"sign"])}switch(e.asymmetricKeyType){case"ml-dsa-44":case"ml-dsa-65":case"ml-dsa-87":if(t!==e.asymmetricKeyType.toUpperCase())throw TypeError("given KeyObject instance cannot be used for this algorithm");n=e.toCryptoKey(e.asymmetricKeyType,o,[a?"verify":"sign"])}if("rsa"===e.asymmetricKeyType){let r;switch(t){case"RSA-OAEP":r="SHA-1";break;case"RS256":case"PS256":case"RSA-OAEP-256":r="SHA-256";break;case"RS384":case"PS384":case"RSA-OAEP-384":r="SHA-384";break;case"RS512":case"PS512":case"RSA-OAEP-512":r="SHA-512";break;default:throw TypeError("given KeyObject instance cannot be used for this algorithm")}if(t.startsWith("RSA-OAEP"))return e.toCryptoKey({name:"RSA-OAEP",hash:r},o,a?["encrypt"]:["decrypt"]);n=e.toCryptoKey({name:t.startsWith("PS")?"RSA-PSS":"RSASSA-PKCS1-v1_5",hash:r},o,[a?"verify":"sign"])}if("ec"===e.asymmetricKeyType){let r=new Map([["prime256v1","P-256"],["secp384r1","P-384"],["secp521r1","P-521"]]).get(e.asymmetricKeyDetails?.namedCurve);if(!r)throw TypeError("given KeyObject instance cannot be used for this algorithm");"ES256"===t&&"P-256"===r&&(n=e.toCryptoKey({name:"ECDSA",namedCurve:r},o,[a?"verify":"sign"])),"ES384"===t&&"P-384"===r&&(n=e.toCryptoKey({name:"ECDSA",namedCurve:r},o,[a?"verify":"sign"])),"ES512"===t&&"P-521"===r&&(n=e.toCryptoKey({name:"ECDSA",namedCurve:r},o,[a?"verify":"sign"])),t.startsWith("ECDH-ES")&&(n=e.toCryptoKey({name:"ECDH",namedCurve:r},o,a?[]:["deriveBits"]))}if(!n)throw TypeError("given KeyObject instance cannot be used for this algorithm");return i?i[t]=n:r.set(e,{[t]:n}),n})(e,t)}catch(e){if(e instanceof TypeError)throw e}let n=e.export({format:"jwk"});return rD(e,n,t)}if(r$(e))return e.k?tZ(e.k):rD(e,e,t,!0);throw Error("unreachable")}function rM(e){switch(e){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new t8(`Unsupported JWE Algorithm: ${e}`)}}let rL=e=>crypto.getRandomValues(new Uint8Array(rM(e)>>3));async function rq(e){if(rp(e))if("secret"!==e.type)return e.export({format:"jwk"});else e=e.export();if(e instanceof Uint8Array)return{kty:"oct",k:t0(e)};if(!rd(e))throw TypeError(rl(e,"CryptoKey","KeyObject","Uint8Array"));if(!e.extractable)throw TypeError("non-extractable CryptoKey cannot be exported as a JWK");let{ext:t,key_ops:r,alg:n,use:i,...a}=await crypto.subtle.exportKey("jwk",e);return"AKP"===a.kty&&(a.alg=n),a}async function rH(e){return rq(e)}async function rF(e,t){if(!(e instanceof Uint8Array))throw TypeError("First argument must be a buffer");if(!(t instanceof Uint8Array))throw TypeError("Second argument must be a buffer");let r={name:"HMAC",hash:"SHA-256"},n=await crypto.subtle.generateKey(r,!1,["sign"]),i=new Uint8Array(await crypto.subtle.sign(r,n,e)),a=new Uint8Array(await crypto.subtle.sign(r,n,t)),o=0,s=-1;for(;++s<32;)o|=i[s]^a[s];return 0===o}async function rV(e,t,r,n,i,a){let o,s;if(!(t instanceof Uint8Array))throw TypeError(rl(t,"Uint8Array"));let l=parseInt(e.slice(1,4),10),c=await crypto.subtle.importKey("raw",t.subarray(l>>3),"AES-CBC",!1,["decrypt"]),u=await crypto.subtle.importKey("raw",t.subarray(0,l>>3),{hash:`SHA-${l<<1}`,name:"HMAC"},!1,["sign"]),d=tz(a,n,r,tX(a.length<<3)),p=new Uint8Array((await crypto.subtle.sign("HMAC",u,d)).slice(0,l>>3));try{o=await rF(i,p)}catch{}if(!o)throw new t4;try{s=new Uint8Array(await crypto.subtle.decrypt({iv:n,name:"AES-CBC"},c,r))}catch{}if(!s)throw new t4;return s}async function rB(e,t,r,n,i,a){let o;t instanceof Uint8Array?o=await crypto.subtle.importKey("raw",t,"AES-GCM",!1,["decrypt"]):(ro(t,e,"decrypt"),o=t);try{return new Uint8Array(await crypto.subtle.decrypt({additionalData:a,iv:n,name:"AES-GCM",tagLength:128},o,tz(r,i)))}catch{throw new t4}}async function rW(e,t,r,n,i,a){if(!rd(t)&&!(t instanceof Uint8Array))throw TypeError(rl(t,"CryptoKey","KeyObject","Uint8Array","JSON Web Key"));if(!n)throw new t9("JWE Initialization Vector missing");if(!i)throw new t9("JWE Authentication Tag missing");switch(rn(e,n),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return t instanceof Uint8Array&&ri(t,parseInt(e.slice(-3),10)),rV(e,t,r,n,i,a);case"A128GCM":case"A192GCM":case"A256GCM":return t instanceof Uint8Array&&ri(t,parseInt(e.slice(1,4),10)),rB(e,t,r,n,i,a);default:throw new t8("Unsupported JWE Content Encryption Algorithm")}}async function rK(e,t,r,n){let i=e.slice(0,7),a=await rm(i,r,t,n,new Uint8Array);return{encryptedKey:a.ciphertext,iv:t0(a.iv),tag:t0(a.tag)}}async function rJ(e,t,r,n,i){return rW(e.slice(0,7),t,r,n,i,new Uint8Array)}async function rz(e,t,r,n,i={}){let a,o,s;switch(e){case"dir":s=r;break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let l;if(ru(r),!rk(r))throw new t8("ECDH with the provided key is not allowed or not supported by your javascript runtime");let{apu:c,apv:u}=i;l=i.epk?await rj(i.epk,e):(await crypto.subtle.generateKey(r.algorithm,!0,["deriveBits"])).privateKey;let{x:d,y:p,crv:h,kty:f}=await rH(l),g=await rx(r,l,"ECDH-ES"===e?t:e,"ECDH-ES"===e?rM(t):parseInt(e.slice(-5,-2),10),c,u);if(o={epk:{x:d,crv:h,kty:f}},"EC"===f&&(o.epk.y=p),c&&(o.apu=t0(c)),u&&(o.apv=t0(u)),"ECDH-ES"===e){s=g;break}s=n||rL(t);let m=e.slice(-6);a=await rw(m,g,s);break}case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":s=n||rL(t),ru(r),a=await rC(e,r,s);break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{s=n||rL(t);let{p2c:l,p2s:c}=i;({encryptedKey:a,...o}=await rA(e,r,s,l,c));break}case"A128KW":case"A192KW":case"A256KW":s=n||rL(t),a=await rw(e,r,s);break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{s=n||rL(t);let{iv:l}=i;({encryptedKey:a,...o}=await rK(e,r,s,l));break}default:throw new t8('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:s,encryptedKey:a,parameters:o}}function rG(...e){let t,r=e.filter(Boolean);if(0===r.length||1===r.length)return!0;for(let e of r){let r=Object.keys(e);if(!t||0===t.size){t=new Set(r);continue}for(let e of r){if(t.has(e))return!1;t.add(e)}}return!0}function rX(e,t,r,n,i){let a;if(void 0!==i.crit&&n?.crit===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!n||void 0===n.crit)return new Set;if(!Array.isArray(n.crit)||0===n.crit.length||n.crit.some(e=>"string"!=typeof e||0===e.length))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let o of(a=void 0!==r?new Map([...Object.entries(r),...t.entries()]):t,n.crit)){if(!a.has(o))throw new t8(`Extension Header Parameter "${o}" is not recognized`);if(void 0===i[o])throw new e(`Extension Header Parameter "${o}" is missing`);if(a.get(o)&&void 0===n[o])throw new e(`Extension Header Parameter "${o}" MUST be integrity protected`)}return new Set(n.crit)}let rQ=e=>e?.[Symbol.toStringTag],rY=(e,t,r)=>{if(void 0!==t.use){let e;switch(r){case"sign":case"verify":e="sig";break;case"encrypt":case"decrypt":e="enc"}if(t.use!==e)throw TypeError(`Invalid key for this operation, its "use" must be "${e}" when present`)}if(void 0!==t.alg&&t.alg!==e)throw TypeError(`Invalid key for this operation, its "alg" must be "${e}" when present`);if(Array.isArray(t.key_ops)){let n;switch(!0){case"sign"===r||"verify"===r:case"dir"===e:case e.includes("CBC-HS"):n=r;break;case e.startsWith("PBES2"):n="deriveBits";break;case/^A\d{3}(?:GCM)?(?:KW)?$/.test(e):n=!e.includes("GCM")&&e.endsWith("KW")?"encrypt"===r?"wrapKey":"unwrapKey":r;break;case"encrypt"===r&&e.startsWith("RSA"):n="wrapKey";break;case"decrypt"===r:n=e.startsWith("RSA")?"unwrapKey":"deriveBits"}if(n&&t.key_ops?.includes?.(n)===!1)throw TypeError(`Invalid key for this operation, its "key_ops" must include "${n}" when present`)}return!0};function rZ(e,t,r){switch(e.substring(0,2)){case"A1":case"A2":case"di":case"HS":case"PB":((e,t,r)=>{if(!(t instanceof Uint8Array)){if(r$(t)){if("oct"===t.kty&&"string"==typeof t.k&&rY(e,t,r))return;throw TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!rh(t))throw TypeError(rc(e,t,"CryptoKey","KeyObject","JSON Web Key","Uint8Array"));if("secret"!==t.type)throw TypeError(`${rQ(t)} instances for symmetric algorithms must be of type "secret"`)}})(e,t,r);break;default:((e,t,r)=>{if(r$(t))switch(r){case"decrypt":case"sign":if("oct"!==t.kty&&("AKP"===t.kty&&"string"==typeof t.priv||"string"==typeof t.d)&&rY(e,t,r))return;throw TypeError("JSON Web Key for this operation be a private JWK");case"encrypt":case"verify":if("oct"!==t.kty&&void 0===t.d&&void 0===t.priv&&rY(e,t,r))return;throw TypeError("JSON Web Key for this operation be a public JWK")}if(!rh(t))throw TypeError(rc(e,t,"CryptoKey","KeyObject","JSON Web Key"));if("secret"===t.type)throw TypeError(`${rQ(t)} instances for asymmetric algorithms must not be of type "secret"`);if("public"===t.type)switch(r){case"sign":throw TypeError(`${rQ(t)} instances for asymmetric algorithm signing must be of type "private"`);case"decrypt":throw TypeError(`${rQ(t)} instances for asymmetric algorithm decryption must be of type "private"`)}if("private"===t.type)switch(r){case"verify":throw TypeError(`${rQ(t)} instances for asymmetric algorithm verifying must be of type "public"`);case"encrypt":throw TypeError(`${rQ(t)} instances for asymmetric algorithm encryption must be of type "public"`)}})(e,t,r)}}class r0{#t;#r;#n;#i;#a;#o;#s;#l;constructor(e){if(!(e instanceof Uint8Array))throw TypeError("plaintext must be an instance of Uint8Array");this.#t=e}setKeyManagementParameters(e){if(this.#l)throw TypeError("setKeyManagementParameters can only be called once");return this.#l=e,this}setProtectedHeader(e){if(this.#r)throw TypeError("setProtectedHeader can only be called once");return this.#r=e,this}setSharedUnprotectedHeader(e){if(this.#n)throw TypeError("setSharedUnprotectedHeader can only be called once");return this.#n=e,this}setUnprotectedHeader(e){if(this.#i)throw TypeError("setUnprotectedHeader can only be called once");return this.#i=e,this}setAdditionalAuthenticatedData(e){return this.#a=e,this}setContentEncryptionKey(e){if(this.#o)throw TypeError("setContentEncryptionKey can only be called once");return this.#o=e,this}setInitializationVector(e){if(this.#s)throw TypeError("setInitializationVector can only be called once");return this.#s=e,this}async encrypt(e,t){let r,n,i,a,o,s;if(!this.#r&&!this.#i&&!this.#n)throw new t9("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!rG(this.#r,this.#i,this.#n))throw new t9("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let l={...this.#r,...this.#i,...this.#n};if(rX(t9,new Map,t?.crit,this.#r,l),void 0!==l.zip)throw new t8('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:c,enc:u}=l;if("string"!=typeof c||!c)throw new t9('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("string"!=typeof u||!u)throw new t9('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(this.#o&&("dir"===c||"ECDH-ES"===c))throw TypeError(`setContentEncryptionKey cannot be called with JWE "alg" (Algorithm) Header ${c}`);rZ("dir"===c?u:c,e,"encrypt");{let i,a=await rj(e,c);({cek:n,encryptedKey:r,parameters:i}=await rz(c,u,a,this.#o,this.#l)),i&&(t&&t1 in t?this.#i?this.#i={...this.#i,...i}:this.setUnprotectedHeader(i):this.#r?this.#r={...this.#r,...i}:this.setProtectedHeader(i))}if(this.#r?o=tY(a=t0(JSON.stringify(this.#r))):(a="",o=new Uint8Array),this.#a){let e=tY(s=t0(this.#a));i=tz(o,tY("."),e)}else i=o;let{ciphertext:d,tag:p,iv:h}=await rm(u,this.#t,n,this.#s,i),f={ciphertext:t0(d)};return h&&(f.iv=t0(h)),p&&(f.tag=t0(p)),r&&(f.encrypted_key=t0(r)),s&&(f.aad=s),this.#r&&(f.protected=a),this.#n&&(f.unprotected=this.#n),this.#i&&(f.header=this.#i),f}}class r1{#c;constructor(e){this.#c=new r0(e)}setContentEncryptionKey(e){return this.#c.setContentEncryptionKey(e),this}setInitializationVector(e){return this.#c.setInitializationVector(e),this}setProtectedHeader(e){return this.#c.setProtectedHeader(e),this}setKeyManagementParameters(e){return this.#c.setKeyManagementParameters(e),this}async encrypt(e,t){let r=await this.#c.encrypt(e,t);return[r.protected,r.encrypted_key,r.iv,r.ciphertext,r.tag].join(".")}}let r2=e=>Math.floor(e.getTime()/1e3),r6=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i;function r5(e){let t,r=r6.exec(e);if(!r||r[4]&&r[1])throw TypeError("Invalid time period format");let n=parseFloat(r[2]);switch(r[3].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":t=Math.round(n);break;case"minute":case"minutes":case"min":case"mins":case"m":t=Math.round(60*n);break;case"hour":case"hours":case"hr":case"hrs":case"h":t=Math.round(3600*n);break;case"day":case"days":case"d":t=Math.round(86400*n);break;case"week":case"weeks":case"w":t=Math.round(604800*n);break;default:t=Math.round(0x1e187e0*n)}return"-"===r[1]||"ago"===r[4]?-t:t}function r3(e,t){if(!Number.isFinite(t))throw TypeError(`Invalid ${e} input`);return t}let r8=e=>e.includes("/")?e.toLowerCase():`application/${e.toLowerCase()}`;class r4{#u;constructor(e){if(!rI(e))throw TypeError("JWT Claims Set MUST be an object");this.#u=structuredClone(e)}data(){return tK.encode(JSON.stringify(this.#u))}get iss(){return this.#u.iss}set iss(e){this.#u.iss=e}get sub(){return this.#u.sub}set sub(e){this.#u.sub=e}get aud(){return this.#u.aud}set aud(e){this.#u.aud=e}set jti(e){this.#u.jti=e}set nbf(e){"number"==typeof e?this.#u.nbf=r3("setNotBefore",e):e instanceof Date?this.#u.nbf=r3("setNotBefore",r2(e)):this.#u.nbf=r2(new Date)+r5(e)}set exp(e){"number"==typeof e?this.#u.exp=r3("setExpirationTime",e):e instanceof Date?this.#u.exp=r3("setExpirationTime",r2(e)):this.#u.exp=r2(new Date)+r5(e)}set iat(e){void 0===e?this.#u.iat=r2(new Date):e instanceof Date?this.#u.iat=r3("setIssuedAt",r2(e)):"string"==typeof e?this.#u.iat=r3("setIssuedAt",r2(new Date)+r5(e)):this.#u.iat=r3("setIssuedAt",e)}}class r9{#o;#s;#l;#r;#d;#p;#h;#f;constructor(e={}){this.#f=new r4(e)}setIssuer(e){return this.#f.iss=e,this}setSubject(e){return this.#f.sub=e,this}setAudience(e){return this.#f.aud=e,this}setJti(e){return this.#f.jti=e,this}setNotBefore(e){return this.#f.nbf=e,this}setExpirationTime(e){return this.#f.exp=e,this}setIssuedAt(e){return this.#f.iat=e,this}setProtectedHeader(e){if(this.#r)throw TypeError("setProtectedHeader can only be called once");return this.#r=e,this}setKeyManagementParameters(e){if(this.#l)throw TypeError("setKeyManagementParameters can only be called once");return this.#l=e,this}setContentEncryptionKey(e){if(this.#o)throw TypeError("setContentEncryptionKey can only be called once");return this.#o=e,this}setInitializationVector(e){if(this.#s)throw TypeError("setInitializationVector can only be called once");return this.#s=e,this}replicateIssuerAsHeader(){return this.#d=!0,this}replicateSubjectAsHeader(){return this.#p=!0,this}replicateAudienceAsHeader(){return this.#h=!0,this}async encrypt(e,t){let r=new r1(this.#f.data());return this.#r&&(this.#d||this.#p||this.#h)&&(this.#r={...this.#r,iss:this.#d?this.#f.iss:void 0,sub:this.#p?this.#f.sub:void 0,aud:this.#h?this.#f.aud:void 0}),r.setProtectedHeader(this.#r),this.#s&&r.setInitializationVector(this.#s),this.#o&&r.setContentEncryptionKey(this.#o),this.#l&&r.setKeyManagementParameters(this.#l),r.encrypt(e,t)}}var r7=e.i(22423),r7=r7;let ne=(e,t)=>{if("string"!=typeof e||!e)throw new re(`${t} missing or invalid`)};async function nt(e,t){let r,n;if(r$(e))r=e;else if(rh(e))r=await rH(e);else throw TypeError(rl(e,"CryptoKey","KeyObject","JSON Web Key"));if("sha256"!==(t??="sha256")&&"sha384"!==t&&"sha512"!==t)throw TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');switch(r.kty){case"AKP":ne(r.alg,'"alg" (Algorithm) Parameter'),ne(r.pub,'"pub" (Public key) Parameter'),n={alg:r.alg,kty:r.kty,pub:r.pub};break;case"EC":ne(r.crv,'"crv" (Curve) Parameter'),ne(r.x,'"x" (X Coordinate) Parameter'),ne(r.y,'"y" (Y Coordinate) Parameter'),n={crv:r.crv,kty:r.kty,x:r.x,y:r.y};break;case"OKP":ne(r.crv,'"crv" (Subtype of Key Pair) Parameter'),ne(r.x,'"x" (Public Key) Parameter'),n={crv:r.crv,kty:r.kty,x:r.x};break;case"RSA":ne(r.e,'"e" (Exponent) Parameter'),ne(r.n,'"n" (Modulus) Parameter'),n={e:r.e,kty:r.kty,n:r.n};break;case"oct":ne(r.k,'"k" (Key Value) Parameter'),n={k:r.k,kty:r.kty};break;default:throw new t8('"kty" (Key Type) Parameter missing or unsupported')}let i=tY(JSON.stringify(n));return t0(await rv(t,i))}async function nr(e,t,r){let n;if(!rI(e))throw TypeError("JWK must be an object");switch(t??=e.alg,n??=r?.extractable??e.ext,e.kty){case"oct":if("string"!=typeof e.k||!e.k)throw TypeError('missing "k" (Key Value) Parameter value');return tZ(e.k);case"RSA":if("oth"in e&&void 0!==e.oth)throw new t8('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');return rU({...e,alg:t,ext:n});case"AKP":if("string"!=typeof e.alg||!e.alg)throw TypeError('missing "alg" (Algorithm) Parameter value');if(void 0!==t&&t!==e.alg)throw TypeError("JWK alg and alg option value mismatch");return rU({...e,ext:n});case"EC":case"OKP":return rU({...e,alg:t,ext:n});default:throw new t8('Unsupported "kty" (Key Type) Parameter value')}}async function nn(e,t,r,n,i){switch(e){case"dir":if(void 0!==r)throw new t9("Encountered unexpected JWE Encrypted Key");return t;case"ECDH-ES":if(void 0!==r)throw new t9("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let i,a;if(!rI(n.epk))throw new t9('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(ru(t),!rk(t))throw new t8("ECDH with the provided key is not allowed or not supported by your javascript runtime");let o=await nr(n.epk,e);if(ru(o),void 0!==n.apu){if("string"!=typeof n.apu)throw new t9('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{i=tZ(n.apu)}catch{throw new t9("Failed to base64url decode the apu")}}if(void 0!==n.apv){if("string"!=typeof n.apv)throw new t9('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{a=tZ(n.apv)}catch{throw new t9("Failed to base64url decode the apv")}}let s=await rx(o,t,"ECDH-ES"===e?n.enc:e,"ECDH-ES"===e?rM(n.enc):parseInt(e.slice(-5,-2),10),i,a);if("ECDH-ES"===e)return s;if(void 0===r)throw new t9("JWE Encrypted Key missing");return r_(e.slice(-6),s,r)}case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":if(void 0===r)throw new t9("JWE Encrypted Key missing");return ru(t),rN(e,t,r);case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{let a;if(void 0===r)throw new t9("JWE Encrypted Key missing");if("number"!=typeof n.p2c)throw new t9('JOSE Header "p2c" (PBES2 Count) missing or invalid');let o=i?.maxPBES2Count||1e4;if(n.p2c>o)throw new t9('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if("string"!=typeof n.p2s)throw new t9('JOSE Header "p2s" (PBES2 Salt) missing or invalid');try{a=tZ(n.p2s)}catch{throw new t9("Failed to base64url decode the p2s")}return rR(e,t,r,n.p2c,a)}case"A128KW":case"A192KW":case"A256KW":if(void 0===r)throw new t9("JWE Encrypted Key missing");return r_(e,t,r);case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{let i,a;if(void 0===r)throw new t9("JWE Encrypted Key missing");if("string"!=typeof n.iv)throw new t9('JOSE Header "iv" (Initialization Vector) missing or invalid');if("string"!=typeof n.tag)throw new t9('JOSE Header "tag" (Authentication Tag) missing or invalid');try{i=tZ(n.iv)}catch{throw new t9("Failed to base64url decode the iv")}try{a=tZ(n.tag)}catch{throw new t9("Failed to base64url decode the tag")}return rJ(e,t,r,i,a)}default:throw new t8('Invalid or unsupported "alg" (JWE Algorithm) header value')}}function ni(e,t){if(void 0!==t&&(!Array.isArray(t)||t.some(e=>"string"!=typeof e)))throw TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)}async function na(e,t,r){let n,i,a,o,s,l,c;if(!rI(e))throw new t9("Flattened JWE must be an object");if(void 0===e.protected&&void 0===e.header&&void 0===e.unprotected)throw new t9("JOSE Header missing");if(void 0!==e.iv&&"string"!=typeof e.iv)throw new t9("JWE Initialization Vector incorrect type");if("string"!=typeof e.ciphertext)throw new t9("JWE Ciphertext missing or incorrect type");if(void 0!==e.tag&&"string"!=typeof e.tag)throw new t9("JWE Authentication Tag incorrect type");if(void 0!==e.protected&&"string"!=typeof e.protected)throw new t9("JWE Protected Header incorrect type");if(void 0!==e.encrypted_key&&"string"!=typeof e.encrypted_key)throw new t9("JWE Encrypted Key incorrect type");if(void 0!==e.aad&&"string"!=typeof e.aad)throw new t9("JWE AAD incorrect type");if(void 0!==e.header&&!rI(e.header))throw new t9("JWE Shared Unprotected Header incorrect type");if(void 0!==e.unprotected&&!rI(e.unprotected))throw new t9("JWE Per-Recipient Unprotected Header incorrect type");if(e.protected)try{let t=tZ(e.protected);n=JSON.parse(tJ.decode(t))}catch{throw new t9("JWE Protected Header is invalid")}if(!rG(n,e.header,e.unprotected))throw new t9("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");let u={...n,...e.header,...e.unprotected};if(rX(t9,new Map,r?.crit,n,u),void 0!==u.zip)throw new t8('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:d,enc:p}=u;if("string"!=typeof d||!d)throw new t9("missing JWE Algorithm (alg) in JWE Header");if("string"!=typeof p||!p)throw new t9("missing JWE Encryption Algorithm (enc) in JWE Header");let h=r&&ni("keyManagementAlgorithms",r.keyManagementAlgorithms),f=r&&ni("contentEncryptionAlgorithms",r.contentEncryptionAlgorithms);if(h&&!h.has(d)||!h&&d.startsWith("PBES2"))throw new t3('"alg" (Algorithm) Header Parameter value not allowed');if(f&&!f.has(p))throw new t3('"enc" (Encryption Algorithm) Header Parameter value not allowed');if(void 0!==e.encrypted_key)try{i=tZ(e.encrypted_key)}catch{throw new t9("Failed to base64url decode the encrypted_key")}let g=!1;"function"==typeof t&&(t=await t(n,e),g=!0),rZ("dir"===d?p:d,t,"decrypt");let m=await rj(t,d);try{a=await nn(d,m,i,u,r)}catch(e){if(e instanceof TypeError||e instanceof t9||e instanceof t8)throw e;a=rL(p)}if(void 0!==e.iv)try{o=tZ(e.iv)}catch{throw new t9("Failed to base64url decode the iv")}if(void 0!==e.tag)try{s=tZ(e.tag)}catch{throw new t9("Failed to base64url decode the tag")}let y=void 0!==e.protected?tY(e.protected):new Uint8Array;l=void 0!==e.aad?tz(y,tY("."),tY(e.aad)):y;try{c=tZ(e.ciphertext)}catch{throw new t9("Failed to base64url decode the ciphertext")}let b={plaintext:await rW(p,a,c,o,s,l)};if(void 0!==e.protected&&(b.protectedHeader=n),void 0!==e.aad)try{b.additionalAuthenticatedData=tZ(e.aad)}catch{throw new t9("Failed to base64url decode the aad")}return(void 0!==e.unprotected&&(b.sharedUnprotectedHeader=e.unprotected),void 0!==e.header&&(b.unprotectedHeader=e.header),g)?{...b,key:m}:b}async function no(e,t,r){if(e instanceof Uint8Array&&(e=tJ.decode(e)),"string"!=typeof e)throw new t9("Compact JWE must be a string or Uint8Array");let{0:n,1:i,2:a,3:o,4:s,length:l}=e.split(".");if(5!==l)throw new t9("Invalid Compact JWE");let c=await na({ciphertext:o,iv:a||void 0,protected:n,tag:s||void 0,encrypted_key:i||void 0},t,r),u={plaintext:c.plaintext,protectedHeader:c.protectedHeader};return"function"==typeof t?{...u,key:c.key}:u}async function ns(e,t,r){let n=await no(e,t,r),i=function(e,t,r={}){var n,i;let a,o;try{a=JSON.parse(tJ.decode(t))}catch{}if(!rI(a))throw new t7("JWT Claims Set must be a top-level JSON object");let{typ:s}=r;if(s&&("string"!=typeof e.typ||r8(e.typ)!==r8(s)))throw new t6('unexpected "typ" JWT header value',a,"typ","check_failed");let{requiredClaims:l=[],issuer:c,subject:u,audience:d,maxTokenAge:p}=r,h=[...l];for(let e of(void 0!==p&&h.push("iat"),void 0!==d&&h.push("aud"),void 0!==u&&h.push("sub"),void 0!==c&&h.push("iss"),new Set(h.reverse())))if(!(e in a))throw new t6(`missing required "${e}" claim`,a,e,"missing");if(c&&!(Array.isArray(c)?c:[c]).includes(a.iss))throw new t6('unexpected "iss" claim value',a,"iss","check_failed");if(u&&a.sub!==u)throw new t6('unexpected "sub" claim value',a,"sub","check_failed");if(d&&(n=a.aud,i="string"==typeof d?[d]:d,"string"==typeof n?!i.includes(n):!(Array.isArray(n)&&i.some(Set.prototype.has.bind(new Set(n))))))throw new t6('unexpected "aud" claim value',a,"aud","check_failed");switch(typeof r.clockTolerance){case"string":o=r5(r.clockTolerance);break;case"number":o=r.clockTolerance;break;case"undefined":o=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:f}=r,g=r2(f||new Date);if((void 0!==a.iat||p)&&"number"!=typeof a.iat)throw new t6('"iat" claim must be a number',a,"iat","invalid");if(void 0!==a.nbf){if("number"!=typeof a.nbf)throw new t6('"nbf" claim must be a number',a,"nbf","invalid");if(a.nbf>g+o)throw new t6('"nbf" claim timestamp check failed',a,"nbf","check_failed")}if(void 0!==a.exp){if("number"!=typeof a.exp)throw new t6('"exp" claim must be a number',a,"exp","invalid");if(a.exp<=g-o)throw new t5('"exp" claim timestamp check failed',a,"exp","check_failed")}if(p){let e=g-a.iat;if(e-o>("number"==typeof p?p:r5(p)))throw new t5('"iat" claim timestamp check failed (too far in the past)',a,"iat","check_failed");if(e<0-o)throw new t6('"iat" claim timestamp check failed (it should be in the past)',a,"iat","check_failed")}return a}(n.protectedHeader,n.plaintext,r),{protectedHeader:a}=n;if(void 0!==a.iss&&a.iss!==i.iss)throw new t6('replicated "iss" claim header parameter mismatch',i,"iss","mismatch");if(void 0!==a.sub&&a.sub!==i.sub)throw new t6('replicated "sub" claim header parameter mismatch',i,"sub","mismatch");if(void 0!==a.aud&&JSON.stringify(a.aud)!==JSON.stringify(i.aud))throw new t6('replicated "aud" claim header parameter mismatch',i,"aud","mismatch");let o={payload:i,protectedHeader:a};return"function"==typeof t?{...o,key:n.key}:o}let nl=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,nc=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,nu=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,nd=/^[\u0020-\u003A\u003D-\u007E]*$/,np=Object.prototype.toString,nh=((s=function(){}).prototype=Object.create(null),s);function nf(e,t){let r=new nh,n=e.length;if(n<2)return r;let i=t?.decode||nb,a=0;do{let t=e.indexOf("=",a);if(-1===t)break;let o=e.indexOf(";",a),s=-1===o?n:o;if(t>s){a=e.lastIndexOf(";",t-1)+1;continue}let l=ng(e,a,t),c=nm(e,t,l),u=e.slice(l,c);if(void 0===r[u]){let n=ng(e,t+1,s),a=nm(e,s,n),o=i(e.slice(n,a));r[u]=o}a=s+1}while(a<n)return r}function ng(e,t,r){do{let r=e.charCodeAt(t);if(32!==r&&9!==r)return t}while(++t<r)return r}function nm(e,t,r){for(;t>r;){let r=e.charCodeAt(--t);if(32!==r&&9!==r)return t+1}return r}function ny(e,t,r){let n=r?.encode||encodeURIComponent;if(!nl.test(e))throw TypeError(`argument name is invalid: ${e}`);let i=n(t);if(!nc.test(i))throw TypeError(`argument val is invalid: ${t}`);let a=e+"="+i;if(!r)return a;if(void 0!==r.maxAge){if(!Number.isInteger(r.maxAge))throw TypeError(`option maxAge is invalid: ${r.maxAge}`);a+="; Max-Age="+r.maxAge}if(r.domain){if(!nu.test(r.domain))throw TypeError(`option domain is invalid: ${r.domain}`);a+="; Domain="+r.domain}if(r.path){if(!nd.test(r.path))throw TypeError(`option path is invalid: ${r.path}`);a+="; Path="+r.path}if(r.expires){var o;if(o=r.expires,"[object Date]"!==np.call(o)||!Number.isFinite(r.expires.valueOf()))throw TypeError(`option expires is invalid: ${r.expires}`);a+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(a+="; HttpOnly"),r.secure&&(a+="; Secure"),r.partitioned&&(a+="; Partitioned"),r.priority)switch("string"==typeof r.priority?r.priority.toLowerCase():void 0){case"low":a+="; Priority=Low";break;case"medium":a+="; Priority=Medium";break;case"high":a+="; Priority=High";break;default:throw TypeError(`option priority is invalid: ${r.priority}`)}if(r.sameSite)switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:case"strict":a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"none":a+="; SameSite=None";break;default:throw TypeError(`option sameSite is invalid: ${r.sameSite}`)}return a}function nb(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}e.s(["parse",()=>nf,"serialize",()=>ny],52411);var nw=e.i(52411);let{parse:n_}=nw,nv="A256CBC-HS512";async function nE(e){let{token:t={},secret:r,maxAge:n=2592e3,salt:i}=e,a=Array.isArray(r)?r:[r],o=await nx(nv,a[0],i),s=await nt({kty:"oct",k:r7.encode(o)},`sha${o.byteLength<<3}`);return await new r9(t).setProtectedHeader({alg:"dir",enc:nv,kid:s}).setIssuedAt().setExpirationTime((Date.now()/1e3|0)+n).setJti(crypto.randomUUID()).encrypt(o)}async function nS(e){let{token:t,secret:r,salt:n}=e,i=Array.isArray(r)?r:[r];if(!t)return null;let{payload:a}=await ns(t,async({kid:e,enc:t})=>{for(let r of i){let i=await nx(t,r,n);if(void 0===e||e===await nt({kty:"oct",k:r7.encode(i)},`sha${i.byteLength<<3}`))return i}throw Error("no matching decryption secret")},{clockTolerance:15,keyManagementAlgorithms:["dir"],contentEncryptionAlgorithms:[nv,"A256GCM"]});return a}async function nx(e,t,r){let n;switch(e){case"A256CBC-HS512":n=64;break;case"A256GCM":n=32;break;default:throw Error("Unsupported JWT Content Encryption Algorithm")}return await tW("sha256",t,r,`Auth.js Generated Encryption Key (${r})`,n)}async function nk({options:e,paramValue:t,cookieValue:r}){let{url:n,callbacks:i}=e,a=n.origin;return t?a=await i.redirect({url:t,baseUrl:n.origin}):r&&(a=await i.redirect({url:r,baseUrl:n.origin})),{callbackUrl:a,callbackUrlCookie:a!==r?a:void 0}}let nP="\x1b[31m",nA="\x1b[0m",nR={error(e){let t=e instanceof tr?e.type:e.name;if(console.error(`${nP}[auth][error]${nA} ${t}: ${e.message}`),e.cause&&"object"==typeof e.cause&&"err"in e.cause&&e.cause.err instanceof Error){let{err:t,...r}=e.cause;console.error(`${nP}[auth][cause]${nA}:`,t.stack),r&&console.error(`${nP}[auth][details]${nA}:`,JSON.stringify(r,null,2))}else e.stack&&console.error(e.stack.replace(/.*/,"").substring(1))},warn(e){console.warn(`\x1b[33m[auth][warn][${e}]${nA}`,"Read more: https://warnings.authjs.dev")},debug(e,t){console.log(`\x1b[90m[auth][debug]:${nA} ${e}`,JSON.stringify(t,null,2))}};function nT(e){let t={...nR};return e.debug||(t.debug=()=>{}),e.logger?.error&&(t.error=e.logger.error),e.logger?.warn&&(t.warn=e.logger.warn),e.logger?.debug&&(t.debug=e.logger.debug),e.logger??(e.logger=t),t}let nO=["providers","session","csrf","signin","signout","callback","verify-request","error","webauthn-options"],{parse:nC,serialize:nN}=nw;async function nI(e){if(!("body"in e)||!e.body||"POST"!==e.method)return;let t=e.headers.get("content-type");return t?.includes("application/json")?await e.json():t?.includes("application/x-www-form-urlencoded")?Object.fromEntries(new URLSearchParams(await e.text())):void 0}async function n$(e,t){try{if("GET"!==e.method&&"POST"!==e.method)throw new tS("Only GET and POST requests are supported");t.basePath??(t.basePath="/auth");let r=new URL(e.url),{action:n,providerId:i}=function(e,t){let r=e.match(RegExp(`^${t}(.+)`));if(null===r)throw new tS(`Cannot parse action at ${e}`);let n=r.at(-1).replace(/^\//,"").split("/").filter(Boolean);if(1!==n.length&&2!==n.length)throw new tS(`Cannot parse action at ${e}`);let[i,a]=n;if(!nO.includes(i)||a&&!["signin","callback","webauthn-options"].includes(i))throw new tS(`Cannot parse action at ${e}`);return{action:i,providerId:"undefined"==a?void 0:a}}(r.pathname,t.basePath);return{url:r,action:n,providerId:i,method:e.method,headers:Object.fromEntries(e.headers),body:e.body?await nI(e):void 0,cookies:nC(e.headers.get("cookie")??"")??{},error:r.searchParams.get("error")??void 0,query:Object.fromEntries(r.searchParams)}}catch(n){let r=nT(t);r.error(n),r.debug("request",e)}}function nU(e){let t=new Headers(e.headers);e.cookies?.forEach(e=>{let{name:r,value:n,options:i}=e,a=nN(r,n,i);t.has("Set-Cookie")?t.append("Set-Cookie",a):t.set("Set-Cookie",a)});let r=e.body;"application/json"===t.get("content-type")?r=JSON.stringify(e.body):"application/x-www-form-urlencoded"===t.get("content-type")&&(r=new URLSearchParams(e.body).toString());let n=new Response(r,{headers:t,status:e.redirect?302:e.status??200});return e.redirect&&n.headers.set("Location",e.redirect),n}async function nD(e){let t=new TextEncoder().encode(e);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",t))).map(e=>e.toString(16).padStart(2,"0")).join("").toString()}function nj(e){return Array.from(crypto.getRandomValues(new Uint8Array(e))).reduce((e,t)=>e+("0"+t.toString(16)).slice(-2),"")}async function nM({options:e,cookieValue:t,isPost:r,bodyValue:n}){if(t){let[i,a]=t.split("|");if(a===await nD(`${i}${e.secret}`))return{csrfTokenVerified:r&&i===n,csrfToken:i}}let i=nj(32),a=await nD(`${i}${e.secret}`);return{cookie:`${i}|${a}`,csrfToken:i}}function nL(e,t){if(!t)throw new tR(`CSRF token was missing during an action ${e}`)}function nq(e){return null!==e&&"object"==typeof e}function nH(e,...t){if(!t.length)return e;let r=t.shift();if(nq(e)&&nq(r))for(let t in r)nq(r[t])?(nq(e[t])||(e[t]=Array.isArray(r[t])?[]:{}),nH(e[t],r[t])):void 0!==r[t]&&(e[t]=r[t]);return nH(e,...t)}let nF=Symbol("skip-csrf-check"),nV=Symbol("return-type-raw"),nB=Symbol("custom-fetch"),nW=Symbol("conform-internal"),nK=e=>nz({id:e.sub??e.id??crypto.randomUUID(),name:e.name??e.nickname??e.preferred_username,email:e.email,image:e.picture}),nJ=e=>nz({access_token:e.access_token,id_token:e.id_token,refresh_token:e.refresh_token,expires_at:e.expires_at,scope:e.scope,token_type:e.token_type,session_state:e.session_state});function nz(e){let t={};for(let[r,n]of Object.entries(e))void 0!==n&&(t[r]=n);return t}function nG(e,t){if(!e&&t)return;if("string"==typeof e)return{url:new URL(e)};let r=new URL(e?.url??"https://authjs.dev");if(e?.params!=null)for(let[t,n]of Object.entries(e.params))"claims"===t&&(n=JSON.stringify(n)),r.searchParams.set(t,String(n));return{url:r,request:e?.request,conform:e?.conform,...e?.clientPrivateKey?{clientPrivateKey:e?.clientPrivateKey}:null}}let nX={signIn:()=>!0,redirect:({url:e,baseUrl:t})=>e.startsWith("/")?`${t}${e}`:new URL(e).origin===t?e:t,session:({session:e})=>({user:{name:e.user?.name,email:e.user?.email,image:e.user?.image},expires:e.expires?.toISOString?.()??e.expires}),jwt:({token:e})=>e};async function nQ({authOptions:e,providerId:t,action:r,url:n,cookies:i,callbackUrl:a,csrfToken:o,csrfDisabled:s,isPost:l}){var c,u;let d=nT(e),{providers:p,provider:h}=function(e){let{providerId:t,config:r}=e,n=new URL(r.basePath??"/auth",e.url.origin),i=r.providers.map(e=>{let t="function"==typeof e?e():e,{options:i,...a}=t,o=i?.id??a.id,s=nH(a,i,{signinUrl:`${n}/signin/${o}`,callbackUrl:`${n}/callback/${o}`});if("oauth"===t.type||"oidc"===t.type){var l;let e,t,n,a;s.redirectProxyUrl??(s.redirectProxyUrl=i?.redirectProxyUrl??r.redirectProxyUrl);let o=((l=s).issuer&&(l.wellKnown??(l.wellKnown=`${l.issuer}/.well-known/openid-configuration`)),(e=nG(l.authorization,l.issuer))&&!e.url?.searchParams.has("scope")&&e.url.searchParams.set("scope","openid profile email"),t=nG(l.token,l.issuer),n=nG(l.userinfo,l.issuer),a=l.checks??["pkce"],l.redirectProxyUrl&&(a.includes("state")||a.push("state"),l.redirectProxyUrl=`${l.redirectProxyUrl}/callback/${l.id}`),{...l,authorization:e,token:t,checks:a,userinfo:n,profile:l.profile??nK,account:l.account??nJ});return o.authorization?.url.searchParams.get("response_mode")==="form_post"&&delete o.redirectProxyUrl,o[nB]??(o[nB]=i?.[nB]),o}return s}),a=i.find(({id:e})=>e===t);if(t&&!a){let e=i.map(e=>e.id).join(", ");throw Error(`Provider with id "${t}" not found. Available providers: [${e}].`)}return{providers:i,provider:a}}({url:n,providerId:t,config:e}),f=!1;if((h?.type==="oauth"||h?.type==="oidc")&&h.redirectProxyUrl)try{f=new URL(h.redirectProxyUrl).origin===n.origin}catch{throw TypeError(`redirectProxyUrl must be a valid URL. Received: ${h.redirectProxyUrl}`)}let g={debug:!1,pages:{},theme:{colorScheme:"auto",logo:"",brandColor:"",buttonText:""},...e,url:n,action:r,provider:h,cookies:nH(te(e.useSecureCookies??"https:"===n.protocol),e.cookies),providers:p,session:{strategy:e.adapter?"database":"jwt",maxAge:2592e3,updateAge:86400,generateSessionToken:()=>crypto.randomUUID(),...e.session},jwt:{secret:e.secret,maxAge:e.session?.maxAge??2592e3,encode:nE,decode:nS,...e.jwt},events:(c=e.events??{},u=d,Object.keys(c).reduce((e,t)=>(e[t]=async(...e)=>{try{let r=c[t];return await r(...e)}catch(e){u.error(new tl(e))}},e),{})),adapter:function(e,t){if(e)return Object.keys(e).reduce((r,n)=>(r[n]=async(...r)=>{try{t.debug(`adapter_${n}`,{args:r});let i=e[n];return await i(...r)}catch(r){let e=new ti(r);throw t.error(e),e}},r),{})}(e.adapter,d),callbacks:{...nX,...e.callbacks},logger:d,callbackUrl:n.origin,isOnRedirectProxy:f,experimental:{...e.experimental}},m=[];if(s)g.csrfTokenVerified=!0;else{let{csrfToken:e,cookie:t,csrfTokenVerified:r}=await nM({options:g,cookieValue:i?.[g.cookies.csrfToken.name],isPost:l,bodyValue:o});g.csrfToken=e,g.csrfTokenVerified=r,t&&m.push({name:g.cookies.csrfToken.name,value:t,options:g.cookies.csrfToken.options})}let{callbackUrl:y,callbackUrlCookie:b}=await nk({options:g,cookieValue:i?.[g.cookies.callbackUrl.name],paramValue:a});return g.callbackUrl=y,b&&m.push({name:g.cookies.callbackUrl.name,value:b,options:g.cookies.callbackUrl.options}),{options:g,cookies:m}}var nY,nZ,n0,n1,n2,n6,n5,n3,n8,n4,n9,n7,ie,it,ir,ii,ia,io,is,il,ic,iu,id,ip,ih,ig,im,iy,ib={},iw=[],i_=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,iv=Array.isArray;function iE(e,t){for(var r in t)e[r]=t[r];return e}function iS(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function ix(e,t,r,n,i){var a={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==i?++ic:i,__i:-1,__u:0};return null==i&&null!=il.vnode&&il.vnode(a),a}function ik(e){return e.children}function iP(e,t){this.props=e,this.context=t}function iA(e,t){if(null==t)return e.__?iA(e.__,e.__i+1):null;for(var r;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e)return r.__e;return"function"==typeof e.type?iA(e):null}function iR(e){(!e.__d&&(e.__d=!0)&&iu.push(e)&&!iT.__r++||id!==il.debounceRendering)&&((id=il.debounceRendering)||ip)(iT)}function iT(){var e,t,r,n,i,a,o,s;for(iu.sort(ih);e=iu.shift();)e.__d&&(t=iu.length,n=void 0,a=(i=(r=e).__v).__e,o=[],s=[],r.__P&&((n=iE({},i)).__v=i.__v+1,il.vnode&&il.vnode(n),i$(r.__P,n,i,r.__n,r.__P.namespaceURI,32&i.__u?[a]:null,o,null==a?iA(i):a,!!(32&i.__u),s),n.__v=i.__v,n.__.__k[n.__i]=n,function(e,t,r){t.__d=void 0;for(var n=0;n<r.length;n++)iU(r[n],r[++n],r[++n]);il.__c&&il.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){il.__e(e,t.__v)}})}(o,n,s),n.__e!=a&&function e(t){var r,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,r=0;r<t.__k.length;r++)if(null!=(n=t.__k[r])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return e(t)}}(n)),iu.length>t&&iu.sort(ih));iT.__r=0}function iO(e,t,r,n,i,a,o,s,l,c,u){var d,p,h,f,g,m=n&&n.__k||iw,y=t.length;for(r.__d=l,function(e,t,r){var n,i,a,o,s,l=t.length,c=r.length,u=c,d=0;for(e.__k=[],n=0;n<l;n++)null!=(i=t[n])&&"boolean"!=typeof i&&"function"!=typeof i?(o=n+d,(i=e.__k[n]="string"==typeof i||"number"==typeof i||"bigint"==typeof i||i.constructor==String?ix(null,i,null,null,null):iv(i)?ix(ik,{children:i},null,null,null):void 0===i.constructor&&i.__b>0?ix(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i).__=e,i.__b=e.__b+1,a=null,-1!==(s=i.__i=function(e,t,r,n){var i=e.key,a=e.type,o=r-1,s=r+1,l=t[r];if(null===l||l&&i==l.key&&a===l.type&&0==(131072&l.__u))return r;if(n>+(null!=l&&0==(131072&l.__u)))for(;o>=0||s<t.length;){if(o>=0){if((l=t[o])&&0==(131072&l.__u)&&i==l.key&&a===l.type)return o;o--}if(s<t.length){if((l=t[s])&&0==(131072&l.__u)&&i==l.key&&a===l.type)return s;s++}}return -1}(i,r,o,u))&&(u--,(a=r[s])&&(a.__u|=131072)),null==a||null===a.__v?(-1==s&&d--,"function"!=typeof i.type&&(i.__u|=65536)):s!==o&&(s==o-1?d--:s==o+1?d++:(s>o?d--:d++,i.__u|=65536))):i=e.__k[n]=null;if(u)for(n=0;n<c;n++)null!=(a=r[n])&&0==(131072&a.__u)&&(a.__e==e.__d&&(e.__d=iA(a)),function e(t,r,n){var i,a;if(il.unmount&&il.unmount(t),(i=t.ref)&&(i.current&&i.current!==t.__e||iU(i,null,r)),null!=(i=t.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(e){il.__e(e,r)}i.base=i.__P=null}if(i=t.__k)for(a=0;a<i.length;a++)i[a]&&e(i[a],r,n||"function"!=typeof t.type);n||iS(t.__e),t.__c=t.__=t.__e=t.__d=void 0}(a,a))}(r,t,m),l=r.__d,d=0;d<y;d++)null!=(h=r.__k[d])&&(p=-1===h.__i?ib:m[h.__i]||ib,h.__i=d,i$(e,h,p,i,a,o,s,l,c,u),f=h.__e,h.ref&&p.ref!=h.ref&&(p.ref&&iU(p.ref,null,h),u.push(h.ref,h.__c||f,h)),null==g&&null!=f&&(g=f),65536&h.__u||p.__k===h.__k?l=function e(t,r,n){var i,a;if("function"==typeof t.type){for(i=t.__k,a=0;i&&a<i.length;a++)i[a]&&(i[a].__=t,r=e(i[a],r,n));return r}t.__e!=r&&(r&&t.type&&!n.contains(r)&&(r=iA(t)),n.insertBefore(t.__e,r||null),r=t.__e);do r=r&&r.nextSibling;while(null!=r&&8===r.nodeType)return r}(h,l,e):"function"==typeof h.type&&void 0!==h.__d?l=h.__d:f&&(l=f.nextSibling),h.__d=void 0,h.__u&=-196609);r.__d=l,r.__e=g}function iC(e,t,r){"-"===t[0]?e.setProperty(t,null==r?"":r):e[t]=null==r?"":"number"!=typeof r||i_.test(t)?r:r+"px"}function iN(e,t,r,n,i){var a;e:if("style"===t)if("string"==typeof r)e.style.cssText=r;else{if("string"==typeof n&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||iC(e.style,t,"");if(r)for(t in r)n&&r[t]===n[t]||iC(e.style,t,r[t])}else if("o"===t[0]&&"n"===t[1])a=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e||"onFocusOut"===t||"onFocusIn"===t?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=r,r?n?r.u=n.u:(r.u=ig,e.addEventListener(t,a?iy:im,a)):e.removeEventListener(t,a?iy:im,a);else{if("http://www.w3.org/2000/svg"==i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in e)try{e[t]=null==r?"":r;break e}catch(e){}"function"==typeof r||(null==r||!1===r&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,"popover"==t&&1==r?"":r))}}function iI(e){return function(t){if(this.l){var r=this.l[t.type+e];if(null==t.t)t.t=ig++;else if(t.t<r.u)return;return r(il.event?il.event(t):t)}}}function i$(e,t,r,n,i,a,o,s,l,c){var u,d,p,h,f,g,m,y,b,w,_,v,E,S,x,k,P=t.type;if(void 0!==t.constructor)return null;128&r.__u&&(l=!!(32&r.__u),a=[s=t.__e=r.__e]),(u=il.__b)&&u(t);e:if("function"==typeof P)try{if(y=t.props,b="prototype"in P&&P.prototype.render,w=(u=P.contextType)&&n[u.__c],_=u?w?w.props.value:u.__:n,r.__c?m=(d=t.__c=r.__c).__=d.__E:(b?t.__c=d=new P(y,_):(t.__c=d=new iP(y,_),d.constructor=P,d.render=iD),w&&w.sub(d),d.props=y,d.state||(d.state={}),d.context=_,d.__n=n,p=d.__d=!0,d.__h=[],d._sb=[]),b&&null==d.__s&&(d.__s=d.state),b&&null!=P.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=iE({},d.__s)),iE(d.__s,P.getDerivedStateFromProps(y,d.__s))),h=d.props,f=d.state,d.__v=t,p)b&&null==P.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),b&&null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(b&&null==P.getDerivedStateFromProps&&y!==h&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(y,_),!d.__e&&(null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(y,d.__s,_)||t.__v===r.__v)){for(t.__v!==r.__v&&(d.props=y,d.state=d.__s,d.__d=!1),t.__e=r.__e,t.__k=r.__k,t.__k.some(function(e){e&&(e.__=t)}),v=0;v<d._sb.length;v++)d.__h.push(d._sb[v]);d._sb=[],d.__h.length&&o.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(y,d.__s,_),b&&null!=d.componentDidUpdate&&d.__h.push(function(){d.componentDidUpdate(h,f,g)})}if(d.context=_,d.props=y,d.__P=e,d.__e=!1,E=il.__r,S=0,b){for(d.state=d.__s,d.__d=!1,E&&E(t),u=d.render(d.props,d.state,d.context),x=0;x<d._sb.length;x++)d.__h.push(d._sb[x]);d._sb=[]}else do d.__d=!1,E&&E(t),u=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++S<25)d.state=d.__s,null!=d.getChildContext&&(n=iE(iE({},n),d.getChildContext())),b&&!p&&null!=d.getSnapshotBeforeUpdate&&(g=d.getSnapshotBeforeUpdate(h,f)),iO(e,iv(k=null!=u&&u.type===ik&&null==u.key?u.props.children:u)?k:[k],t,r,n,i,a,o,s,l,c),d.base=t.__e,t.__u&=-161,d.__h.length&&o.push(d),m&&(d.__E=d.__=null)}catch(e){if(t.__v=null,l||null!=a){for(t.__u|=l?160:128;s&&8===s.nodeType&&s.nextSibling;)s=s.nextSibling;a[a.indexOf(s)]=null,t.__e=s}else t.__e=r.__e,t.__k=r.__k;il.__e(e,t,r)}else null==a&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=function(e,t,r,n,i,a,o,s,l){var c,u,d,p,h,f,g,m=r.props,y=t.props,b=t.type;if("svg"===b?i="http://www.w3.org/2000/svg":"math"===b?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),null!=a){for(c=0;c<a.length;c++)if((h=a[c])&&"setAttribute"in h==!!b&&(b?h.localName===b:3===h.nodeType)){e=h,a[c]=null;break}}if(null==e){if(null===b)return document.createTextNode(y);e=document.createElementNS(i,b,y.is&&y),s&&(il.__m&&il.__m(t,a),s=!1),a=null}if(null===b)m===y||s&&e.data===y||(e.data=y);else{if(a=a&&is.call(e.childNodes),m=r.props||ib,!s&&null!=a)for(m={},c=0;c<e.attributes.length;c++)m[(h=e.attributes[c]).name]=h.value;for(c in m)if(h=m[c],"children"==c);else if("dangerouslySetInnerHTML"==c)d=h;else if(!(c in y)){if("value"==c&&"defaultValue"in y||"checked"==c&&"defaultChecked"in y)continue;iN(e,c,null,h,i)}for(c in y)h=y[c],"children"==c?p=h:"dangerouslySetInnerHTML"==c?u=h:"value"==c?f=h:"checked"==c?g=h:s&&"function"!=typeof h||m[c]===h||iN(e,c,h,m[c],i);if(u)s||d&&(u.__html===d.__html||u.__html===e.innerHTML)||(e.innerHTML=u.__html),t.__k=[];else if(d&&(e.innerHTML=""),iO(e,iv(p)?p:[p],t,r,n,"foreignObject"===b?"http://www.w3.org/1999/xhtml":i,a,o,a?a[0]:r.__k&&iA(r,0),s,l),null!=a)for(c=a.length;c--;)iS(a[c]);s||(c="value","progress"===b&&null==f?e.removeAttribute("value"):void 0===f||f===e[c]&&("progress"!==b||f)&&("option"!==b||f===m[c])||iN(e,c,f,m[c],i),c="checked",void 0!==g&&g!==e[c]&&iN(e,c,g,m[c],i))}return e}(r.__e,t,r,n,i,a,o,l,c);(u=il.diffed)&&u(t)}function iU(e,t,r){try{if("function"==typeof e){var n="function"==typeof e.__u;n&&e.__u(),n&&null==t||(e.__u=e(t))}else e.current=t}catch(e){il.__e(e,r)}}function iD(e,t,r){return this.constructor(e,r)}is=iw.slice,il={__e:function(e,t,r,n){for(var i,a,o;t=t.__;)if((i=t.__c)&&!i.__)try{if((a=i.constructor)&&null!=a.getDerivedStateFromError&&(i.setState(a.getDerivedStateFromError(e)),o=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,n||{}),o=i.__d),o)return i.__E=i}catch(t){e=t}throw e}},ic=0,iP.prototype.setState=function(e,t){var r;r=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=iE({},this.state),"function"==typeof e&&(e=e(iE({},r),this.props)),e&&iE(r,e),null!=e&&this.__v&&(t&&this._sb.push(t),iR(this))},iP.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),iR(this))},iP.prototype.render=ik,iu=[],ip="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ih=function(e,t){return e.__v.__b-t.__v.__b},iT.__r=0,ig=0,im=iI(!1),iy=iI(!0);var ij=/[\s\n\\/='"\0<>]/,iM=/^(xlink|xmlns|xml)([A-Z])/,iL=/^accessK|^auto[A-Z]|^cell|^ch|^col|cont|cross|dateT|encT|form[A-Z]|frame|hrefL|inputM|maxL|minL|noV|playsI|popoverT|readO|rowS|src[A-Z]|tabI|useM|item[A-Z]/,iq=/^ac|^ali|arabic|basel|cap|clipPath$|clipRule$|color|dominant|enable|fill|flood|font|glyph[^R]|horiz|image|letter|lighting|marker[^WUH]|overline|panose|pointe|paint|rendering|shape|stop|strikethrough|stroke|text[^L]|transform|underline|unicode|units|^v[^i]|^w|^xH/,iH=new Set(["draggable","spellcheck"]),iF=/["&<]/;function iV(e){if(0===e.length||!1===iF.test(e))return e;for(var t=0,r=0,n="",i="";r<e.length;r++){switch(e.charCodeAt(r)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 60:i="&lt;";break;default:continue}r!==t&&(n+=e.slice(t,r)),n+=i,t=r+1}return r!==t&&(n+=e.slice(t,r)),n}var iB={},iW=new Set(["animation-iteration-count","border-image-outset","border-image-slice","border-image-width","box-flex","box-flex-group","box-ordinal-group","column-count","fill-opacity","flex","flex-grow","flex-negative","flex-order","flex-positive","flex-shrink","flood-opacity","font-weight","grid-column","grid-row","line-clamp","line-height","opacity","order","orphans","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","widows","z-index","zoom"]),iK=/[A-Z]/g;function iJ(){this.__d=!0}function iz(e,t,r){if(!e.s){if(r instanceof iZ){if(!r.s)return void(r.o=iz.bind(null,e,t));1&t&&(t=r.s),r=r.v}if(r&&r.then)return void r.then(iz.bind(null,e,t),iz.bind(null,e,2));e.s=t,e.v=r;let n=e.o;n&&n(e)}}var iG,iX,iQ,iY,iZ=function(){function e(){}return e.prototype.then=function(t,r){var n=new e,i=this.s;if(i){var a=1&i?t:r;if(a){try{iz(n,1,a(this.v))}catch(e){iz(n,2,e)}return n}return this}return this.o=function(e){try{var i=e.v;1&e.s?iz(n,1,t?t(i):i):r?iz(n,1,r(i)):iz(n,2,i)}catch(e){iz(n,2,e)}},n},e}(),i0={},i1=[],i2=Array.isArray,i6=Object.assign;function i5(e,t){var r,n=e.type,i=!0;return e.__c?(i=!1,(r=e.__c).state=r.__s):r=new n(e.props,t),e.__c=r,r.__v=e,r.props=e.props,r.context=t,r.__d=!0,null==r.state&&(r.state=i0),null==r.__s&&(r.__s=r.state),n.getDerivedStateFromProps?r.state=i6({},r.state,n.getDerivedStateFromProps(r.props,r.state)):i&&r.componentWillMount?(r.componentWillMount(),r.state=r.__s!==r.state?r.__s:r.state):!i&&r.componentWillUpdate&&r.componentWillUpdate(),iQ&&iQ(e),r.render(r.props,r.state,t)}var i3=new Set(["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"]),i8=0;function i4(e,t,r,n,i,a){t||(t={});var o,s,l=t;"ref"in t&&(o=t.ref,delete t.ref);var c={type:e,props:l,key:r,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--i8,__i:-1,__u:0,__source:i,__self:a};if("function"==typeof e&&(o=e.defaultProps))for(s in o)void 0===l[s]&&(l[s]=o[s]);return il.vnode&&il.vnode(c),c}async function i9(e,t){let r=window.SimpleWebAuthnBrowser;async function n(r){let n=new URL(`${e}/webauthn-options/${t}`);r&&n.searchParams.append("action",r),a().forEach(e=>{n.searchParams.append(e.name,e.value)});let i=await fetch(n);return i.ok?i.json():void console.error("Failed to fetch options",i)}function i(){let e=`#${t}-form`,r=document.querySelector(e);if(!r)throw Error(`Form '${e}' not found`);return r}function a(){return Array.from(i().querySelectorAll("input[data-form-field]"))}async function o(e,t){let r=i();if(e){let t=document.createElement("input");t.type="hidden",t.name="action",t.value=e,r.appendChild(t)}if(t){let e=document.createElement("input");e.type="hidden",e.name="data",e.value=JSON.stringify(t),r.appendChild(e)}return r.submit()}async function s(e,t){let n=await r.startAuthentication(e,t);return await o("authenticate",n)}async function l(e){a().forEach(e=>{if(e.required&&!e.value)throw Error(`Missing required field: ${e.name}`)});let t=await r.startRegistration(e);return await o("register",t)}async function c(){if(!r.browserSupportsWebAuthnAutofill())return;let e=await n("authenticate");if(!e)return void console.error("Failed to fetch option for autofill authentication");try{await s(e.options,!0)}catch(e){console.error(e)}}(async function(){let e=i();if(!r.browserSupportsWebAuthn()){e.style.display="none";return}e&&e.addEventListener("submit",async e=>{e.preventDefault();let t=await n(void 0);if(!t)return void console.error("Failed to fetch options for form submission");if("authenticate"===t.action)try{await s(t.options,!1)}catch(e){console.error(e)}else if("register"===t.action)try{await l(t.options)}catch(e){console.error(e)}})})(),c()}let i7={default:"Unable to sign in.",Signin:"Try signing in with a different account.",OAuthSignin:"Try signing in with a different account.",OAuthCallbackError:"Try signing in with a different account.",OAuthCreateAccount:"Try signing in with a different account.",EmailCreateAccount:"Try signing in with a different account.",Callback:"Try signing in with a different account.",OAuthAccountNotLinked:"To confirm your identity, sign in with the same account you used originally.",EmailSignin:"The e-mail could not be sent.",CredentialsSignin:"Sign in failed. Check the details you provided are correct.",SessionRequired:"Please sign in to access this page."},ae=`:root {
  --border-width: 1px;
  --border-radius: 0.5rem;
  --color-error: #c94b4b;
  --color-info: #157efb;
  --color-info-hover: #0f6ddb;
  --color-info-text: #fff;
}

.__next-auth-theme-auto,
.__next-auth-theme-light {
  --color-background: #ececec;
  --color-background-hover: rgba(236, 236, 236, 0.8);
  --color-background-card: #fff;
  --color-text: #000;
  --color-primary: #444;
  --color-control-border: #bbb;
  --color-button-active-background: #f9f9f9;
  --color-button-active-border: #aaa;
  --color-separator: #ccc;
  --provider-bg: #fff;
  --provider-bg-hover: color-mix(
    in srgb,
    var(--provider-brand-color) 30%,
    #fff
  );
}

.__next-auth-theme-dark {
  --color-background: #161b22;
  --color-background-hover: rgba(22, 27, 34, 0.8);
  --color-background-card: #0d1117;
  --color-text: #fff;
  --color-primary: #ccc;
  --color-control-border: #555;
  --color-button-active-background: #060606;
  --color-button-active-border: #666;
  --color-separator: #444;
  --provider-bg: #161b22;
  --provider-bg-hover: color-mix(
    in srgb,
    var(--provider-brand-color) 30%,
    #000
  );
}

.__next-auth-theme-dark img[src$="42-school.svg"],
  .__next-auth-theme-dark img[src$="apple.svg"],
  .__next-auth-theme-dark img[src$="boxyhq-saml.svg"],
  .__next-auth-theme-dark img[src$="eveonline.svg"],
  .__next-auth-theme-dark img[src$="github.svg"],
  .__next-auth-theme-dark img[src$="mailchimp.svg"],
  .__next-auth-theme-dark img[src$="medium.svg"],
  .__next-auth-theme-dark img[src$="okta.svg"],
  .__next-auth-theme-dark img[src$="patreon.svg"],
  .__next-auth-theme-dark img[src$="ping-id.svg"],
  .__next-auth-theme-dark img[src$="roblox.svg"],
  .__next-auth-theme-dark img[src$="threads.svg"],
  .__next-auth-theme-dark img[src$="wikimedia.svg"] {
    filter: invert(1);
  }

.__next-auth-theme-dark #submitButton {
    background-color: var(--provider-bg, var(--color-info));
  }

@media (prefers-color-scheme: dark) {
  .__next-auth-theme-auto {
    --color-background: #161b22;
    --color-background-hover: rgba(22, 27, 34, 0.8);
    --color-background-card: #0d1117;
    --color-text: #fff;
    --color-primary: #ccc;
    --color-control-border: #555;
    --color-button-active-background: #060606;
    --color-button-active-border: #666;
    --color-separator: #444;
    --provider-bg: #161b22;
    --provider-bg-hover: color-mix(
      in srgb,
      var(--provider-brand-color) 30%,
      #000
    );
  }
    .__next-auth-theme-auto img[src$="42-school.svg"],
    .__next-auth-theme-auto img[src$="apple.svg"],
    .__next-auth-theme-auto img[src$="boxyhq-saml.svg"],
    .__next-auth-theme-auto img[src$="eveonline.svg"],
    .__next-auth-theme-auto img[src$="github.svg"],
    .__next-auth-theme-auto img[src$="mailchimp.svg"],
    .__next-auth-theme-auto img[src$="medium.svg"],
    .__next-auth-theme-auto img[src$="okta.svg"],
    .__next-auth-theme-auto img[src$="patreon.svg"],
    .__next-auth-theme-auto img[src$="ping-id.svg"],
    .__next-auth-theme-auto img[src$="roblox.svg"],
    .__next-auth-theme-auto img[src$="threads.svg"],
    .__next-auth-theme-auto img[src$="wikimedia.svg"] {
      filter: invert(1);
    }
    .__next-auth-theme-auto #submitButton {
      background-color: var(--provider-bg, var(--color-info));
    }
}

html {
  box-sizing: border-box;
}

*,
*:before,
*:after {
  box-sizing: inherit;
  margin: 0;
  padding: 0;
}

body {
  background-color: var(--color-background);
  margin: 0;
  padding: 0;
  font-family:
    ui-sans-serif,
    system-ui,
    -apple-system,
    BlinkMacSystemFont,
    "Segoe UI",
    Roboto,
    "Helvetica Neue",
    Arial,
    "Noto Sans",
    sans-serif,
    "Apple Color Emoji",
    "Segoe UI Emoji",
    "Segoe UI Symbol",
    "Noto Color Emoji";
}

h1 {
  margin-bottom: 1.5rem;
  padding: 0 1rem;
  font-weight: 400;
  color: var(--color-text);
}

p {
  margin-bottom: 1.5rem;
  padding: 0 1rem;
  color: var(--color-text);
}

form {
  margin: 0;
  padding: 0;
}

label {
  font-weight: 500;
  text-align: left;
  margin-bottom: 0.25rem;
  display: block;
  color: var(--color-text);
}

input[type] {
  box-sizing: border-box;
  display: block;
  width: 100%;
  padding: 0.5rem 1rem;
  border: var(--border-width) solid var(--color-control-border);
  background: var(--color-background-card);
  font-size: 1rem;
  border-radius: var(--border-radius);
  color: var(--color-text);
}

p {
  font-size: 1.1rem;
  line-height: 2rem;
}

a.button {
  text-decoration: none;
  line-height: 1rem;
}

a.button:link,
  a.button:visited {
    background-color: var(--color-background);
    color: var(--color-primary);
  }

button,
a.button {
  padding: 0.75rem 1rem;
  color: var(--provider-color, var(--color-primary));
  background-color: var(--provider-bg, var(--color-background));
  border: 1px solid #00000031;
  font-size: 0.9rem;
  height: 50px;
  border-radius: var(--border-radius);
  transition: background-color 250ms ease-in-out;
  font-weight: 300;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

:is(button,a.button):hover {
    background-color: var(--provider-bg-hover, var(--color-background-hover));
    cursor: pointer;
  }

:is(button,a.button):active {
    cursor: pointer;
  }

:is(button,a.button) span {
    color: var(--provider-bg);
  }

#submitButton {
  color: var(--button-text-color, var(--color-info-text));
  background-color: var(--brand-color, var(--color-info));
  width: 100%;
}

#submitButton:hover {
    background-color: var(
      --button-hover-bg,
      var(--color-info-hover)
    ) !important;
  }

a.site {
  color: var(--color-primary);
  text-decoration: none;
  font-size: 1rem;
  line-height: 2rem;
}

a.site:hover {
    text-decoration: underline;
  }

.page {
  position: absolute;
  width: 100%;
  height: 100%;
  display: grid;
  place-items: center;
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

.page > div {
    text-align: center;
  }

.error a.button {
    padding-left: 2rem;
    padding-right: 2rem;
    margin-top: 0.5rem;
  }

.error .message {
    margin-bottom: 1.5rem;
  }

.signin input[type="text"] {
    margin-left: auto;
    margin-right: auto;
    display: block;
  }

.signin hr {
    display: block;
    border: 0;
    border-top: 1px solid var(--color-separator);
    margin: 2rem auto 1rem auto;
    overflow: visible;
  }

.signin hr::before {
      content: "or";
      background: var(--color-background-card);
      color: #888;
      padding: 0 0.4rem;
      position: relative;
      top: -0.7rem;
    }

.signin .error {
    background: #f5f5f5;
    font-weight: 500;
    border-radius: 0.3rem;
    background: var(--color-error);
  }

.signin .error p {
      text-align: left;
      padding: 0.5rem 1rem;
      font-size: 0.9rem;
      line-height: 1.2rem;
      color: var(--color-info-text);
    }

.signin > div,
  .signin form {
    display: block;
  }

.signin > div input[type], .signin form input[type] {
      margin-bottom: 0.5rem;
    }

.signin > div button, .signin form button {
      width: 100%;
    }

.signin .provider + .provider {
    margin-top: 1rem;
  }

.logo {
  display: inline-block;
  max-width: 150px;
  margin: 1.25rem 0;
  max-height: 70px;
}

.card {
  background-color: var(--color-background-card);
  border-radius: 1rem;
  padding: 1.25rem 2rem;
}

.card .header {
    color: var(--color-primary);
  }

.card input[type]::-moz-placeholder {
    color: color-mix(
      in srgb,
      var(--color-text) 20%,
      var(--color-button-active-background)
    );
  }

.card input[type]::placeholder {
    color: color-mix(
      in srgb,
      var(--color-text) 20%,
      var(--color-button-active-background)
    );
  }

.card input[type] {
    background: color-mix(in srgb, var(--color-background-card) 95%, black);
  }

.section-header {
  color: var(--color-text);
}

@media screen and (min-width: 450px) {
  .card {
    margin: 2rem 0;
    width: 368px;
  }
}

@media screen and (max-width: 450px) {
  .card {
    margin: 1rem 0;
    width: 343px;
  }
}
`;function at({html:e,title:t,status:r,cookies:n,theme:i,headTags:a}){return{cookies:n,status:r,headers:{"Content-Type":"text/html"},body:`<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><style>${ae}</style><title>${t}</title>${a??""}</head><body class="__next-auth-theme-${i?.colorScheme??"auto"}"><div class="page">${function(e,t,r){var n=il.__s;il.__s=!0,iG=il.__b,iX=il.diffed,iQ=il.__r,iY=il.unmount;var i=function(e,t,r){var n,i,a,o={};for(a in t)"key"==a?n=t[a]:"ref"==a?i=t[a]:o[a]=t[a];if(arguments.length>2&&(o.children=arguments.length>3?is.call(arguments,2):r),"function"==typeof e&&null!=e.defaultProps)for(a in e.defaultProps)void 0===o[a]&&(o[a]=e.defaultProps[a]);return ix(e,o,n,i,null)}(ik,null);i.__k=[e];try{var a=function e(t,r,n,i,a,o,s){if(null==t||!0===t||!1===t||""===t)return"";var l=typeof t;if("object"!=l)return"function"==l?"":"string"==l?iV(t):t+"";if(i2(t)){var c,u="";a.__k=t;for(var d=0;d<t.length;d++){var p=t[d];if(null!=p&&"boolean"!=typeof p){var h,f=e(p,r,n,i,a,o,s);"string"==typeof f?u+=f:(c||(c=[]),u&&c.push(u),u="",i2(f)?(h=c).push.apply(h,f):c.push(f))}}return c?(u&&c.push(u),c):u}if(void 0!==t.constructor)return"";t.__=a,iG&&iG(t);var g=t.type,m=t.props;if("function"==typeof g){var y,b,w,_=r;if(g===ik){if("tpl"in m){for(var v="",E=0;E<m.tpl.length;E++)if(v+=m.tpl[E],m.exprs&&E<m.exprs.length){var S=m.exprs[E];if(null==S)continue;"object"==typeof S&&(void 0===S.constructor||i2(S))?v+=e(S,r,n,i,t,o,s):v+=S}return v}if("UNSTABLE_comment"in m)return"<!--"+iV(m.UNSTABLE_comment)+"-->";b=m.children}else{if(null!=(y=g.contextType)){var x=r[y.__c];_=x?x.props.value:y.__}var k=g.prototype&&"function"==typeof g.prototype.render;if(k)b=i5(t,_),w=t.__c;else{t.__c=w={__v:t,context:_,props:t.props,setState:iJ,forceUpdate:iJ,__d:!0,__h:[]};for(var P=0;w.__d&&P++<25;)w.__d=!1,iQ&&iQ(t),b=g.call(w,m,_);w.__d=!0}if(null!=w.getChildContext&&(r=i6({},r,w.getChildContext())),k&&il.errorBoundaries&&(g.getDerivedStateFromError||w.componentDidCatch)){b=null!=b&&b.type===ik&&null==b.key&&null==b.props.tpl?b.props.children:b;try{return e(b,r,n,i,t,o,s)}catch(a){return g.getDerivedStateFromError&&(w.__s=g.getDerivedStateFromError(a)),w.componentDidCatch&&w.componentDidCatch(a,i0),w.__d?(b=i5(t,r),null!=(w=t.__c).getChildContext&&(r=i6({},r,w.getChildContext())),e(b=null!=b&&b.type===ik&&null==b.key&&null==b.props.tpl?b.props.children:b,r,n,i,t,o,s)):""}finally{iX&&iX(t),t.__=null,iY&&iY(t)}}}b=null!=b&&b.type===ik&&null==b.key&&null==b.props.tpl?b.props.children:b;try{var A=e(b,r,n,i,t,o,s);return iX&&iX(t),t.__=null,il.unmount&&il.unmount(t),A}catch(a){if(!o&&s&&s.onError){var R=s.onError(a,t,function(a){return e(a,r,n,i,t,o,s)});if(void 0!==R)return R;var T=il.__e;return T&&T(a,t),""}if(!o||!a||"function"!=typeof a.then)throw a;return a.then(function a(){try{return e(b,r,n,i,t,o,s)}catch(l){if(!l||"function"!=typeof l.then)throw l;return l.then(function(){return e(b,r,n,i,t,o,s)},a)}})}}var O,C="<"+g,N="";for(var I in m){var $=m[I];if("function"!=typeof $||"class"===I||"className"===I){switch(I){case"children":O=$;continue;case"key":case"ref":case"__self":case"__source":continue;case"htmlFor":if("for"in m)continue;I="for";break;case"className":if("class"in m)continue;I="class";break;case"defaultChecked":I="checked";break;case"defaultSelected":I="selected";break;case"defaultValue":case"value":switch(I="value",g){case"textarea":O=$;continue;case"select":i=$;continue;case"option":i!=$||"selected"in m||(C+=" selected")}break;case"dangerouslySetInnerHTML":N=$&&$.__html;continue;case"style":"object"==typeof $&&($=function(e){var t="";for(var r in e){var n=e[r];if(null!=n&&""!==n){var i="-"==r[0]?r:iB[r]||(iB[r]=r.replace(iK,"-$&").toLowerCase()),a=";";"number"!=typeof n||i.startsWith("--")||iW.has(i)||(a="px;"),t=t+i+":"+n+a}}return t||void 0}($));break;case"acceptCharset":I="accept-charset";break;case"httpEquiv":I="http-equiv";break;default:if(iM.test(I))I=I.replace(iM,"$1:$2").toLowerCase();else{if(ij.test(I))continue;("-"===I[4]||iH.has(I))&&null!=$?$+="":n?iq.test(I)&&(I="panose1"===I?"panose-1":I.replace(/([A-Z])/g,"-$1").toLowerCase()):iL.test(I)&&(I=I.toLowerCase())}}null!=$&&!1!==$&&(C=!0===$||""===$?C+" "+I:C+" "+I+'="'+("string"==typeof $?iV($):$+"")+'"')}}if(ij.test(g))throw Error(g+" is not a valid HTML tag name in "+C+">");if(N||("string"==typeof O?N=iV(O):null!=O&&!1!==O&&!0!==O&&(N=e(O,r,"svg"===g||"foreignObject"!==g&&n,i,t,o,s))),iX&&iX(t),t.__=null,iY&&iY(t),!N&&i3.has(g))return C+"/>";var U="</"+g+">",D=C+">";return i2(N)?[D].concat(N,[U]):"string"!=typeof N?[D,N,U]:D+N+U}(e,i0,!1,void 0,i,!1,void 0);return i2(a)?a.join(""):a}catch(e){if(e.then)throw Error('Use "renderToStringAsync" for suspenseful rendering.');throw e}finally{il.__c&&il.__c(e,i1),il.__s=n,i1.length=0}}(e)}</div></body></html>`}}function ar(e){let{url:t,theme:r,query:n,cookies:i,pages:a,providers:o}=e;return{csrf:(e,t,r)=>e?(t.logger.warn("csrf-disabled"),r.push({name:t.cookies.csrfToken.name,value:"",options:{...t.cookies.csrfToken.options,maxAge:0}}),{status:404,cookies:r}):{headers:{"Content-Type":"application/json","Cache-Control":"private, no-cache, no-store",Expires:"0",Pragma:"no-cache"},body:{csrfToken:t.csrfToken},cookies:r},providers:e=>({headers:{"Content-Type":"application/json"},body:e.reduce((e,{id:t,name:r,type:n,signinUrl:i,callbackUrl:a})=>(e[t]={id:t,name:r,type:n,signinUrl:i,callbackUrl:a},e),{})}),signin(t,s){if(t)throw new tS("Unsupported action");if(a?.signIn){let t=`${a.signIn}${a.signIn.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:e.callbackUrl??"/"})}`;return s&&(t=`${t}&${new URLSearchParams({error:s})}`),{redirect:t,cookies:i}}let l=o?.find(e=>"webauthn"===e.type&&e.enableConditionalUI&&!!e.simpleWebAuthnBrowserVersion),c="";if(l){let{simpleWebAuthnBrowserVersion:e}=l;c=`<script src="https://unpkg.com/@simplewebauthn/browser@${e}/dist/bundle/index.umd.min.js" crossorigin="anonymous"></script>`}return at({cookies:i,theme:r,html:function(e){let{csrfToken:t,providers:r=[],callbackUrl:n,theme:i,email:a,error:o}=e;"undefined"!=typeof document&&i?.brandColor&&document.documentElement.style.setProperty("--brand-color",i.brandColor),"undefined"!=typeof document&&i?.buttonText&&document.documentElement.style.setProperty("--button-text-color",i.buttonText);let s=o&&(i7[o]??i7.default),l=r.find(e=>"webauthn"===e.type&&e.enableConditionalUI)?.id;return i4("div",{className:"signin",children:[i?.brandColor&&i4("style",{dangerouslySetInnerHTML:{__html:`:root {--brand-color: ${i.brandColor}}`}}),i?.buttonText&&i4("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${i.buttonText}
        }
      `}}),i4("div",{className:"card",children:[s&&i4("div",{className:"error",children:i4("p",{children:s})}),i?.logo&&i4("img",{src:i.logo,alt:"Logo",className:"logo"}),r.map((e,i)=>{let o,s,l;("oauth"===e.type||"oidc"===e.type)&&({bg:o="#fff",brandColor:s,logo:l=`https://authjs.dev/img/providers/${e.id}.svg`}=e.style??{});let c=s??o??"#fff";return i4("div",{className:"provider",children:["oauth"===e.type||"oidc"===e.type?i4("form",{action:e.signinUrl,method:"POST",children:[i4("input",{type:"hidden",name:"csrfToken",value:t}),n&&i4("input",{type:"hidden",name:"callbackUrl",value:n}),i4("button",{type:"submit",className:"button",style:{"--provider-brand-color":c},tabIndex:0,children:[i4("span",{style:{filter:"invert(1) grayscale(1) brightness(1.3) contrast(9000)","mix-blend-mode":"luminosity",opacity:.95},children:["Sign in with ",e.name]}),l&&i4("img",{loading:"lazy",height:24,src:l})]})]}):null,("email"===e.type||"credentials"===e.type||"webauthn"===e.type)&&i>0&&"email"!==r[i-1].type&&"credentials"!==r[i-1].type&&"webauthn"!==r[i-1].type&&i4("hr",{}),"email"===e.type&&i4("form",{action:e.signinUrl,method:"POST",children:[i4("input",{type:"hidden",name:"csrfToken",value:t}),i4("label",{className:"section-header",htmlFor:`input-email-for-${e.id}-provider`,children:"Email"}),i4("input",{id:`input-email-for-${e.id}-provider`,autoFocus:!0,type:"email",name:"email",value:a,placeholder:"email@example.com",required:!0}),i4("button",{id:"submitButton",type:"submit",tabIndex:0,children:["Sign in with ",e.name]})]}),"credentials"===e.type&&i4("form",{action:e.callbackUrl,method:"POST",children:[i4("input",{type:"hidden",name:"csrfToken",value:t}),Object.keys(e.credentials).map(t=>i4("div",{children:[i4("label",{className:"section-header",htmlFor:`input-${t}-for-${e.id}-provider`,children:e.credentials[t].label??t}),i4("input",{name:t,id:`input-${t}-for-${e.id}-provider`,type:e.credentials[t].type??"text",placeholder:e.credentials[t].placeholder??"",...e.credentials[t]})]},`input-group-${e.id}`)),i4("button",{id:"submitButton",type:"submit",tabIndex:0,children:["Sign in with ",e.name]})]}),"webauthn"===e.type&&i4("form",{action:e.callbackUrl,method:"POST",id:`${e.id}-form`,children:[i4("input",{type:"hidden",name:"csrfToken",value:t}),Object.keys(e.formFields).map(t=>i4("div",{children:[i4("label",{className:"section-header",htmlFor:`input-${t}-for-${e.id}-provider`,children:e.formFields[t].label??t}),i4("input",{name:t,"data-form-field":!0,id:`input-${t}-for-${e.id}-provider`,type:e.formFields[t].type??"text",placeholder:e.formFields[t].placeholder??"",...e.formFields[t]})]},`input-group-${e.id}`)),i4("button",{id:`submitButton-${e.id}`,type:"submit",tabIndex:0,children:["Sign in with ",e.name]})]}),("email"===e.type||"credentials"===e.type||"webauthn"===e.type)&&i+1<r.length&&i4("hr",{})]},e.id)})]}),l&&i4(ik,{children:i4("script",{dangerouslySetInnerHTML:{__html:`
const currentURL = window.location.href;
const authURL = currentURL.substring(0, currentURL.lastIndexOf('/'));
(${i9})(authURL, "${l}");
`}})})]})}({csrfToken:e.csrfToken,providers:e.providers?.filter(e=>["email","oauth","oidc"].includes(e.type)||"credentials"===e.type&&e.credentials||"webauthn"===e.type&&e.formFields||!1),callbackUrl:e.callbackUrl,theme:e.theme,error:s,...n}),title:"Sign In",headTags:c})},signout:()=>a?.signOut?{redirect:a.signOut,cookies:i}:at({cookies:i,theme:r,html:function(e){let{url:t,csrfToken:r,theme:n}=e;return i4("div",{className:"signout",children:[n?.brandColor&&i4("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${n.brandColor}
        }
      `}}),n?.buttonText&&i4("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${n.buttonText}
        }
      `}}),i4("div",{className:"card",children:[n?.logo&&i4("img",{src:n.logo,alt:"Logo",className:"logo"}),i4("h1",{children:"Signout"}),i4("p",{children:"Are you sure you want to sign out?"}),i4("form",{action:t?.toString(),method:"POST",children:[i4("input",{type:"hidden",name:"csrfToken",value:r}),i4("button",{id:"submitButton",type:"submit",children:"Sign out"})]})]})]})}({csrfToken:e.csrfToken,url:t,theme:r}),title:"Sign Out"}),verifyRequest:e=>a?.verifyRequest?{redirect:`${a.verifyRequest}${t?.search??""}`,cookies:i}:at({cookies:i,theme:r,html:function(e){let{url:t,theme:r}=e;return i4("div",{className:"verify-request",children:[r.brandColor&&i4("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${r.brandColor}
        }
      `}}),i4("div",{className:"card",children:[r.logo&&i4("img",{src:r.logo,alt:"Logo",className:"logo"}),i4("h1",{children:"Check your email"}),i4("p",{children:"A sign in link has been sent to your email address."}),i4("p",{children:i4("a",{className:"site",href:t.origin,children:t.host})})]})]})}({url:t,theme:r,...e}),title:"Verify Request"}),error:e=>a?.error?{redirect:`${a.error}${a.error.includes("?")?"&":"?"}error=${e}`,cookies:i}:at({cookies:i,theme:r,...function(e){let{url:t,error:r="default",theme:n}=e,i=`${t}/signin`,a={default:{status:200,heading:"Error",message:i4("p",{children:i4("a",{className:"site",href:t?.origin,children:t?.host})})},Configuration:{status:500,heading:"Server error",message:i4("div",{children:[i4("p",{children:"There is a problem with the server configuration."}),i4("p",{children:"Check the server logs for more information."})]})},AccessDenied:{status:403,heading:"Access Denied",message:i4("div",{children:[i4("p",{children:"You do not have permission to sign in."}),i4("p",{children:i4("a",{className:"button",href:i,children:"Sign in"})})]})},Verification:{status:403,heading:"Unable to sign in",message:i4("div",{children:[i4("p",{children:"The sign in link is no longer valid."}),i4("p",{children:"It may have been used already or it may have expired."})]}),signin:i4("a",{className:"button",href:i,children:"Sign in"})}},{status:o,heading:s,message:l,signin:c}=a[r]??a.default;return{status:o,html:i4("div",{className:"error",children:[n?.brandColor&&i4("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${n?.brandColor}
        }
      `}}),i4("div",{className:"card",children:[n?.logo&&i4("img",{src:n?.logo,alt:"Logo",className:"logo"}),i4("h1",{children:s}),i4("div",{className:"message",children:l}),c]})]})}}({url:t,theme:r,error:e}),title:"Error"})}}function an(e,t=Date.now()){return new Date(t+1e3*e)}async function ai(e,t,r,n){if(!r?.providerAccountId||!r.type)throw Error("Missing or invalid provider account");if(!["email","oauth","oidc","webauthn"].includes(r.type))throw Error("Provider not supported");let{adapter:i,jwt:a,events:o,session:{strategy:s,generateSessionToken:l}}=n;if(!i)return{user:t,account:r};let c=r,{createUser:u,updateUser:d,getUser:p,getUserByAccount:h,getUserByEmail:f,linkAccount:g,createSession:m,getSessionAndUser:y,deleteSession:b}=i,w=null,_=null,v=!1,E="jwt"===s;if(e)if(E)try{let t=n.cookies.sessionToken.name;(w=await a.decode({...a,token:e,salt:t}))&&"sub"in w&&w.sub&&(_=await p(w.sub))}catch{}else{let t=await y(e);t&&(w=t.session,_=t.user)}if("email"===c.type){let r=await f(t.email);return r?(_?.id!==r.id&&!E&&e&&await b(e),_=await d({id:r.id,emailVerified:new Date}),await o.updateUser?.({user:_})):(_=await u({...t,emailVerified:new Date}),await o.createUser?.({user:_}),v=!0),{session:w=E?{}:await m({sessionToken:l(),userId:_.id,expires:an(n.session.maxAge)}),user:_,isNewUser:v}}if("webauthn"===c.type){let e=await h({providerAccountId:c.providerAccountId,provider:c.provider});if(e){if(_){if(e.id===_.id){let e={...c,userId:_.id};return{session:w,user:_,isNewUser:v,account:e}}throw new tI("The account is already associated with another user",{provider:c.provider})}w=E?{}:await m({sessionToken:l(),userId:e.id,expires:an(n.session.maxAge)});let t={...c,userId:e.id};return{session:w,user:e,isNewUser:v,account:t}}{if(_){await g({...c,userId:_.id}),await o.linkAccount?.({user:_,account:c,profile:t});let e={...c,userId:_.id};return{session:w,user:_,isNewUser:v,account:e}}if(t.email?await f(t.email):null)throw new tI("Another account already exists with the same e-mail address",{provider:c.provider});_=await u({...t}),await o.createUser?.({user:_}),await g({...c,userId:_.id}),await o.linkAccount?.({user:_,account:c,profile:t}),w=E?{}:await m({sessionToken:l(),userId:_.id,expires:an(n.session.maxAge)});let e={...c,userId:_.id};return{session:w,user:_,isNewUser:!0,account:e}}}let S=await h({providerAccountId:c.providerAccountId,provider:c.provider});if(S){if(_){if(S.id===_.id)return{session:w,user:_,isNewUser:v};throw new tb("The account is already associated with another user",{provider:c.provider})}return{session:w=E?{}:await m({sessionToken:l(),userId:S.id,expires:an(n.session.maxAge)}),user:S,isNewUser:v}}{let{provider:e}=n,{type:r,provider:i,providerAccountId:a,userId:s,...d}=c;if(c=Object.assign(e.account(d)??{},{providerAccountId:a,provider:i,type:r,userId:s}),_)return await g({...c,userId:_.id}),await o.linkAccount?.({user:_,account:c,profile:t}),{session:w,user:_,isNewUser:v};let p=t.email?await f(t.email):null;if(p){let e=n.provider;if(e?.allowDangerousEmailAccountLinking)_=p,v=!1;else throw new tb("Another account already exists with the same e-mail address",{provider:c.provider})}else _=await u({...t,emailVerified:null}),v=!0;return await o.createUser?.({user:_}),await g({...c,userId:_.id}),await o.linkAccount?.({user:_,account:c,profile:t}),{session:w=E?{}:await m({sessionToken:l(),userId:_.id,expires:an(n.session.maxAge)}),user:_,isNewUser:v}}}function aa(e,t){if(null==e)return!1;try{return e instanceof t||Object.getPrototypeOf(e)[Symbol.toStringTag]===t.prototype[Symbol.toStringTag]}catch{return!1}}"undefined"!=typeof navigator&&navigator.userAgent?.startsWith?.("Mozilla/5.0 ")||(n="oauth4webapi/v3.8.2");let ao="ERR_INVALID_ARG_VALUE",as="ERR_INVALID_ARG_TYPE";function al(e,t,r){let n=TypeError(e,{cause:r});return Object.assign(n,{code:t}),n}let ac=Symbol(),au=Symbol(),ad=Symbol(),ap=Symbol(),ah=Symbol(),af=Symbol();Symbol();let ag=new TextEncoder,am=new TextDecoder;function ay(e){return"string"==typeof e?ag.encode(e):am.decode(e)}function ab(e){return"string"==typeof e?a(e):i(e)}i=Uint8Array.prototype.toBase64?e=>(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e.toBase64({alphabet:"base64url",omitPadding:!0})):e=>{e instanceof ArrayBuffer&&(e=new Uint8Array(e));let t=[];for(let r=0;r<e.byteLength;r+=32768)t.push(String.fromCharCode.apply(null,e.subarray(r,r+32768)));return btoa(t.join("")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},a=Uint8Array.fromBase64?e=>{try{return Uint8Array.fromBase64(e,{alphabet:"base64url"})}catch(e){throw al("The input to be decoded is not correctly encoded.",ao,e)}}:e=>{try{let t=atob(e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"")),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r}catch(e){throw al("The input to be decoded is not correctly encoded.",ao,e)}};class aw extends Error{code;constructor(e,t){super(e,t),this.name=this.constructor.name,this.code=o_,Error.captureStackTrace?.(this,this.constructor)}}class a_ extends Error{code;constructor(e,t){super(e,t),this.name=this.constructor.name,t?.code&&(this.code=t?.code),Error.captureStackTrace?.(this,this.constructor)}}function av(e,t,r){return new a_(e,{code:t,cause:r})}function aE(e){return!(null===e||"object"!=typeof e||Array.isArray(e))}function aS(e){aa(e,Headers)&&(e=Object.fromEntries(e.entries()));let t=new Headers(e??{});if(n&&!t.has("user-agent")&&t.set("user-agent",n),t.has("authorization"))throw al('"options.headers" must not include the "authorization" header name',ao);return t}function ax(e,t){if(void 0!==t){if("function"==typeof t&&(t=t(e.href)),!(t instanceof AbortSignal))throw al('"options.signal" must return or be an instance of AbortSignal',as);return t}}function ak(e){return e.includes("//")?e.replace("//","/"):e}async function aP(e,t,r,n){if(!(e instanceof URL))throw al(`"${t}" must be an instance of URL`,as);aF(e,n?.[ac]!==!0);let i=r(new URL(e.href)),a=aS(n?.headers);return a.set("accept","application/json"),(n?.[ap]||fetch)(i.href,{body:void 0,headers:Object.fromEntries(a.entries()),method:"GET",redirect:"manual",signal:ax(i,n?.signal)})}async function aA(e,t){return aP(e,"issuerIdentifier",e=>{switch(t?.algorithm){case void 0:case"oidc":e.pathname=ak(`${e.pathname}/.well-known/openid-configuration`);break;case"oauth2":!function(e,t,r=!1){"/"===e.pathname?e.pathname=t:e.pathname=ak(`${t}/${r?e.pathname:e.pathname.replace(/(\/)$/,"")}`)}(e,".well-known/oauth-authorization-server");break;default:throw al('"options.algorithm" must be "oidc" (default), or "oauth2"',ao)}return e},t)}function aR(e,t,r,n,i){try{if("number"!=typeof e||!Number.isFinite(e))throw al(`${r} must be a number`,as,i);if(e>0)return;if(t){if(0!==e)throw al(`${r} must be a non-negative number`,ao,i);return}throw al(`${r} must be a positive number`,ao,i)}catch(e){if(n)throw av(e.message,n,i);throw e}}function aT(e,t,r,n){try{if("string"!=typeof e)throw al(`${t} must be a string`,as,n);if(0===e.length)throw al(`${t} must not be empty`,ao,n)}catch(e){if(r)throw av(e.message,r,n);throw e}}async function aO(e,t){if(!(e instanceof URL)&&e!==oF)throw al('"expectedIssuerIdentifier" must be an instance of URL',as);if(!aa(t,Response))throw al('"response" must be an instance of Response',as);if(200!==t.status)throw av('"response" is not a conform Authorization Server Metadata response (unexpected HTTP status code)',oP,t);o$(t);let r=await oH(t);if(aT(r.issuer,'"response" body "issuer" property',ox,{body:r}),e!==oF&&new URL(r.issuer).href!==e.href)throw av('"response" body "issuer" property does not match the expected value',oC,{expected:e.href,body:r,attribute:"issuer"});return r}function aC(e){var t=e,r="application/json";if(a3(t)!==r)throw function(e,...t){let r='"response" content-type must be ';if(t.length>2){let e=t.pop();r+=`${t.join(", ")}, or ${e}`}else 2===t.length?r+=`${t[0]} or ${t[1]}`:r+=t[0];return av(r,ok,e)}(t,r)}function aN(){return ab(crypto.getRandomValues(new Uint8Array(32)))}async function aI(e){return aT(e,"codeVerifier"),ab(await crypto.subtle.digest("SHA-256",ay(e)))}function a$(e){let t=e?.[au];return"number"==typeof t&&Number.isFinite(t)?t:0}function aU(e){let t=e?.[ad];return"number"==typeof t&&Number.isFinite(t)&&-1!==Math.sign(t)?t:30}function aD(){return Math.floor(Date.now()/1e3)}function aj(e){if("object"!=typeof e||null===e)throw al('"as" must be an object',as);aT(e.issuer,'"as.issuer"')}function aM(e){if("object"!=typeof e||null===e)throw al('"client" must be an object',as);aT(e.client_id,'"client.client_id"')}function aL(e,t){let r=aD()+a$(t);return{jti:aN(),aud:e.issuer,exp:r+60,iat:r,nbf:r,iss:t.client_id,sub:t.client_id}}async function aq(e,t,r){if(!r.usages.includes("sign"))throw al('CryptoKey instances used for signing assertions must include "sign" in their "usages"',ao);let n=`${ab(ay(JSON.stringify(e)))}.${ab(ay(JSON.stringify(t)))}`,i=ab(await crypto.subtle.sign(function(e){switch(e.algorithm.name){case"ECDSA":return{name:e.algorithm.name,hash:function(e){let{algorithm:t}=e;switch(t.namedCurve){case"P-256":return"SHA-256";case"P-384":return"SHA-384";case"P-521":return"SHA-512";default:throw new aw("unsupported ECDSA namedCurve",{cause:e})}}(e)};case"RSA-PSS":switch(oU(e),e.algorithm.hash.name){case"SHA-256":case"SHA-384":case"SHA-512":return{name:e.algorithm.name,saltLength:parseInt(e.algorithm.hash.name.slice(-3),10)>>3};default:throw new aw("unsupported RSA-PSS hash name",{cause:e})}case"RSASSA-PKCS1-v1_5":return oU(e),e.algorithm.name;case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":case"Ed25519":return e.algorithm.name}throw new aw("unsupported CryptoKey algorithm name",{cause:e})}(r),r,ay(n)));return`${n}.${i}`}let aH=URL.parse?(e,t)=>URL.parse(e,t):(e,t)=>{try{return new URL(e,t)}catch{return null}};function aF(e,t){if(t&&"https:"!==e.protocol)throw av("only requests to HTTPS are allowed",oA,e);if("https:"!==e.protocol&&"http:"!==e.protocol)throw av("only HTTP and HTTPS requests are allowed",oR,e)}function aV(e,t,r,n){let i;if("string"!=typeof e||!(i=aH(e)))throw av(`authorization server metadata does not contain a valid ${r?`"as.mtls_endpoint_aliases.${t}"`:`"as.${t}"`}`,void 0===e?oN:oI,{attribute:r?`mtls_endpoint_aliases.${t}`:t});return aF(i,n),i}function aB(e,t,r,n){return r&&e.mtls_endpoint_aliases&&t in e.mtls_endpoint_aliases?aV(e.mtls_endpoint_aliases[t],t,r,n):aV(e[t],t,r,n)}class aW extends Error{cause;code;error;status;error_description;response;constructor(e,t){super(e,t),this.name=this.constructor.name,this.code=ow,this.cause=t.cause,this.error=t.cause.error,this.status=t.response.status,this.error_description=t.cause.error_description,Object.defineProperty(this,"response",{enumerable:!1,value:t.response}),Error.captureStackTrace?.(this,this.constructor)}}class aK extends Error{cause;code;error;error_description;constructor(e,t){super(e,t),this.name=this.constructor.name,this.code=ov,this.cause=t.cause,this.error=t.cause.get("error"),this.error_description=t.cause.get("error_description")??void 0,Error.captureStackTrace?.(this,this.constructor)}}class aJ extends Error{cause;code;response;status;constructor(e,t){super(e,t),this.name=this.constructor.name,this.code=ob,this.cause=t.cause,this.status=t.response.status,this.response=t.response,Object.defineProperty(this,"response",{enumerable:!1}),Error.captureStackTrace?.(this,this.constructor)}}let az="[a-zA-Z0-9!#$%&\\'\\*\\+\\-\\.\\^_`\\|~]+",aG=RegExp("^[,\\s]*("+az+")\\s(.*)"),aX=RegExp("^[,\\s]*("+az+')\\s*=\\s*"((?:[^"\\\\]|\\\\.)*)"[,\\s]*(.*)'),aQ=RegExp("^[,\\s]*"+("("+az+")\\s*=\\s*(")+az+")[,\\s]*(.*)"),aY=RegExp("^([a-zA-Z0-9\\-\\._\\~\\+\\/]+[=]{0,2})(?:$|[,\\s])(.*)");async function aZ(e){if(e.status>399&&e.status<500){o$(e),aC(e);try{let t=await e.clone().json();if(aE(t)&&"string"==typeof t.error&&t.error.length)return t}catch{}}}async function a0(e,t,r){if(e.status!==t){let t;if(on(e),t=await aZ(e))throw await e.body?.cancel(),new aW("server responded with an error in the response body",{cause:t,response:e});throw av(`"response" is not a conform ${r} response (unexpected HTTP status code)`,oP,e)}}function a1(e){if(!ol.has(e))throw al('"options.DPoP" is not a valid DPoPHandle',ao)}async function a2(e,t,r,n,i,a){if(aT(e,'"accessToken"'),!(r instanceof URL))throw al('"url" must be an instance of URL',as);aF(r,a?.[ac]!==!0),n=aS(n),a?.DPoP&&(a1(a.DPoP),await a.DPoP.addProof(r,n,t.toUpperCase(),e)),n.set("authorization",`${n.has("dpop")?"DPoP":"Bearer"} ${e}`);let o=await (a?.[ap]||fetch)(r.href,{body:i,headers:Object.fromEntries(n.entries()),method:t,redirect:"manual",signal:ax(r,a?.signal)});return a?.DPoP?.cacheNonce(o,r),o}async function a6(e,t,r,n){aj(e),aM(t);let i=aB(e,"userinfo_endpoint",t.use_mtls_endpoint_aliases,n?.[ac]!==!0),a=aS(n?.headers);return t.userinfo_signed_response_alg?a.set("accept","application/jwt"):(a.set("accept","application/json"),a.append("accept","application/jwt")),a2(r,"GET",i,a,null,{...n,[au]:a$(t)})}let a5=Symbol();function a3(e){return e.headers.get("content-type")?.split(";")[0]}async function a8(e,t,r,n,i){let a;if(aj(e),aM(t),!aa(n,Response))throw al('"response" must be an instance of Response',as);if(on(n),200!==n.status)throw av('"response" is not a conform UserInfo Endpoint response (unexpected HTTP status code)',oP,n);if(o$(n),"application/jwt"===a3(n)){let{claims:r,jwt:o}=await oD(await n.text(),oj.bind(void 0,t.userinfo_signed_response_alg,e.userinfo_signing_alg_values_supported,void 0),a$(t),aU(t),i?.[af]).then(oi.bind(void 0,t.client_id)).then(oo.bind(void 0,e));oe.set(n,o),a=r}else{if(t.userinfo_signed_response_alg)throw av("JWT UserInfo Response expected",oE,n);a=await oH(n)}if(aT(a.sub,'"response" body "sub" property',ox,{body:a}),r===a5);else if(aT(r,'"expectedSubject"'),a.sub!==r)throw av('unexpected "response" body "sub" property value',oC,{expected:r,body:a,attribute:"sub"});return a}async function a4(e,t,r,n,i,a,o){return await r(e,t,i,a),a.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),(o?.[ap]||fetch)(n.href,{body:i,headers:Object.fromEntries(a.entries()),method:"POST",redirect:"manual",signal:ax(n,o?.signal)})}async function a9(e,t,r,n,i,a){let o=aB(e,"token_endpoint",t.use_mtls_endpoint_aliases,a?.[ac]!==!0);i.set("grant_type",n);let s=aS(a?.headers);s.set("accept","application/json"),a?.DPoP!==void 0&&(a1(a.DPoP),await a.DPoP.addProof(o,s,"POST"));let l=await a4(e,t,r,o,i,s,a);return a?.DPoP?.cacheNonce(l,o),l}let a7=new WeakMap,oe=new WeakMap;function ot(e){if(!e.id_token)return;let t=a7.get(e);if(!t)throw al('"ref" was already garbage collected or did not resolve from the proper sources',ao);return t}async function or(e,t,r,n,i,a){if(aj(e),aM(t),!aa(r,Response))throw al('"response" must be an instance of Response',as);await a0(r,200,"Token Endpoint"),o$(r);let o=await oH(r);if(aT(o.access_token,'"response" body "access_token" property',ox,{body:o}),aT(o.token_type,'"response" body "token_type" property',ox,{body:o}),o.token_type=o.token_type.toLowerCase(),void 0!==o.expires_in){let e="number"!=typeof o.expires_in?parseFloat(o.expires_in):o.expires_in;aR(e,!0,'"response" body "expires_in" property',ox,{body:o}),o.expires_in=e}if(void 0!==o.refresh_token&&aT(o.refresh_token,'"response" body "refresh_token" property',ox,{body:o}),void 0!==o.scope&&"string"!=typeof o.scope)throw av('"response" body "scope" property must be a string',ox,{body:o});if(void 0!==o.id_token){aT(o.id_token,'"response" body "id_token" property',ox,{body:o});let a=["aud","exp","iat","iss","sub"];!0===t.require_auth_time&&a.push("auth_time"),void 0!==t.default_max_age&&(aR(t.default_max_age,!0,'"client.default_max_age"'),a.push("auth_time")),n?.length&&a.push(...n);let{claims:s,jwt:l}=await oD(o.id_token,oj.bind(void 0,t.id_token_signed_response_alg,e.id_token_signing_alg_values_supported,"RS256"),a$(t),aU(t),i).then(op.bind(void 0,a)).then(os.bind(void 0,e)).then(oa.bind(void 0,t.client_id));if(Array.isArray(s.aud)&&1!==s.aud.length){if(void 0===s.azp)throw av('ID Token "aud" (audience) claim includes additional untrusted audiences',oO,{claims:s,claim:"aud"});if(s.azp!==t.client_id)throw av('unexpected ID Token "azp" (authorized party) claim value',oO,{expected:t.client_id,claims:s,claim:"azp"})}void 0!==s.auth_time&&aR(s.auth_time,!0,'ID Token "auth_time" (authentication time)',ox,{claims:s}),oe.set(r,l),a7.set(o,s)}if(a?.[o.token_type]!==void 0)a[o.token_type](r,o);else if("dpop"!==o.token_type&&"bearer"!==o.token_type)throw new aw("unsupported `token_type` value",{cause:{body:o}});return o}function on(e){let t;if(t=function(e){if(!aa(e,Response))throw al('"response" must be an instance of Response',as);let t=e.headers.get("www-authenticate");if(null===t)return;let r=[],n=t;for(;n;){let e,t=n.match(aG),i=t?.["1"].toLowerCase();if(n=t?.["2"],!i)return;let a={};for(;n;){let r,i;if(t=n.match(aX)){if([,r,i,n]=t,i.includes("\\"))try{i=JSON.parse(`"${i}"`)}catch{}a[r.toLowerCase()]=i;continue}if(t=n.match(aQ)){[,r,i,n]=t,a[r.toLowerCase()]=i;continue}if(t=n.match(aY)){if(Object.keys(a).length)break;[,e,n]=t;break}return}let o={scheme:i,parameters:a};e&&(o.token68=e),r.push(o)}if(r.length)return r}(e))throw new aJ("server responded with a challenge in the WWW-Authenticate HTTP Header",{cause:t,response:e})}function oi(e,t){return void 0!==t.claims.aud?oa(e,t):t}function oa(e,t){if(Array.isArray(t.claims.aud)){if(!t.claims.aud.includes(e))throw av('unexpected JWT "aud" (audience) claim value',oO,{expected:e,claims:t.claims,claim:"aud"})}else if(t.claims.aud!==e)throw av('unexpected JWT "aud" (audience) claim value',oO,{expected:e,claims:t.claims,claim:"aud"});return t}function oo(e,t){return void 0!==t.claims.iss?os(e,t):t}function os(e,t){let r=e[oV]?.(t)??e.issuer;if(t.claims.iss!==r)throw av('unexpected JWT "iss" (issuer) claim value',oO,{expected:r,claims:t.claims,claim:"iss"});return t}let ol=new WeakSet,oc=Symbol();async function ou(e,t,r,n,i,a,o){if(aj(e),aM(t),!ol.has(n))throw al('"callbackParameters" must be an instance of URLSearchParams obtained from "validateAuthResponse()", or "validateJwtAuthResponse()',ao);aT(i,'"redirectUri"');let s=oM(n,"code");if(!s)throw av('no authorization code in "callbackParameters"',ox);let l=new URLSearchParams(o?.additionalParameters);return l.set("redirect_uri",i),l.set("code",s),a!==oc&&(aT(a,'"codeVerifier"'),l.set("code_verifier",a)),a9(e,t,r,"authorization_code",l,o)}let od={aud:"audience",c_hash:"code hash",client_id:"client id",exp:"expiration time",iat:"issued at",iss:"issuer",jti:"jwt id",nonce:"nonce",s_hash:"state hash",sub:"subject",ath:"access token hash",htm:"http method",htu:"http uri",cnf:"confirmation",auth_time:"authentication time"};function op(e,t){for(let r of e)if(void 0===t.claims[r])throw av(`JWT "${r}" (${od[r]}) claim missing`,ox,{claims:t.claims});return t}let oh=Symbol(),of=Symbol();async function og(e,t,r,n){return"string"==typeof n?.expectedNonce||"number"==typeof n?.maxAge||n?.requireIdToken?om(e,t,r,n.expectedNonce,n.maxAge,n[af],n.recognizedTokenTypes):oy(e,t,r,n?.[af],n?.recognizedTokenTypes)}async function om(e,t,r,n,i,a,o){let s=[];switch(n){case void 0:n=oh;break;case oh:break;default:aT(n,'"expectedNonce" argument'),s.push("nonce")}switch(i??=t.default_max_age){case void 0:i=of;break;case of:break;default:aR(i,!0,'"maxAge" argument'),s.push("auth_time")}let l=await or(e,t,r,s,a,o);aT(l.id_token,'"response" body "id_token" property',ox,{body:l});let c=ot(l);if(i!==of){let e=aD()+a$(t),r=aU(t);if(c.auth_time+i<e-r)throw av("too much time has elapsed since the last End-User authentication",oT,{claims:c,now:e,tolerance:r,claim:"auth_time"})}if(n===oh){if(void 0!==c.nonce)throw av('unexpected ID Token "nonce" claim value',oO,{expected:void 0,claims:c,claim:"nonce"})}else if(c.nonce!==n)throw av('unexpected ID Token "nonce" claim value',oO,{expected:n,claims:c,claim:"nonce"});return l}async function oy(e,t,r,n,i){let a=await or(e,t,r,void 0,n,i),o=ot(a);if(o){if(void 0!==t.default_max_age){aR(t.default_max_age,!0,'"client.default_max_age"');let e=aD()+a$(t),r=aU(t);if(o.auth_time+t.default_max_age<e-r)throw av("too much time has elapsed since the last End-User authentication",oT,{claims:o,now:e,tolerance:r,claim:"auth_time"})}if(void 0!==o.nonce)throw av('unexpected ID Token "nonce" claim value',oO,{expected:void 0,claims:o,claim:"nonce"})}return a}let ob="OAUTH_WWW_AUTHENTICATE_CHALLENGE",ow="OAUTH_RESPONSE_BODY_ERROR",o_="OAUTH_UNSUPPORTED_OPERATION",ov="OAUTH_AUTHORIZATION_RESPONSE_ERROR",oE="OAUTH_JWT_USERINFO_EXPECTED",oS="OAUTH_PARSE_ERROR",ox="OAUTH_INVALID_RESPONSE",ok="OAUTH_RESPONSE_IS_NOT_JSON",oP="OAUTH_RESPONSE_IS_NOT_CONFORM",oA="OAUTH_HTTP_REQUEST_FORBIDDEN",oR="OAUTH_REQUEST_PROTOCOL_FORBIDDEN",oT="OAUTH_JWT_TIMESTAMP_CHECK_FAILED",oO="OAUTH_JWT_CLAIM_COMPARISON_FAILED",oC="OAUTH_JSON_ATTRIBUTE_COMPARISON_FAILED",oN="OAUTH_MISSING_SERVER_METADATA",oI="OAUTH_INVALID_SERVER_METADATA";function o$(e){if(e.bodyUsed)throw al('"response" body has been used already',ao)}function oU(e){let{algorithm:t}=e;if("number"!=typeof t.modulusLength||t.modulusLength<2048)throw new aw(`unsupported ${t.name} modulusLength`,{cause:e})}async function oD(e,t,r,n,i){let a,o,{0:s,1:l,length:c}=e.split(".");if(5===c)if(void 0!==i)e=await i(e),{0:s,1:l,length:c}=e.split(".");else throw new aw("JWE decryption is not configured",{cause:e});if(3!==c)throw av("Invalid JWT",ox,e);try{a=JSON.parse(ay(ab(s)))}catch(e){throw av("failed to parse JWT Header body as base64url encoded JSON",oS,e)}if(!aE(a))throw av("JWT Header must be a top level object",ox,e);if(t(a),void 0!==a.crit)throw new aw('no JWT "crit" header parameter extensions are supported',{cause:{header:a}});try{o=JSON.parse(ay(ab(l)))}catch(e){throw av("failed to parse JWT Payload body as base64url encoded JSON",oS,e)}if(!aE(o))throw av("JWT Payload must be a top level object",ox,e);let u=aD()+r;if(void 0!==o.exp){if("number"!=typeof o.exp)throw av('unexpected JWT "exp" (expiration time) claim type',ox,{claims:o});if(o.exp<=u-n)throw av('unexpected JWT "exp" (expiration time) claim value, expiration is past current timestamp',oT,{claims:o,now:u,tolerance:n,claim:"exp"})}if(void 0!==o.iat&&"number"!=typeof o.iat)throw av('unexpected JWT "iat" (issued at) claim type',ox,{claims:o});if(void 0!==o.iss&&"string"!=typeof o.iss)throw av('unexpected JWT "iss" (issuer) claim type',ox,{claims:o});if(void 0!==o.nbf){if("number"!=typeof o.nbf)throw av('unexpected JWT "nbf" (not before) claim type',ox,{claims:o});if(o.nbf>u+n)throw av('unexpected JWT "nbf" (not before) claim value',oT,{claims:o,now:u,tolerance:n,claim:"nbf"})}if(void 0!==o.aud&&"string"!=typeof o.aud&&!Array.isArray(o.aud))throw av('unexpected JWT "aud" (audience) claim type',ox,{claims:o});return{header:a,claims:o,jwt:e}}function oj(e,t,r,n){if(void 0!==e){if("string"==typeof e?n.alg!==e:!e.includes(n.alg))throw av('unexpected JWT "alg" header parameter',ox,{header:n,expected:e,reason:"client configuration"});return}if(Array.isArray(t)){if(!t.includes(n.alg))throw av('unexpected JWT "alg" header parameter',ox,{header:n,expected:t,reason:"authorization server metadata"});return}if(void 0!==r){if("string"==typeof r?n.alg!==r:"function"==typeof r?!r(n.alg):!r.includes(n.alg))throw av('unexpected JWT "alg" header parameter',ox,{header:n,expected:r,reason:"default value"});return}throw av('missing client or server configuration to verify used JWT "alg" header parameter',void 0,{client:e,issuer:t,fallback:r})}function oM(e,t){let{0:r,length:n}=e.getAll(t);if(n>1)throw av(`"${t}" parameter must be provided only once`,ox);return r}let oL=Symbol(),oq=Symbol();async function oH(e,t=aC){let r;try{r=await e.json()}catch(r){throw t(e),av('failed to parse "response" body as JSON',oS,r)}if(!aE(r))throw av('"response" body must be a top level object',ox,{body:r});return r}let oF=Symbol(),oV=Symbol();async function oB(e,t,r){let{cookies:n,logger:i}=r,a=n[e],o=new Date;o.setTime(o.getTime()+9e5),i.debug(`CREATE_${e.toUpperCase()}`,{name:a.name,payload:t,COOKIE_TTL:900,expires:o});let s=await nE({...r.jwt,maxAge:900,token:{value:t},salt:a.name}),l={...a.options,expires:o};return{name:a.name,value:s,options:l}}async function oW(e,t,r){try{let{logger:n,cookies:i,jwt:a}=r;if(n.debug(`PARSE_${e.toUpperCase()}`,{cookie:t}),!t)throw new tp(`${e} cookie was missing`);let o=await nS({...a,token:t,salt:i[e].name});if(o?.value)return o.value;throw Error("Invalid cookie")}catch(t){throw new tp(`${e} value could not be parsed`,{cause:t})}}function oK(e,t,r){let{logger:n,cookies:i}=t,a=i[e];n.debug(`CLEAR_${e.toUpperCase()}`,{cookie:a}),r.push({name:a.name,value:"",options:{...i[e].options,maxAge:0}})}function oJ(e,t){return async function(r,n,i){let{provider:a,logger:o}=i;if(!a?.checks?.includes(e))return;let s=r?.[i.cookies[t].name];o.debug(`USE_${t.toUpperCase()}`,{value:s});let l=await oW(t,s,i);return oK(t,i,n),l}}let oz={async create(e){let t=aN(),r=await aI(t);return{cookie:await oB("pkceCodeVerifier",t,e),value:r}},use:oJ("pkce","pkceCodeVerifier")},oG="encodedState",oX={async create(e,t){let{provider:r}=e;if(!r.checks.includes("state")){if(t)throw new tp("State data was provided but the provider is not configured to use state");return}let n={origin:t,random:aN()},i=await nE({secret:e.jwt.secret,token:n,salt:oG,maxAge:900});return{cookie:await oB("state",i,e),value:i}},use:oJ("state","state"),async decode(e,t){try{t.logger.debug("DECODE_STATE",{state:e});let r=await nS({secret:t.jwt.secret,token:e,salt:oG});if(r)return r;throw Error("Invalid state")}catch(e){throw new tp("State could not be decoded",{cause:e})}}},oQ={async create(e){if(!e.provider.checks.includes("nonce"))return;let t=aN();return{cookie:await oB("nonce",t,e),value:t}},use:oJ("nonce","nonce")},oY="encodedWebauthnChallenge",oZ={create:async(e,t,r)=>({cookie:await oB("webauthnChallenge",await nE({secret:e.jwt.secret,token:{challenge:t,registerData:r},salt:oY,maxAge:900}),e)}),async use(e,t,r){let n=t?.[e.cookies.webauthnChallenge.name],i=await oW("webauthnChallenge",n,e),a=await nS({secret:e.jwt.secret,token:i,salt:oY});if(oK("webauthnChallenge",e,r),!a)throw new tp("WebAuthn challenge was missing");return a}};function o0(e){return encodeURIComponent(e).replace(/%20/g,"+")}async function o1(e,t,r){var n,i;let a,o,s,l,c,{logger:u,provider:d}=r,{token:p,userinfo:h}=d;if(p?.url&&"authjs.dev"!==p.url.host||h?.url&&"authjs.dev"!==h.url.host)a={issuer:d.issuer??"https://authjs.dev",token_endpoint:p?.url.toString(),userinfo_endpoint:h?.url.toString()};else{let e=new URL(d.issuer),t=await aA(e,{[ac]:!0,[ap]:d[nB]});if(!(a=await aO(e,t)).token_endpoint)throw TypeError("TODO: Authorization server did not provide a token endpoint.");if(!a.userinfo_endpoint)throw TypeError("TODO: Authorization server did not provide a userinfo endpoint.")}let f={client_id:d.clientId,...d.client};switch(f.token_endpoint_auth_method){case void 0:case"client_secret_basic":o=(e,t,r,n)=>{var i,a;let o,s,l;n.set("authorization",(i=d.clientId,a=d.clientSecret,o=o0(i),s=o0(a),l=btoa(`${o}:${s}`),`Basic ${l}`))};break;case"client_secret_post":aT(n=d.clientSecret,'"clientSecret"'),o=(e,t,r,i)=>{r.set("client_id",t.client_id),r.set("client_secret",n)};break;case"client_secret_jwt":aT(i=d.clientSecret,'"clientSecret"'),c=void 0,o=async(e,t,r,n)=>{l||=await crypto.subtle.importKey("raw",ay(i),{hash:"SHA-256",name:"HMAC"},!1,["sign"]);let a={alg:"HS256"},o=aL(e,t);c?.(a,o);let s=`${ab(ay(JSON.stringify(a)))}.${ab(ay(JSON.stringify(o)))}`,u=await crypto.subtle.sign(l.algorithm,l,ay(s));r.set("client_id",t.client_id),r.set("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),r.set("client_assertion",`${s}.${ab(new Uint8Array(u))}`)};break;case"private_key_jwt":o=function(e,t){let{key:r,kid:n}=e instanceof CryptoKey?{key:e}:e?.key instanceof CryptoKey?(void 0!==e.kid&&aT(e.kid,'"kid"'),{key:e.key,kid:e.kid}):{};var i='"clientPrivateKey.key"';if(!(r instanceof CryptoKey))throw al(`${i} must be a CryptoKey`,as);if("private"!==r.type)throw al(`${i} must be a private CryptoKey`,ao);return async(e,i,a,o)=>{let s={alg:function(e){switch(e.algorithm.name){case"RSA-PSS":switch(e.algorithm.hash.name){case"SHA-256":return"PS256";case"SHA-384":return"PS384";case"SHA-512":return"PS512";default:throw new aw("unsupported RsaHashedKeyAlgorithm hash name",{cause:e})}case"RSASSA-PKCS1-v1_5":switch(e.algorithm.hash.name){case"SHA-256":return"RS256";case"SHA-384":return"RS384";case"SHA-512":return"RS512";default:throw new aw("unsupported RsaHashedKeyAlgorithm hash name",{cause:e})}case"ECDSA":switch(e.algorithm.namedCurve){case"P-256":return"ES256";case"P-384":return"ES384";case"P-521":return"ES512";default:throw new aw("unsupported EcKeyAlgorithm namedCurve",{cause:e})}case"Ed25519":case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":return e.algorithm.name;case"EdDSA":return"Ed25519";default:throw new aw("unsupported CryptoKey algorithm name",{cause:e})}}(r),kid:n},l=aL(e,i);t?.[ah]?.(s,l),a.set("client_id",i.client_id),a.set("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),a.set("client_assertion",await aq(s,l,r))}}(d.token.clientPrivateKey,{[ah](e,t){t.aud=[a.issuer,a.token_endpoint]}});break;case"none":o=(e,t,r,n)=>{r.set("client_id",t.client_id)};break;default:throw Error("unsupported client authentication method")}let g=[],m=await oX.use(t,g,r);try{s=function(e,t,r,n){var i;if(aj(e),aM(t),r instanceof URL&&(r=r.searchParams),!(r instanceof URLSearchParams))throw al('"parameters" must be an instance of URLSearchParams, or URL',as);if(oM(r,"response"))throw av('"parameters" contains a JARM response, use validateJwtAuthResponse() instead of validateAuthResponse()',ox,{parameters:r});let a=oM(r,"iss"),o=oM(r,"state");if(!a&&e.authorization_response_iss_parameter_supported)throw av('response parameter "iss" (issuer) missing',ox,{parameters:r});if(a&&a!==e.issuer)throw av('unexpected "iss" (issuer) response parameter value',ox,{expected:e.issuer,parameters:r});switch(n){case void 0:case oq:if(void 0!==o)throw av('unexpected "state" response parameter encountered',ox,{expected:void 0,parameters:r});break;case oL:break;default:if(aT(n,'"expectedState" argument'),o!==n)throw av(void 0===o?'response parameter "state" missing':'unexpected "state" response parameter value',ox,{expected:n,parameters:r})}if(oM(r,"error"))throw new aK("authorization response from the server is an error",{cause:r});let s=oM(r,"id_token"),l=oM(r,"token");if(void 0!==s||void 0!==l)throw new aw("implicit and hybrid flows are not supported");return i=new URLSearchParams(r),ol.add(i),i}(a,f,new URLSearchParams(e),d.checks.includes("state")?m:oL)}catch(e){if(e instanceof aK){let t={providerId:d.id,...Object.fromEntries(e.cause.entries())};throw u.debug("OAuthCallbackError",t),new tw("OAuth Provider returned an error",t)}throw e}let y=await oz.use(t,g,r),b=d.callbackUrl;!r.isOnRedirectProxy&&d.redirectProxyUrl&&(b=d.redirectProxyUrl);let w=await ou(a,f,o,s,b,y??"decoy",{[ac]:!0,[ap]:(...e)=>(d.checks.includes("pkce")||e[1].body.delete("code_verifier"),(d[nB]??fetch)(...e))});d.token?.conform&&(w=await d.token.conform(w.clone())??w);let _={},v="oidc"===d.type;if(d[nW])switch(d.id){case"microsoft-entra-id":case"azure-ad":{let e=await w.clone().json();if(e.error){let t={providerId:d.id,...e};throw new tw(`OAuth Provider returned an error: ${e.error}`,t)}let{tid:t}=function(e){let t,r;if("string"!=typeof e)throw new t7("JWTs must use Compact JWS serialization, JWT must be a string");let{1:n,length:i}=e.split(".");if(5===i)throw new t7("Only JWTs using Compact JWS serialization can be decoded");if(3!==i)throw new t7("Invalid JWT");if(!n)throw new t7("JWTs must contain a payload");try{t=tZ(n)}catch{throw new t7("Failed to base64url decode the payload")}try{r=JSON.parse(tJ.decode(t))}catch{throw new t7("Failed to parse the decoded payload as JSON")}if(!rI(r))throw new t7("Invalid JWT Claims Set");return r}(e.id_token);if("string"==typeof t){let e=a.issuer?.match(/microsoftonline\.com\/(\w+)\/v2\.0/)?.[1]??"common",r=new URL(a.issuer.replace(e,t)),n=await aA(r,{[ap]:d[nB]});a=await aO(r,n)}}}let E=await og(a,f,w,{expectedNonce:await oQ.use(t,g,r),requireIdToken:v});if(v){let t=ot(E);if(_=t,d[nW]&&"apple"===d.id)try{_.user=JSON.parse(e?.user)}catch{}if(!1===d.idToken){let e=await a6(a,f,E.access_token,{[ap]:d[nB],[ac]:!0});_=await a8(a,f,t.sub,e)}}else if(h?.request){let e=await h.request({tokens:E,provider:d});e instanceof Object&&(_=e)}else if(h?.url){let e=await a6(a,f,E.access_token,{[ap]:d[nB],[ac]:!0});_=await e.json()}else throw TypeError("No userinfo endpoint configured");return E.expires_in&&(E.expires_at=Math.floor(Date.now()/1e3)+Number(E.expires_in)),{...await o2(_,d,E,u),profile:_,cookies:g}}async function o2(e,t,r,n){try{let n=await t.profile(e,r);return{user:{...n,id:crypto.randomUUID(),email:n.email?.toLowerCase()},account:{...r,provider:t.id,type:t.type,providerAccountId:n.id??crypto.randomUUID()}}}catch(r){n.debug("getProfile error details",e),n.error(new t_(r,{provider:t.id}))}}async function o6(e,t,r,n){let i=await o9(e,t,r),{cookie:a}=await oZ.create(e,i.challenge,r);return{status:200,cookies:[...n??[],a],body:{action:"register",options:i},headers:{"Content-Type":"application/json"}}}async function o5(e,t,r,n){let i=await o4(e,t,r),{cookie:a}=await oZ.create(e,i.challenge);return{status:200,cookies:[...n??[],a],body:{action:"authenticate",options:i},headers:{"Content-Type":"application/json"}}}async function o3(e,t,r){let n,{adapter:i,provider:a}=e,o=t.body&&"string"==typeof t.body.data?JSON.parse(t.body.data):void 0;if(!o||"object"!=typeof o||!("id"in o)||"string"!=typeof o.id)throw new tr("Invalid WebAuthn Authentication response");let s=st(se(o.id)),l=await i.getAuthenticator(s);if(!l)throw new tr(`WebAuthn authenticator not found in database: ${JSON.stringify({credentialID:s})}`);let{challenge:c}=await oZ.use(e,t.cookies,r);try{var u;let r=a.getRelayingParty(e,t);n=await a.simpleWebAuthn.verifyAuthenticationResponse({...a.verifyAuthenticationOptions,expectedChallenge:c,response:o,authenticator:{...u=l,credentialDeviceType:u.credentialDeviceType,transports:sr(u.transports),credentialID:se(u.credentialID),credentialPublicKey:se(u.credentialPublicKey)},expectedOrigin:r.origin,expectedRPID:r.id})}catch(e){throw new tN(e)}let{verified:d,authenticationInfo:p}=n;if(!d)throw new tN("WebAuthn authentication response could not be verified");try{let{newCounter:e}=p;await i.updateAuthenticatorCounter(l.credentialID,e)}catch(e){throw new ti(`Failed to update authenticator counter. This may cause future authentication attempts to fail. ${JSON.stringify({credentialID:s,oldCounter:l.counter,newCounter:p.newCounter})}`,e)}let h=await i.getAccount(l.providerAccountId,a.id);if(!h)throw new tr(`WebAuthn account not found in database: ${JSON.stringify({credentialID:s,providerAccountId:l.providerAccountId})}`);let f=await i.getUser(h.userId);if(!f)throw new tr(`WebAuthn user not found in database: ${JSON.stringify({credentialID:s,providerAccountId:l.providerAccountId,userID:h.userId})}`);return{account:h,user:f}}async function o8(e,t,r){var n;let i,{provider:a}=e,o=t.body&&"string"==typeof t.body.data?JSON.parse(t.body.data):void 0;if(!o||"object"!=typeof o||!("id"in o)||"string"!=typeof o.id)throw new tr("Invalid WebAuthn Registration response");let{challenge:s,registerData:l}=await oZ.use(e,t.cookies,r);if(!l)throw new tr("Missing user registration data in WebAuthn challenge cookie");try{let r=a.getRelayingParty(e,t);i=await a.simpleWebAuthn.verifyRegistrationResponse({...a.verifyRegistrationOptions,expectedChallenge:s,response:o,expectedOrigin:r.origin,expectedRPID:r.id})}catch(e){throw new tN(e)}if(!i.verified||!i.registrationInfo)throw new tN("WebAuthn registration response could not be verified");let c={providerAccountId:st(i.registrationInfo.credentialID),provider:e.provider.id,type:a.type},u={providerAccountId:c.providerAccountId,counter:i.registrationInfo.counter,credentialID:st(i.registrationInfo.credentialID),credentialPublicKey:st(i.registrationInfo.credentialPublicKey),credentialBackedUp:i.registrationInfo.credentialBackedUp,credentialDeviceType:i.registrationInfo.credentialDeviceType,transports:(n=o.response.transports,n?.join(","))};return{user:l,account:c,authenticator:u}}async function o4(e,t,r){let{provider:n,adapter:i}=e,a=r&&r.id?await i.listAuthenticatorsByUserId(r.id):null,o=n.getRelayingParty(e,t);return await n.simpleWebAuthn.generateAuthenticationOptions({...n.authenticationOptions,rpID:o.id,allowCredentials:a?.map(e=>({id:se(e.credentialID),type:"public-key",transports:sr(e.transports)}))})}async function o9(e,t,r){let{provider:n,adapter:i}=e,a=r.id?await i.listAuthenticatorsByUserId(r.id):null,o=nj(32),s=n.getRelayingParty(e,t);return await n.simpleWebAuthn.generateRegistrationOptions({...n.registrationOptions,userID:o,userName:r.email,userDisplayName:r.name??void 0,rpID:s.id,rpName:s.name,excludeCredentials:a?.map(e=>({id:se(e.credentialID),type:"public-key",transports:sr(e.transports)}))})}function o7(e){let{provider:t,adapter:r}=e;if(!r)throw new tf("An adapter is required for the WebAuthn provider");if(!t||"webauthn"!==t.type)throw new tk("Provider must be WebAuthn");return{...e,provider:t,adapter:r}}function se(e){return new Uint8Array(eL.Buffer.from(e,"base64"))}function st(e){return eL.Buffer.from(e).toString("base64")}function sr(e){return e?e.split(","):void 0}async function sn(e,t,r,n){if(!t.provider)throw new tk("Callback route called without provider");let{query:i,body:a,method:o,headers:s}=e,{provider:l,adapter:c,url:u,callbackUrl:d,pages:p,jwt:h,events:f,callbacks:g,session:{strategy:m,maxAge:y},logger:b}=t,w="jwt"===m;try{if("oauth"===l.type||"oidc"===l.type){let o,s=l.authorization?.url.searchParams.get("response_mode")==="form_post"?a:i;if(t.isOnRedirectProxy&&s?.state){let e=await oX.decode(s.state,t);if(e?.origin&&new URL(e.origin).origin!==t.url.origin){let t=`${e.origin}?${new URLSearchParams(s)}`;return b.debug("Proxy redirecting to",t),{redirect:t,cookies:n}}}let m=await o1(s,e.cookies,t);m.cookies.length&&n.push(...m.cookies),b.debug("authorization result",m);let{user:_,account:v,profile:E}=m;if(!_||!v||!E)return{redirect:`${u}/signin`,cookies:n};if(c){let{getUserByAccount:e}=c;o=await e({providerAccountId:v.providerAccountId,provider:l.id})}let S=await si({user:o??_,account:v,profile:E},t);if(S)return{redirect:S,cookies:n};let{user:x,session:k,isNewUser:P}=await ai(r.value,_,v,t);if(w){let e={name:x.name,email:x.email,picture:x.image,sub:x.id?.toString()},i=await g.jwt({token:e,user:x,account:v,profile:E,isNewUser:P,trigger:P?"signUp":"signIn"});if(null===i)n.push(...r.clean());else{let e=t.cookies.sessionToken.name,a=await h.encode({...h,token:i,salt:e}),o=new Date;o.setTime(o.getTime()+1e3*y);let s=r.chunk(a,{expires:o});n.push(...s)}}else n.push({name:t.cookies.sessionToken.name,value:k.sessionToken,options:{...t.cookies.sessionToken.options,expires:k.expires}});if(await f.signIn?.({user:x,account:v,profile:E,isNewUser:P}),P&&p.newUser)return{redirect:`${p.newUser}${p.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:d})}`,cookies:n};return{redirect:d,cookies:n}}if("email"===l.type){let e=i?.token,a=i?.email;if(!e){let t=TypeError("Missing token. The sign-in URL was manually opened without token or the link was not sent correctly in the email.",{cause:{hasToken:!!e}});throw t.name="Configuration",t}let o=l.secret??t.secret,s=await c.useVerificationToken({identifier:a,token:await nD(`${e}${o}`)}),u=!!s,m=u&&s.expires.valueOf()<Date.now();if(!u||m||a&&s.identifier!==a)throw new tA({hasInvite:u,expired:m});let{identifier:b}=s,_=await c.getUserByEmail(b)??{id:crypto.randomUUID(),email:b,emailVerified:null},v={providerAccountId:_.email,userId:_.id,type:"email",provider:l.id},E=await si({user:_,account:v},t);if(E)return{redirect:E,cookies:n};let{user:S,session:x,isNewUser:k}=await ai(r.value,_,v,t);if(w){let e={name:S.name,email:S.email,picture:S.image,sub:S.id?.toString()},i=await g.jwt({token:e,user:S,account:v,isNewUser:k,trigger:k?"signUp":"signIn"});if(null===i)n.push(...r.clean());else{let e=t.cookies.sessionToken.name,a=await h.encode({...h,token:i,salt:e}),o=new Date;o.setTime(o.getTime()+1e3*y);let s=r.chunk(a,{expires:o});n.push(...s)}}else n.push({name:t.cookies.sessionToken.name,value:x.sessionToken,options:{...t.cookies.sessionToken.options,expires:x.expires}});if(await f.signIn?.({user:S,account:v,isNewUser:k}),k&&p.newUser)return{redirect:`${p.newUser}${p.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:d})}`,cookies:n};return{redirect:d,cookies:n}}if("credentials"===l.type&&"POST"===o){let e=a??{};Object.entries(i??{}).forEach(([e,t])=>u.searchParams.set(e,t));let c=await l.authorize(e,new Request(u,{headers:s,method:o,body:JSON.stringify(a)}));if(c)c.id=c.id?.toString()??crypto.randomUUID();else throw new tu;let p={providerAccountId:c.id,type:"credentials",provider:l.id},m=await si({user:c,account:p,credentials:e},t);if(m)return{redirect:m,cookies:n};let b={name:c.name,email:c.email,picture:c.image,sub:c.id},w=await g.jwt({token:b,user:c,account:p,isNewUser:!1,trigger:"signIn"});if(null===w)n.push(...r.clean());else{let e=t.cookies.sessionToken.name,i=await h.encode({...h,token:w,salt:e}),a=new Date;a.setTime(a.getTime()+1e3*y);let o=r.chunk(i,{expires:a});n.push(...o)}return await f.signIn?.({user:c,account:p}),{redirect:d,cookies:n}}else if("webauthn"===l.type&&"POST"===o){let i,a,o,s=e.body?.action;if("string"!=typeof s||"authenticate"!==s&&"register"!==s)throw new tr("Invalid action parameter");let l=o7(t);switch(s){case"authenticate":{let t=await o3(l,e,n);i=t.user,a=t.account;break}case"register":{let r=await o8(t,e,n);i=r.user,a=r.account,o=r.authenticator}}await si({user:i,account:a},t);let{user:c,isNewUser:u,session:m,account:b}=await ai(r.value,i,a,t);if(!b)throw new tr("Error creating or finding account");if(o&&c.id&&await l.adapter.createAuthenticator({...o,userId:c.id}),w){let e={name:c.name,email:c.email,picture:c.image,sub:c.id?.toString()},i=await g.jwt({token:e,user:c,account:b,isNewUser:u,trigger:u?"signUp":"signIn"});if(null===i)n.push(...r.clean());else{let e=t.cookies.sessionToken.name,a=await h.encode({...h,token:i,salt:e}),o=new Date;o.setTime(o.getTime()+1e3*y);let s=r.chunk(a,{expires:o});n.push(...s)}}else n.push({name:t.cookies.sessionToken.name,value:m.sessionToken,options:{...t.cookies.sessionToken.options,expires:m.expires}});if(await f.signIn?.({user:c,account:b,isNewUser:u}),u&&p.newUser)return{redirect:`${p.newUser}${p.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:d})}`,cookies:n};return{redirect:d,cookies:n}}throw new tk(`Callback for provider type (${l.type}) is not supported`)}catch(t){if(t instanceof tr)throw t;let e=new to(t,{provider:l.id});throw b.debug("callback route error details",{method:o,query:i,body:a}),e}}async function si(e,t){let r,{signIn:n,redirect:i}=t.callbacks;try{r=await n(e)}catch(e){if(e instanceof tr)throw e;throw new ta(e)}if(!r)throw new ta("AccessDenied");if("string"==typeof r)return await i({url:r,baseUrl:t.url.origin})}async function sa(e,t,r,n,i){let{adapter:a,jwt:o,events:s,callbacks:l,logger:c,session:{strategy:u,maxAge:d}}=e,p={body:null,headers:{"Content-Type":"application/json",...!n&&{"Cache-Control":"private, no-cache, no-store",Expires:"0",Pragma:"no-cache"}},cookies:r},h=t.value;if(!h)return p;if("jwt"===u){try{let r=e.cookies.sessionToken.name,a=await o.decode({...o,token:h,salt:r});if(!a)throw Error("Invalid JWT");let c=await l.jwt({token:a,...n&&{trigger:"update"},session:i}),u=an(d);if(null!==c){let e={user:{name:c.name,email:c.email,image:c.picture},expires:u.toISOString()},n=await l.session({session:e,token:c});p.body=n;let i=await o.encode({...o,token:c,salt:r}),a=t.chunk(i,{expires:u});p.cookies?.push(...a),await s.session?.({session:n,token:c})}else p.cookies?.push(...t.clean())}catch(e){c.error(new th(e)),p.cookies?.push(...t.clean())}return p}try{let{getSessionAndUser:r,deleteSession:o,updateSession:c}=a,u=await r(h);if(u&&u.session.expires.valueOf()<Date.now()&&(await o(h),u=null),u){let{user:t,session:r}=u,a=e.session.updateAge,o=r.expires.valueOf()-1e3*d+1e3*a,f=an(d);o<=Date.now()&&await c({sessionToken:h,expires:f});let g=await l.session({session:{...r,user:t},user:t,newSession:i,...n?{trigger:"update"}:{}});p.body=g,p.cookies?.push({name:e.cookies.sessionToken.name,value:h,options:{...e.cookies.sessionToken.options,expires:f}}),await s.session?.({session:g})}else h&&p.cookies?.push(...t.clean())}catch(e){c.error(new tv(e))}return p}async function so(e,t){let r,n,{logger:i,provider:a}=t,o=a.authorization?.url;if(!o||"authjs.dev"===o.host){let e=new URL(a.issuer),t=await aA(e,{[ap]:a[nB],[ac]:!0}),r=await aO(e,t).catch(t=>{if(!(t instanceof TypeError)||"Invalid URL"!==t.message)throw t;throw TypeError(`Discovery request responded with an invalid issuer. expected: ${e}`)});if(!r.authorization_endpoint)throw TypeError("Authorization server did not provide an authorization endpoint.");o=new URL(r.authorization_endpoint)}let s=o.searchParams,l=a.callbackUrl;!t.isOnRedirectProxy&&a.redirectProxyUrl&&(l=a.redirectProxyUrl,n=a.callbackUrl,i.debug("using redirect proxy",{redirect_uri:l,data:n}));let c=Object.assign({response_type:"code",client_id:a.clientId,redirect_uri:l,...a.authorization?.params},Object.fromEntries(a.authorization?.url.searchParams??[]),e);for(let e in c)s.set(e,c[e]);let u=[];a.authorization?.url.searchParams.get("response_mode")==="form_post"&&(t.cookies.state.options.sameSite="none",t.cookies.state.options.secure=!0,t.cookies.nonce.options.sameSite="none",t.cookies.nonce.options.secure=!0);let d=await oX.create(t,n);if(d&&(s.set("state",d.value),u.push(d.cookie)),a.checks?.includes("pkce"))if(r&&!r.code_challenge_methods_supported?.includes("S256"))"oidc"===a.type&&(a.checks=["nonce"]);else{let{value:e,cookie:r}=await oz.create(t);s.set("code_challenge",e),s.set("code_challenge_method","S256"),u.push(r)}let p=await oQ.create(t);return p&&(s.set("nonce",p.value),u.push(p.cookie)),"oidc"!==a.type||o.searchParams.has("scope")||o.searchParams.set("scope","openid profile email"),i.debug("authorization url is ready",{url:o,cookies:u,provider:a}),{redirect:o.toString(),cookies:u}}async function ss(e,t){let r,{body:n}=e,{provider:i,callbacks:a,adapter:o}=t,s=(i.normalizeIdentifier??function(e){if(!e)throw Error("Missing email from request body.");let[t,r]=e.toLowerCase().trim().split("@");return r=r.split(",")[0],`${t}@${r}`})(n?.email),l={id:crypto.randomUUID(),email:s,emailVerified:null},c=await o.getUserByEmail(s)??l,u={providerAccountId:s,userId:c.id,type:"email",provider:i.id};try{r=await a.signIn({user:c,account:u,email:{verificationRequest:!0}})}catch(e){throw new ta(e)}if(!r)throw new ta("AccessDenied");if("string"==typeof r)return{redirect:await a.redirect({url:r,baseUrl:t.url.origin})};let{callbackUrl:d,theme:p}=t,h=await i.generateVerificationToken?.()??nj(32),f=new Date(Date.now()+(i.maxAge??86400)*1e3),g=i.secret??t.secret,m=new URL(t.basePath,t.url.origin),y=i.sendVerificationRequest({identifier:s,token:h,expires:f,url:`${m}/callback/${i.id}?${new URLSearchParams({callbackUrl:d,token:h,email:s})}`,provider:i,theme:p,request:new Request(e.url,{headers:e.headers,method:e.method,body:"POST"===e.method?JSON.stringify(e.body??{}):void 0})}),b=o.createVerificationToken?.({identifier:s,token:await nD(`${h}${g}`),expires:f});return await Promise.all([y,b]),{redirect:`${m}/verify-request?${new URLSearchParams({provider:i.id,type:i.type})}`}}async function sl(e,t,r){let n=`${r.url.origin}${r.basePath}/signin`;if(!r.provider)return{redirect:n,cookies:t};switch(r.provider.type){case"oauth":case"oidc":{let{redirect:n,cookies:i}=await so(e.query,r);return i&&t.push(...i),{redirect:n,cookies:t}}case"email":return{...await ss(e,r),cookies:t};default:return{redirect:n,cookies:t}}}async function sc(e,t,r){let{jwt:n,events:i,callbackUrl:a,logger:o,session:s}=r,l=t.value;if(!l)return{redirect:a,cookies:e};try{if("jwt"===s.strategy){let e=r.cookies.sessionToken.name,t=await n.decode({...n,token:l,salt:e});await i.signOut?.({token:t})}else{let e=await r.adapter?.deleteSession(l);await i.signOut?.({session:e})}}catch(e){o.error(new tE(e))}return e.push(...t.clean()),{redirect:a,cookies:e}}async function su(e,t){let{adapter:r,jwt:n,session:{strategy:i}}=e,a=t.value;if(!a)return null;if("jwt"===i){let t=e.cookies.sessionToken.name,r=await n.decode({...n,token:a,salt:t});if(r&&r.sub)return{id:r.sub,name:r.name,email:r.email,image:r.picture}}else{let e=await r?.getSessionAndUser(a);if(e)return e.user}return null}async function sd(e,t,r,n){let i=o7(t),{provider:a}=i,{action:o}=e.query??{};if("register"!==o&&"authenticate"!==o&&void 0!==o)return{status:400,body:{error:"Invalid action"},cookies:n,headers:{"Content-Type":"application/json"}};let s=await su(t,r),l=s?{user:s,exists:!0}:await a.getUserInfo(t,e),c=l?.user;switch(function(e,t,r){let{user:n,exists:i=!1}=r??{};switch(e){case"authenticate":return"authenticate";case"register":if(n&&t===i)return"register";break;case void 0:if(!t)if(!n)return"authenticate";else if(i)return"authenticate";else return"register"}return null}(o,!!s,l)){case"authenticate":return o5(i,e,c,n);case"register":if("string"==typeof c?.email)return o6(i,e,c,n);break;default:return{status:400,body:{error:"Invalid request"},cookies:n,headers:{"Content-Type":"application/json"}}}}async function sp(e,t){let{action:r,providerId:n,error:i,method:a}=e,o=t.skipCSRFCheck===nF,{options:s,cookies:l}=await nQ({authOptions:t,action:r,providerId:n,url:e.url,callbackUrl:e.body?.callbackUrl??e.query?.callbackUrl,csrfToken:e.body?.csrfToken,cookies:e.cookies,isPost:"POST"===a,csrfDisabled:o}),c=new tt(s.cookies.sessionToken,e.cookies,s.logger);if("GET"===a){let t=ar({...s,query:e.query,cookies:l});switch(r){case"callback":return await sn(e,s,c,l);case"csrf":return t.csrf(o,s,l);case"error":return t.error(i);case"providers":return t.providers(s.providers);case"session":return await sa(s,c,l);case"signin":return t.signin(n,i);case"signout":return t.signout();case"verify-request":return t.verifyRequest();case"webauthn-options":return await sd(e,s,c,l)}}else{let{csrfTokenVerified:t}=s;switch(r){case"callback":return"credentials"===s.provider.type&&nL(r,t),await sn(e,s,c,l);case"session":return nL(r,t),await sa(s,c,l,!0,e.body?.data);case"signin":return nL(r,t),await sl(e,l,s);case"signout":return nL(r,t),await sc(l,c,s)}}throw new tS(`Cannot handle action: ${r}`)}function sh(e,t,r,n,i){let a,o=i?.basePath,s=n.AUTH_URL??n.NEXTAUTH_URL;if(s)a=new URL(s),o&&"/"!==o&&"/"!==a.pathname&&(a.pathname!==o&&nT(i).warn("env-url-basepath-mismatch"),a.pathname="/");else{let e=r.get("x-forwarded-host")??r.get("host"),n=r.get("x-forwarded-proto")??t??"https",i=n.endsWith(":")?n:n+":";a=new URL(`${i}//${e}`)}let l=a.toString().replace(/\/$/,"");if(o){let t=o?.replace(/(^\/|\/$)/g,"")??"";return new URL(`${l}/${t}/${e}`)}return new URL(`${l}/${e}`)}async function sf(e,t){let r=nT(t),n=await n$(e,t);if(!n)return Response.json("Bad request.",{status:400});let i=function(e,t){let{url:r}=e,n=[];if(!tU&&t.debug&&n.push("debug-enabled"),!t.trustHost)return new tP(`Host must be trusted. URL was: ${e.url}`);if(!t.secret?.length)return new ty("Please define a `secret`");let i=e.query?.callbackUrl;if(i&&!tD(i,r.origin))return new tc(`Invalid callback URL. Received: ${i}`);let{callbackUrl:a}=te(t.useSecureCookies??"https:"===r.protocol),o=e.cookies?.[t.cookies?.callbackUrl?.name??a.name];if(o&&!tD(o,r.origin))return new tc(`Invalid callback URL. Received: ${o}`);let s=!1;for(let e of t.providers){let t="function"==typeof e?e():e;if(("oauth"===t.type||"oidc"===t.type)&&!(t.issuer??t.options?.issuer)){let e,{authorization:r,token:n,userinfo:i}=t;if("string"==typeof r||r?.url?"string"==typeof n||n?.url?"string"==typeof i||i?.url||(e="userinfo"):e="token":e="authorization",e)return new td(`Provider "${t.id}" is missing both \`issuer\` and \`${e}\` endpoint config. At least one of them is required`)}if("credentials"===t.type)tj=!0;else if("email"===t.type)tM=!0;else if("webauthn"===t.type){var l;if(tL=!0,t.simpleWebAuthnBrowserVersion&&(l=t.simpleWebAuthnBrowserVersion,!/^v\d+(?:\.\d+){0,2}$/.test(l)))return new tr(`Invalid provider config for "${t.id}": simpleWebAuthnBrowserVersion "${t.simpleWebAuthnBrowserVersion}" must be a valid semver string.`);if(t.enableConditionalUI){if(s)return new tO("Multiple webauthn providers have 'enableConditionalUI' set to True. Only one provider can have this option enabled at a time");if(s=!0,!Object.values(t.formFields).some(e=>e.autocomplete&&e.autocomplete.toString().indexOf("webauthn")>-1))return new tC(`Provider "${t.id}" has 'enableConditionalUI' set to True, but none of its formFields have 'webauthn' in their autocomplete param`)}}}if(tj){let e=t.session?.strategy==="database",r=!t.providers.some(e=>"credentials"!==("function"==typeof e?e():e).type);if(e&&r)return new tx("Signing in with credentials only supported if JWT strategy is enabled");if(t.providers.some(e=>{let t="function"==typeof e?e():e;return"credentials"===t.type&&!t.authorize}))return new tm("Must define an authorize() handler to use credentials authentication provider")}let{adapter:c,session:u}=t,d=[];if(tM||u?.strategy==="database"||!u?.strategy&&c)if(tM){if(!c)return new tf("Email login requires an adapter");d.push(...tq)}else{if(!c)return new tf("Database session requires an adapter");d.push(...tH)}if(tL){if(!t.experimental?.enableWebAuthn)return new t$("WebAuthn is an experimental feature. To enable it, set `experimental.enableWebAuthn` to `true` in your config");if(n.push("experimental-webauthn"),!c)return new tf("WebAuthn requires an adapter");d.push(...tF)}if(c){let e=d.filter(e=>!(e in c));if(e.length)return new tg(`Required adapter methods were missing: ${e.join(", ")}`)}return tU||(tU=!0),n}(n,t);if(Array.isArray(i))i.forEach(r.warn);else if(i){if(r.error(i),!new Set(["signin","signout","error","verify-request"]).has(n.action)||"GET"!==n.method)return Response.json({message:"There was a problem with the server configuration. Check the server logs for more information."},{status:500});let{pages:e,theme:a}=t,o=e?.error&&n.url.searchParams.get("callbackUrl")?.startsWith(e.error);if(!e?.error||o)return o&&r.error(new ts(`The error page ${e?.error} should not require authentication`)),nU(ar({theme:a}).error("Configuration"));let s=`${n.url.origin}${e.error}?error=Configuration`;return Response.redirect(s)}let a=e.headers?.has("X-Auth-Return-Redirect"),o=t.raw===nV;try{let e=await sp(n,t);if(o)return e;let r=nU(e),i=r.headers.get("Location");if(!a||!i)return r;return Response.json({url:i},{headers:r.headers})}catch(d){r.error(d);let i=d instanceof tr;if(i&&o&&!a)throw d;if("POST"===e.method&&"session"===n.action)return Response.json(null,{status:400});let s=new URLSearchParams({error:d instanceof tr&&tT.has(d.type)?d.type:"Configuration"});d instanceof tu&&s.set("code",d.code);let l=i&&d.kind||"error",c=t.pages?.[l]??`${t.basePath}/${l.toLowerCase()}`,u=`${n.url.origin}${c}?${s}`;if(a)return Response.json({url:u});return Response.redirect(u)}}e.i(64445),"undefined"==typeof URLPattern||URLPattern;var sg=e.i(63072),sm=e.i(80082),sy=e.i(51564);function sb(){let e=eG.getStore();return(null==e?void 0:e.rootTaskSpawnPhase)==="action"}function sw(e){let t=process.env.AUTH_URL??process.env.NEXTAUTH_URL;if(!t)return e;let{origin:r}=new URL(t),{href:n,origin:i}=e.nextUrl;return new H(n.replace(i,r),e)}function s_(e){try{e.secret??(e.secret=process.env.AUTH_SECRET??process.env.NEXTAUTH_SECRET);let t=process.env.AUTH_URL??process.env.NEXTAUTH_URL;if(!t)return;let{pathname:r}=new URL(t);if("/"===r)return;e.basePath||(e.basePath=r)}catch{}finally{e.basePath||(e.basePath="/api/auth"),function(e,t,r=!1){try{let n=e.AUTH_URL;n&&(t.basePath?r||nT(t).warn("env-url-basepath-redundant"):t.basePath=new URL(n).pathname)}catch{}finally{t.basePath??(t.basePath="/auth")}if(!t.secret?.length){t.secret=[];let r=e.AUTH_SECRET;for(let n of(r&&t.secret.push(r),[1,2,3])){let r=e[`AUTH_SECRET_${n}`];r&&t.secret.unshift(r)}}t.redirectProxyUrl??(t.redirectProxyUrl=e.AUTH_REDIRECT_PROXY_URL),t.trustHost??(t.trustHost=!!(e.AUTH_URL??e.AUTH_TRUST_HOST??e.VERCEL??e.CF_PAGES??"production"!==e.NODE_ENV)),t.providers=t.providers.map(t=>{let{id:r}="function"==typeof t?t({}):t,n=r.toUpperCase().replace(/-/g,"_"),i=e[`AUTH_${n}_ID`],a=e[`AUTH_${n}_SECRET`],o=e[`AUTH_${n}_ISSUER`],s=e[`AUTH_${n}_KEY`],l="function"==typeof t?t({clientId:i,clientSecret:a,issuer:o,apiKey:s}):t;return"oauth"===l.type||"oidc"===l.type?(l.clientId??(l.clientId=i),l.clientSecret??(l.clientSecret=a),l.issuer??(l.issuer=o)):"email"===l.type&&(l.apiKey??(l.apiKey=s)),l})}(process.env,e,!0)}}e.i(38174),e.s([],85835),e.i(85835);var sv=e.i(40049);let sE={current:null},sS="function"==typeof sv.cache?sv.cache:e=>e,sx=console.warn;function sk(e){return function(...t){sx(e(...t))}}function sP(){let e="cookies",t=Q.workAsyncStorage.getStore(),r=eD.workUnitAsyncStorage.getStore();if(t){if(r&&"after"===r.phase&&!sb())throw Object.defineProperty(Error(`Route ${t.route} used \`cookies()\` inside \`after()\`. This is not supported. If you need this data inside an \`after()\` callback, use \`cookies()\` outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E843",enumerable:!1,configurable:!0});if(t.forceStatic)return sR(Z.seal(new L.RequestCookies(new Headers({}))));if(t.dynamicShouldError)throw Object.defineProperty(new sm.StaticGenBailoutError(`Route ${t.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`cookies()\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E849",enumerable:!1,configurable:!0});if(r)switch(r.type){case"cache":let a=Object.defineProperty(Error(`Route ${t.route} used \`cookies()\` inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \`cookies()\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E831",enumerable:!1,configurable:!0});throw Error.captureStackTrace(a,sP),t.invalidDynamicUsageError??=a,a;case"unstable-cache":throw Object.defineProperty(Error(`Route ${t.route} used \`cookies()\` inside a function cached with \`unstable_cache()\`. Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \`cookies()\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E846",enumerable:!1,configurable:!0});case"prerender":var n=t,i=r;let o=sA.get(i);if(o)return o;let s=(0,sy.makeHangingPromise)(i.renderSignal,n.route,"`cookies()`");return sA.set(i,s),s;case"prerender-client":let l="`cookies`";throw Object.defineProperty(new eM.InvariantError(`${l} must not be used within a Client Component. Next.js should be preventing ${l} from being included in Client Components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E832",enumerable:!1,configurable:!0});case"prerender-ppr":return(0,sg.postponeWithTracking)(t.route,e,r.dynamicTracking);case"prerender-legacy":return(0,sg.throwToInterruptStaticGeneration)(e,t,r);case"prerender-runtime":return(0,sg.delayUntilRuntimeStage)(r,sR(r.cookies));case"private-cache":return sR(r.cookies);case"request":return(0,sg.trackDynamicDataInDynamicRender)(r),sR(er(r)?r.userspaceMutableCookies:r.cookies)}}(0,eU.throwForMissingRequestStore)(e)}sS(e=>{try{sx(sE.current)}finally{sE.current=null}});let sA=new WeakMap;function sR(e){let t=sA.get(e);if(t)return t;let r=Promise.resolve(e);return sA.set(e,r),r}function sT(){let e="headers",t=Q.workAsyncStorage.getStore(),r=eD.workUnitAsyncStorage.getStore();if(t){if(r&&"after"===r.phase&&!sb())throw Object.defineProperty(Error(`Route ${t.route} used \`headers()\` inside \`after()\`. This is not supported. If you need this data inside an \`after()\` callback, use \`headers()\` outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E839",enumerable:!1,configurable:!0});if(t.forceStatic)return sC(X.seal(new Headers({})));if(r)switch(r.type){case"cache":{let e=Object.defineProperty(Error(`Route ${t.route} used \`headers()\` inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \`headers()\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E833",enumerable:!1,configurable:!0});throw Error.captureStackTrace(e,sT),t.invalidDynamicUsageError??=e,e}case"unstable-cache":throw Object.defineProperty(Error(`Route ${t.route} used \`headers()\` inside a function cached with \`unstable_cache()\`. Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \`headers()\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E838",enumerable:!1,configurable:!0})}if(t.dynamicShouldError)throw Object.defineProperty(new sm.StaticGenBailoutError(`Route ${t.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`headers()\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E828",enumerable:!1,configurable:!0});if(r)switch(r.type){case"prerender":var n=t,i=r;let a=sO.get(i);if(a)return a;let o=(0,sy.makeHangingPromise)(i.renderSignal,n.route,"`headers()`");return sO.set(i,o),o;case"prerender-client":let s="`headers`";throw Object.defineProperty(new eM.InvariantError(`${s} must not be used within a client component. Next.js should be preventing ${s} from being included in client components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E693",enumerable:!1,configurable:!0});case"prerender-ppr":return(0,sg.postponeWithTracking)(t.route,e,r.dynamicTracking);case"prerender-legacy":return(0,sg.throwToInterruptStaticGeneration)(e,t,r);case"prerender-runtime":return(0,sg.delayUntilRuntimeStage)(r,sC(r.headers));case"private-cache":return sC(r.headers);case"request":return(0,sg.trackDynamicDataInDynamicRender)(r),sC(r.headers)}}(0,eU.throwForMissingRequestStore)(e)}sk(function(e,t){let r=e?`Route "${e}" `:"This route ";return Object.defineProperty(Error(`${r}used ${t}. \`cookies()\` returns a Promise and must be unwrapped with \`await\` or \`React.use()\` before accessing its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E830",enumerable:!1,configurable:!0})});let sO=new WeakMap;function sC(e){let t=sO.get(e);if(t)return t;let r=Promise.resolve(e);return sO.set(e,r),r}async function sN(e,t){return sf(new Request(sh("session",e.get("x-forwarded-proto"),e,process.env,t),{headers:{cookie:e.get("cookie")??""}}),{...t,callbacks:{...t.callbacks,async session(...e){let r=await t.callbacks?.session?.(...e)??{...e[0].session,expires:e[0].session.expires?.toISOString?.()??e[0].session.expires};return{user:e[0].user??e[0].token,...r}}}})}function sI(e){return"function"==typeof e}function s$(e,t){return"function"==typeof e?async(...r)=>{if(!r.length){let r=await sT(),n=await e(void 0);return t?.(n),sN(r,n).then(e=>e.json())}if(r[0]instanceof Request){let n=r[0],i=r[1],a=await e(n);return t?.(a),sU([n,i],a)}if(sI(r[0])){let n=r[0];return async(...r)=>{let i=await e(r[0]);return t?.(i),sU(r,i,n)}}let n="req"in r[0]?r[0].req:r[0],i="res"in r[0]?r[0].res:r[1],a=await e(n);return t?.(a),sN(new Headers(n.headers),a).then(async e=>{let t=await e.json();for(let t of e.headers.getSetCookie())"headers"in i?i.headers.append("set-cookie",t):i.appendHeader("set-cookie",t);return t})}:(...t)=>{if(!t.length)return Promise.resolve(sT()).then(t=>sN(t,e).then(e=>e.json()));if(t[0]instanceof Request)return sU([t[0],t[1]],e);if(sI(t[0])){let r=t[0];return async(...t)=>sU(t,e,r).then(e=>e)}let r="req"in t[0]?t[0].req:t[0],n="res"in t[0]?t[0].res:t[1];return sN(new Headers(r.headers),e).then(async e=>{let t=await e.json();for(let t of e.headers.getSetCookie())"headers"in n?n.headers.append("set-cookie",t):n.appendHeader("set-cookie",t);return t})}}async function sU(e,t,r){let n=sw(e[0]),i=await sN(n.headers,t),a=await i.json(),o=!0;t.callbacks?.authorized&&(o=await t.callbacks.authorized({request:n,auth:a}));let s=K.next?.();if(o instanceof Response){var l,c,u;let e,r;s=o;let i=o.headers.get("Location"),{pathname:a}=n.nextUrl;i&&(l=a,c=new URL(i).pathname,u=t,e=c.replace(`${l}/`,""),r=Object.values(u.pages??{}),(sD.has(e)||r.includes(c))&&c===l)&&(o=!0)}else if(r)n.auth=a,s=await r(n,e[1])??K.next();else if(!o){let e=t.pages?.signIn??`${t.basePath}/signin`;if(n.nextUrl.pathname!==e){let t=n.nextUrl.clone();t.pathname=e,t.searchParams.set("callbackUrl",n.nextUrl.href),s=K.redirect(t)}}let d=new Response(s?.body,s);for(let e of i.headers.getSetCookie())d.headers.append("set-cookie",e);return d}sk(function(e,t){let r=e?`Route "${e}" `:"This route ";return Object.defineProperty(Error(`${r}used ${t}. \`headers()\` returns a Promise and must be unwrapped with \`await\` or \`React.use()\` before accessing its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E836",enumerable:!1,configurable:!0})}),e.i(18368),new WeakMap,sk(function(e,t){let r=e?`Route "${e}" `:"This route ";return Object.defineProperty(Error(`${r}used ${t}. \`draftMode()\` returns a Promise and must be unwrapped with \`await\` or \`React.use()\` before accessing its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E835",enumerable:!1,configurable:!0})});let sD=new Set(["providers","session","csrf","signin","signout","callback","verify-request","error"]);URLSearchParams;var sj=e.i(16852),sM=e.i(75982);let sL=e.r(91375).actionAsyncStorage;function sq(e,t){throw function(e,t,r=sj.RedirectStatusCode.TemporaryRedirect){let n=Object.defineProperty(Error(sM.REDIRECT_ERROR_CODE),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return n.digest=`${sM.REDIRECT_ERROR_CODE};${t};${e};${r};`,n}(e,t??=sL?.getStore()?.isAction?sM.RedirectType.push:sM.RedirectType.replace,sj.RedirectStatusCode.TemporaryRedirect)}var sH=e.i(68585);function sF(){throw Object.defineProperty(Error("`unstable_isUnrecognizedActionError` can only be used on the client."),"__NEXT_ERROR_CODE",{value:"E776",enumerable:!1,configurable:!0})}async function sV(e,t={},r,n){let i=new Headers(await sT()),{redirect:a=!0,redirectTo:o,...s}=t instanceof FormData?Object.fromEntries(t):t,l=o?.toString()??i.get("Referer")??"/",c=sh("signin",i.get("x-forwarded-proto"),i,process.env,n);if(!e)return c.searchParams.append("callbackUrl",l),a&&sq(c.toString()),c.toString();let u=`${c}/${e}?${new URLSearchParams(r)}`,d={};for(let t of n.providers){let{options:r,...n}="function"==typeof t?t():t,i=r?.id??n.id;if(i===e){d={id:i,type:r?.type??n.type};break}}if(!d.id){let e=`${c}?${new URLSearchParams({callbackUrl:l})}`;return a&&sq(e),e}"credentials"===d.type&&(u=u.replace("signin","callback")),i.set("Content-Type","application/x-www-form-urlencoded");let p=new Request(u,{method:"POST",headers:i,body:new URLSearchParams({...s,callbackUrl:l})}),h=await sf(p,{...n,raw:nV,skipCSRFCheck:nF}),f=await sP();for(let e of h?.cookies??[])f.set(e.name,e.value,e.options);let g=(h instanceof Response?h.headers.get("Location"):h.redirect)??u;return a?sq(g):g}async function sB(e,t){let r=new Headers(await sT());r.set("Content-Type","application/x-www-form-urlencoded");let n=sh("signout",r.get("x-forwarded-proto"),r,process.env,t),i=new URLSearchParams({callbackUrl:e?.redirectTo??r.get("Referer")??"/"}),a=new Request(n,{method:"POST",headers:r,body:i}),o=await sf(a,{...t,raw:nV,skipCSRFCheck:nF}),s=await sP();for(let e of o?.cookies??[])s.set(e.name,e.value,e.options);return e?.redirect??!0?sq(o.redirect):o}async function sW(e,t){let r=new Headers(await sT());r.set("Content-Type","application/json");let n=new Request(sh("session",r.get("x-forwarded-proto"),r,process.env,t),{method:"POST",headers:r,body:JSON.stringify({data:e})}),i=await sf(n,{...t,raw:nV,skipCSRFCheck:nF}),a=await sP();for(let e of i?.cookies??[])a.set(e.name,e.value,e.options);return i.body}sH.HTTP_ERROR_FALLBACK_ERROR_CODE,sH.HTTP_ERROR_FALLBACK_ERROR_CODE,sH.HTTP_ERROR_FALLBACK_ERROR_CODE,e.r(82748).unstable_rethrow,e.s(["unstable_isUnrecognizedActionError",()=>sF],55493),e.i(55493);var sK=e.i(3466);let sJ=globalThis.prisma??new sK.PrismaClient;var sz=e.i(31878);let{handlers:sG,auth:sX,signIn:sQ,signOut:sY}=function(e){if("function"==typeof e){let t=async t=>{let r=await e(t);return s_(r),sf(sw(t),r)};return{handlers:{GET:t,POST:t},auth:s$(e,e=>s_(e)),signIn:async(t,r,n)=>{let i=await e(void 0);return s_(i),sV(t,r,n,i)},signOut:async t=>{let r=await e(void 0);return s_(r),sB(t,r)},unstable_update:async t=>{let r=await e(void 0);return s_(r),sW(t,r)}}}s_(e);let t=t=>sf(sw(t),e);return{handlers:{GET:t,POST:t},auth:s$(e),signIn:(t,r,n)=>sV(t,r,n,e),signOut:t=>sB(t,e),unstable_update:t=>sW(t,e)}}({providers:[{id:"credentials",name:"Credentials",type:"credentials",credentials:{},authorize:()=>null,options:{name:"Credentials",credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"}},async authorize(e){if(!e?.email||!e?.password)return null;let t=await sJ.user.findUnique({where:{email:e.email},include:{branch:!0}});return t&&await sz.compare(e.password,t.password)?{id:t.id,email:t.email,name:t.name,role:t.role,branchId:t.branchId}:null}}}],callbacks:{jwt:async({token:e,user:t})=>(t&&(e.role=t.role,e.branchId=t.branchId),e),session:async({session:e,token:t})=>(e?.user&&(e.user.id=t.sub,e.user.role=t.role,e.user.branchId=t.branchId),e)},pages:{signIn:"/auth/login"},session:{strategy:"jwt"}}),sZ=sX(e=>{let{pathname:t}=e.nextUrl,r=!!e.auth;return t.startsWith("/admin")&&!r?K.redirect(new URL("/auth/login",e.url)):K.next()});e.s(["config",0,{matcher:["/((?!api|_next/static|_next/image|favicon.ico).*)"]},"default",0,sZ],33022);var s0=e.i(33022);e.i(96588);let s1={...s0},s2="/middleware",s6=s1.middleware||s1.default;if("function"!=typeof s6)throw new class extends Error{constructor(e){super(e),this.stack=""}}(`The Middleware file "${s2}" must export a function named \`middleware\` or a default function.`);function s5(e){return e4({...e,page:s2,handler:async(...e)=>{try{return await s6(...e)}catch(i){let t=e[0],r=new URL(t.url),n=r.pathname+r.search;throw await d(i,{path:n,method:t.method,headers:Object.fromEntries(t.headers.entries())},{routerKind:"Pages Router",routePath:"/proxy",routeType:"proxy",revalidateReason:void 0}),i}}})}e.s(["default",()=>s5],58217)}]);

//# sourceMappingURL=%5Broot-of-the-server%5D__32795cb1._.js.map